(()=>{var e={371:e=>{
/*! cornerstone-core - 2.3.0 - 2019-07-03 | (c) 2016 Chris Hafey | https://github.com/cornerstonejs/cornerstone */
var t;window,t=function(){return function(e){var t=window.webpackHotUpdate;window.webpackHotUpdate=function(e,r){!function(e,t){if(b[e]&&y[e]){for(var r in y[e]=!1,t)Object.prototype.hasOwnProperty.call(t,r)&&(p[r]=t[r]);0==--v&&0===_&&j()}}(e,r),t&&t(e,r)};var r,n=!0,a="f1fc9ee2018efa87b506",i={},o=[],s=[];function u(e){var t=A[e];if(!t)return T;var n=function(n){return t.hot.active?(A[n]?-1===A[n].parents.indexOf(e)&&A[n].parents.push(e):(o=[e],r=n),-1===t.children.indexOf(n)&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),o=[]),T(n)},a=function(e){return{configurable:!0,enumerable:!0,get:function(){return T[e]},set:function(t){T[e]=t}}};for(var i in T)Object.prototype.hasOwnProperty.call(T,i)&&"e"!==i&&"t"!==i&&Object.defineProperty(n,i,a(i));return n.e=function(e){return"ready"===c&&d("prepare"),_++,T.e(e).then(t,(function(e){throw t(),e}));function t(){_--,"prepare"===c&&(m[e]||x(e),0===_&&0===v&&j())}},n.t=function(e,t){return 1&t&&(e=n(e)),T.t(e,-2&t)},n}function l(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:r!==e,active:!0,accept:function(e,r){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._acceptedDependencies[e[n]]=r||function(){};else t._acceptedDependencies[e]=r||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._declinedDependencies[e[r]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var r=t._disposeHandlers.indexOf(e);r>=0&&t._disposeHandlers.splice(r,1)},check:E,apply:I,status:function(e){if(!e)return c;f.push(e)},addStatusHandler:function(e){f.push(e)},removeStatusHandler:function(e){var t=f.indexOf(e);t>=0&&f.splice(t,1)},data:i[e]};return r=void 0,t}var f=[],c="idle";function d(e){c=e;for(var t=0;t<f.length;t++)f[t].call(null,e)}var h,p,g,v=0,_=0,m={},y={},b={};function w(e){return+e+""===e?+e:e}function E(e){if("idle"!==c)throw new Error("check() is only allowed in idle status");return n=e,d("check"),(t=1e4,t=t||1e4,new Promise((function(e,r){if("undefined"==typeof XMLHttpRequest)return r(new Error("No browser support"));try{var n=new XMLHttpRequest,i=T.p+""+a+".hot-update.json";n.open("GET",i,!0),n.timeout=t,n.send(null)}catch(e){return r(e)}n.onreadystatechange=function(){if(4===n.readyState)if(0===n.status)r(new Error("Manifest request to "+i+" timed out."));else if(404===n.status)e();else if(200!==n.status&&304!==n.status)r(new Error("Manifest request to "+i+" failed."));else{try{var t=JSON.parse(n.responseText)}catch(e){return void r(e)}e(t)}}}))).then((function(e){if(!e)return d("idle"),null;y={},m={},b=e.c,g=e.h,d("prepare");var t=new Promise((function(e,t){h={resolve:e,reject:t}}));return p={},x("cornerstone"),"prepare"===c&&0===_&&0===v&&j(),t}));var t}function x(e){b[e]?(y[e]=!0,v++,function(e){var t=document.getElementsByTagName("head")[0],r=document.createElement("script");r.charset="utf-8",r.src=T.p+""+e+"."+a+".hot-update.js",t.appendChild(r)}(e)):m[e]=!0}function j(){d("ready");var e=h;if(h=null,e)if(n)Promise.resolve().then((function(){return I(n)})).then((function(t){e.resolve(t)}),(function(t){e.reject(t)}));else{var t=[];for(var r in p)Object.prototype.hasOwnProperty.call(p,r)&&t.push(w(r));e.resolve(t)}}function I(t){if("ready"!==c)throw new Error("apply() is only allowed in ready status");var r,n,s,u,l;function f(e){for(var t=[e],r={},n=t.slice().map((function(e){return{chain:[e],id:e}}));n.length>0;){var a=n.pop(),i=a.id,o=a.chain;if((u=A[i])&&!u.hot._selfAccepted){if(u.hot._selfDeclined)return{type:"self-declined",chain:o,moduleId:i};if(u.hot._main)return{type:"unaccepted",chain:o,moduleId:i};for(var s=0;s<u.parents.length;s++){var l=u.parents[s],f=A[l];if(f){if(f.hot._declinedDependencies[i])return{type:"declined",chain:o.concat([l]),moduleId:i,parentId:l};-1===t.indexOf(l)&&(f.hot._acceptedDependencies[i]?(r[l]||(r[l]=[]),h(r[l],[i])):(delete r[l],t.push(l),n.push({chain:o.concat([l]),id:l})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:r}}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];-1===e.indexOf(n)&&e.push(n)}}t=t||{};var v={},_=[],m={},y=function(){console.warn("[HMR] unexpected require("+x.moduleId+") to disposed module")};for(var E in p)if(Object.prototype.hasOwnProperty.call(p,E)){var x;l=w(E);var j=!1,I=!1,S=!1,k="";switch((x=p[E]?f(l):{type:"disposed",moduleId:E}).chain&&(k="\nUpdate propagation: "+x.chain.join(" -> ")),x.type){case"self-declined":t.onDeclined&&t.onDeclined(x),t.ignoreDeclined||(j=new Error("Aborted because of self decline: "+x.moduleId+k));break;case"declined":t.onDeclined&&t.onDeclined(x),t.ignoreDeclined||(j=new Error("Aborted because of declined dependency: "+x.moduleId+" in "+x.parentId+k));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(x),t.ignoreUnaccepted||(j=new Error("Aborted because "+l+" is not accepted"+k));break;case"accepted":t.onAccepted&&t.onAccepted(x),I=!0;break;case"disposed":t.onDisposed&&t.onDisposed(x),S=!0;break;default:throw new Error("Unexception type "+x.type)}if(j)return d("abort"),Promise.reject(j);if(I)for(l in m[l]=p[l],h(_,x.outdatedModules),x.outdatedDependencies)Object.prototype.hasOwnProperty.call(x.outdatedDependencies,l)&&(v[l]||(v[l]=[]),h(v[l],x.outdatedDependencies[l]));S&&(h(_,[x.moduleId]),m[l]=y)}var P,O=[];for(n=0;n<_.length;n++)l=_[n],A[l]&&A[l].hot._selfAccepted&&O.push({module:l,errorHandler:A[l].hot._selfAccepted});d("dispose"),Object.keys(b).forEach((function(e){!1===b[e]&&function(e){delete installedChunks[e]}(e)}));for(var D,L,C=_.slice();C.length>0;)if(l=C.pop(),u=A[l]){var R={},M=u.hot._disposeHandlers;for(s=0;s<M.length;s++)(r=M[s])(R);for(i[l]=R,u.hot.active=!1,delete A[l],delete v[l],s=0;s<u.children.length;s++){var U=A[u.children[s]];U&&(P=U.parents.indexOf(l))>=0&&U.parents.splice(P,1)}}for(l in v)if(Object.prototype.hasOwnProperty.call(v,l)&&(u=A[l]))for(L=v[l],s=0;s<L.length;s++)D=L[s],(P=u.children.indexOf(D))>=0&&u.children.splice(P,1);for(l in d("apply"),a=g,m)Object.prototype.hasOwnProperty.call(m,l)&&(e[l]=m[l]);var B=null;for(l in v)if(Object.prototype.hasOwnProperty.call(v,l)&&(u=A[l])){L=v[l];var N=[];for(n=0;n<L.length;n++)if(D=L[n],r=u.hot._acceptedDependencies[D]){if(-1!==N.indexOf(r))continue;N.push(r)}for(n=0;n<N.length;n++){r=N[n];try{r(L)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:l,dependencyId:L[n],error:e}),t.ignoreErrored||B||(B=e)}}}for(n=0;n<O.length;n++){var F=O[n];l=F.module,o=[l];try{T(l)}catch(e){if("function"==typeof F.errorHandler)try{F.errorHandler(e)}catch(r){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:l,error:r,originalError:e}),t.ignoreErrored||B||(B=r),B||(B=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:l,error:e}),t.ignoreErrored||B||(B=e)}}return B?(d("fail"),Promise.reject(B)):(d("idle"),new Promise((function(e){e(_)})))}var A={};function T(t){if(A[t])return A[t].exports;var r=A[t]={i:t,l:!1,exports:{},hot:l(t),parents:(s=o,o=[],s),children:[]};return e[t].call(r.exports,r,r.exports,u(t)),r.l=!0,r.exports}return T.m=e,T.c=A,T.d=function(e,t,r){T.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},T.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},T.t=function(e,t){if(1&t&&(e=T(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(T.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)T.d(r,n,function(t){return e[t]}.bind(null,n));return r},T.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return T.d(t,"a",t),t},T.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},T.p="",T.h=function(){return a},u("./index.js")(T.s="./index.js")}({"./canvasToPixel.js":
/*!**************************!*\
  !*** ./canvasToPixel.js ***!
  \**************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./enabledElements.js */"./enabledElements.js"),a=r(/*! ./internal/getTransform.js */"./internal/getTransform.js");t.default=function(e,t){var r=Object(n.getEnabledElement)(e),i=Object(a.default)(r);return i.invert(),i.transformPoint(t.x,t.y)}},"./colors/colormap.js":
/*!****************************!*\
  !*** ./colors/colormap.js ***!
  \****************************/
/*! exports provided: getColormapsList, getColormap */function(e,t,r){"use strict";r.r(t),r.d(t,"getColormapsList",(function(){return u})),r.d(t,"getColormap",(function(){return l}));var n=r(/*! ./lookupTable.js */"./colors/lookupTable.js"),a=[0,0,0,0],i={hotIron:{name:"Hot Iron",numOfColors:256,colors:[[0,0,0,255],[2,0,0,255],[4,0,0,255],[6,0,0,255],[8,0,0,255],[10,0,0,255],[12,0,0,255],[14,0,0,255],[16,0,0,255],[18,0,0,255],[20,0,0,255],[22,0,0,255],[24,0,0,255],[26,0,0,255],[28,0,0,255],[30,0,0,255],[32,0,0,255],[34,0,0,255],[36,0,0,255],[38,0,0,255],[40,0,0,255],[42,0,0,255],[44,0,0,255],[46,0,0,255],[48,0,0,255],[50,0,0,255],[52,0,0,255],[54,0,0,255],[56,0,0,255],[58,0,0,255],[60,0,0,255],[62,0,0,255],[64,0,0,255],[66,0,0,255],[68,0,0,255],[70,0,0,255],[72,0,0,255],[74,0,0,255],[76,0,0,255],[78,0,0,255],[80,0,0,255],[82,0,0,255],[84,0,0,255],[86,0,0,255],[88,0,0,255],[90,0,0,255],[92,0,0,255],[94,0,0,255],[96,0,0,255],[98,0,0,255],[100,0,0,255],[102,0,0,255],[104,0,0,255],[106,0,0,255],[108,0,0,255],[110,0,0,255],[112,0,0,255],[114,0,0,255],[116,0,0,255],[118,0,0,255],[120,0,0,255],[122,0,0,255],[124,0,0,255],[126,0,0,255],[128,0,0,255],[130,0,0,255],[132,0,0,255],[134,0,0,255],[136,0,0,255],[138,0,0,255],[140,0,0,255],[142,0,0,255],[144,0,0,255],[146,0,0,255],[148,0,0,255],[150,0,0,255],[152,0,0,255],[154,0,0,255],[156,0,0,255],[158,0,0,255],[160,0,0,255],[162,0,0,255],[164,0,0,255],[166,0,0,255],[168,0,0,255],[170,0,0,255],[172,0,0,255],[174,0,0,255],[176,0,0,255],[178,0,0,255],[180,0,0,255],[182,0,0,255],[184,0,0,255],[186,0,0,255],[188,0,0,255],[190,0,0,255],[192,0,0,255],[194,0,0,255],[196,0,0,255],[198,0,0,255],[200,0,0,255],[202,0,0,255],[204,0,0,255],[206,0,0,255],[208,0,0,255],[210,0,0,255],[212,0,0,255],[214,0,0,255],[216,0,0,255],[218,0,0,255],[220,0,0,255],[222,0,0,255],[224,0,0,255],[226,0,0,255],[228,0,0,255],[230,0,0,255],[232,0,0,255],[234,0,0,255],[236,0,0,255],[238,0,0,255],[240,0,0,255],[242,0,0,255],[244,0,0,255],[246,0,0,255],[248,0,0,255],[250,0,0,255],[252,0,0,255],[254,0,0,255],[255,0,0,255],[255,2,0,255],[255,4,0,255],[255,6,0,255],[255,8,0,255],[255,10,0,255],[255,12,0,255],[255,14,0,255],[255,16,0,255],[255,18,0,255],[255,20,0,255],[255,22,0,255],[255,24,0,255],[255,26,0,255],[255,28,0,255],[255,30,0,255],[255,32,0,255],[255,34,0,255],[255,36,0,255],[255,38,0,255],[255,40,0,255],[255,42,0,255],[255,44,0,255],[255,46,0,255],[255,48,0,255],[255,50,0,255],[255,52,0,255],[255,54,0,255],[255,56,0,255],[255,58,0,255],[255,60,0,255],[255,62,0,255],[255,64,0,255],[255,66,0,255],[255,68,0,255],[255,70,0,255],[255,72,0,255],[255,74,0,255],[255,76,0,255],[255,78,0,255],[255,80,0,255],[255,82,0,255],[255,84,0,255],[255,86,0,255],[255,88,0,255],[255,90,0,255],[255,92,0,255],[255,94,0,255],[255,96,0,255],[255,98,0,255],[255,100,0,255],[255,102,0,255],[255,104,0,255],[255,106,0,255],[255,108,0,255],[255,110,0,255],[255,112,0,255],[255,114,0,255],[255,116,0,255],[255,118,0,255],[255,120,0,255],[255,122,0,255],[255,124,0,255],[255,126,0,255],[255,128,4,255],[255,130,8,255],[255,132,12,255],[255,134,16,255],[255,136,20,255],[255,138,24,255],[255,140,28,255],[255,142,32,255],[255,144,36,255],[255,146,40,255],[255,148,44,255],[255,150,48,255],[255,152,52,255],[255,154,56,255],[255,156,60,255],[255,158,64,255],[255,160,68,255],[255,162,72,255],[255,164,76,255],[255,166,80,255],[255,168,84,255],[255,170,88,255],[255,172,92,255],[255,174,96,255],[255,176,100,255],[255,178,104,255],[255,180,108,255],[255,182,112,255],[255,184,116,255],[255,186,120,255],[255,188,124,255],[255,190,128,255],[255,192,132,255],[255,194,136,255],[255,196,140,255],[255,198,144,255],[255,200,148,255],[255,202,152,255],[255,204,156,255],[255,206,160,255],[255,208,164,255],[255,210,168,255],[255,212,172,255],[255,214,176,255],[255,216,180,255],[255,218,184,255],[255,220,188,255],[255,222,192,255],[255,224,196,255],[255,226,200,255],[255,228,204,255],[255,230,208,255],[255,232,212,255],[255,234,216,255],[255,236,220,255],[255,238,224,255],[255,240,228,255],[255,242,232,255],[255,244,236,255],[255,246,240,255],[255,248,244,255],[255,250,248,255],[255,252,252,255],[255,255,255,255]]},pet:{name:"PET",numColors:256,colors:[[0,0,0,255],[0,2,1,255],[0,4,3,255],[0,6,5,255],[0,8,7,255],[0,10,9,255],[0,12,11,255],[0,14,13,255],[0,16,15,255],[0,18,17,255],[0,20,19,255],[0,22,21,255],[0,24,23,255],[0,26,25,255],[0,28,27,255],[0,30,29,255],[0,32,31,255],[0,34,33,255],[0,36,35,255],[0,38,37,255],[0,40,39,255],[0,42,41,255],[0,44,43,255],[0,46,45,255],[0,48,47,255],[0,50,49,255],[0,52,51,255],[0,54,53,255],[0,56,55,255],[0,58,57,255],[0,60,59,255],[0,62,61,255],[0,65,63,255],[0,67,65,255],[0,69,67,255],[0,71,69,255],[0,73,71,255],[0,75,73,255],[0,77,75,255],[0,79,77,255],[0,81,79,255],[0,83,81,255],[0,85,83,255],[0,87,85,255],[0,89,87,255],[0,91,89,255],[0,93,91,255],[0,95,93,255],[0,97,95,255],[0,99,97,255],[0,101,99,255],[0,103,101,255],[0,105,103,255],[0,107,105,255],[0,109,107,255],[0,111,109,255],[0,113,111,255],[0,115,113,255],[0,117,115,255],[0,119,117,255],[0,121,119,255],[0,123,121,255],[0,125,123,255],[0,128,125,255],[1,126,127,255],[3,124,129,255],[5,122,131,255],[7,120,133,255],[9,118,135,255],[11,116,137,255],[13,114,139,255],[15,112,141,255],[17,110,143,255],[19,108,145,255],[21,106,147,255],[23,104,149,255],[25,102,151,255],[27,100,153,255],[29,98,155,255],[31,96,157,255],[33,94,159,255],[35,92,161,255],[37,90,163,255],[39,88,165,255],[41,86,167,255],[43,84,169,255],[45,82,171,255],[47,80,173,255],[49,78,175,255],[51,76,177,255],[53,74,179,255],[55,72,181,255],[57,70,183,255],[59,68,185,255],[61,66,187,255],[63,64,189,255],[65,63,191,255],[67,61,193,255],[69,59,195,255],[71,57,197,255],[73,55,199,255],[75,53,201,255],[77,51,203,255],[79,49,205,255],[81,47,207,255],[83,45,209,255],[85,43,211,255],[86,41,213,255],[88,39,215,255],[90,37,217,255],[92,35,219,255],[94,33,221,255],[96,31,223,255],[98,29,225,255],[100,27,227,255],[102,25,229,255],[104,23,231,255],[106,21,233,255],[108,19,235,255],[110,17,237,255],[112,15,239,255],[114,13,241,255],[116,11,243,255],[118,9,245,255],[120,7,247,255],[122,5,249,255],[124,3,251,255],[126,1,253,255],[128,0,255,255],[130,2,252,255],[132,4,248,255],[134,6,244,255],[136,8,240,255],[138,10,236,255],[140,12,232,255],[142,14,228,255],[144,16,224,255],[146,18,220,255],[148,20,216,255],[150,22,212,255],[152,24,208,255],[154,26,204,255],[156,28,200,255],[158,30,196,255],[160,32,192,255],[162,34,188,255],[164,36,184,255],[166,38,180,255],[168,40,176,255],[170,42,172,255],[171,44,168,255],[173,46,164,255],[175,48,160,255],[177,50,156,255],[179,52,152,255],[181,54,148,255],[183,56,144,255],[185,58,140,255],[187,60,136,255],[189,62,132,255],[191,64,128,255],[193,66,124,255],[195,68,120,255],[197,70,116,255],[199,72,112,255],[201,74,108,255],[203,76,104,255],[205,78,100,255],[207,80,96,255],[209,82,92,255],[211,84,88,255],[213,86,84,255],[215,88,80,255],[217,90,76,255],[219,92,72,255],[221,94,68,255],[223,96,64,255],[225,98,60,255],[227,100,56,255],[229,102,52,255],[231,104,48,255],[233,106,44,255],[235,108,40,255],[237,110,36,255],[239,112,32,255],[241,114,28,255],[243,116,24,255],[245,118,20,255],[247,120,16,255],[249,122,12,255],[251,124,8,255],[253,126,4,255],[255,128,0,255],[255,130,4,255],[255,132,8,255],[255,134,12,255],[255,136,16,255],[255,138,20,255],[255,140,24,255],[255,142,28,255],[255,144,32,255],[255,146,36,255],[255,148,40,255],[255,150,44,255],[255,152,48,255],[255,154,52,255],[255,156,56,255],[255,158,60,255],[255,160,64,255],[255,162,68,255],[255,164,72,255],[255,166,76,255],[255,168,80,255],[255,170,85,255],[255,172,89,255],[255,174,93,255],[255,176,97,255],[255,178,101,255],[255,180,105,255],[255,182,109,255],[255,184,113,255],[255,186,117,255],[255,188,121,255],[255,190,125,255],[255,192,129,255],[255,194,133,255],[255,196,137,255],[255,198,141,255],[255,200,145,255],[255,202,149,255],[255,204,153,255],[255,206,157,255],[255,208,161,255],[255,210,165,255],[255,212,170,255],[255,214,174,255],[255,216,178,255],[255,218,182,255],[255,220,186,255],[255,222,190,255],[255,224,194,255],[255,226,198,255],[255,228,202,255],[255,230,206,255],[255,232,210,255],[255,234,214,255],[255,236,218,255],[255,238,222,255],[255,240,226,255],[255,242,230,255],[255,244,234,255],[255,246,238,255],[255,248,242,255],[255,250,246,255],[255,252,250,255],[255,255,255,255]]},hotMetalBlue:{name:"Hot Metal Blue",numColors:256,colors:[[0,0,0,255],[0,0,2,255],[0,0,4,255],[0,0,6,255],[0,0,8,255],[0,0,10,255],[0,0,12,255],[0,0,14,255],[0,0,16,255],[0,0,17,255],[0,0,19,255],[0,0,21,255],[0,0,23,255],[0,0,25,255],[0,0,27,255],[0,0,29,255],[0,0,31,255],[0,0,33,255],[0,0,35,255],[0,0,37,255],[0,0,39,255],[0,0,41,255],[0,0,43,255],[0,0,45,255],[0,0,47,255],[0,0,49,255],[0,0,51,255],[0,0,53,255],[0,0,55,255],[0,0,57,255],[0,0,59,255],[0,0,61,255],[0,0,63,255],[0,0,65,255],[0,0,67,255],[0,0,69,255],[0,0,71,255],[0,0,73,255],[0,0,75,255],[0,0,77,255],[0,0,79,255],[0,0,81,255],[0,0,83,255],[0,0,84,255],[0,0,86,255],[0,0,88,255],[0,0,90,255],[0,0,92,255],[0,0,94,255],[0,0,96,255],[0,0,98,255],[0,0,100,255],[0,0,102,255],[0,0,104,255],[0,0,106,255],[0,0,108,255],[0,0,110,255],[0,0,112,255],[0,0,114,255],[0,0,116,255],[0,0,117,255],[0,0,119,255],[0,0,121,255],[0,0,123,255],[0,0,125,255],[0,0,127,255],[0,0,129,255],[0,0,131,255],[0,0,133,255],[0,0,135,255],[0,0,137,255],[0,0,139,255],[0,0,141,255],[0,0,143,255],[0,0,145,255],[0,0,147,255],[0,0,149,255],[0,0,151,255],[0,0,153,255],[0,0,155,255],[0,0,157,255],[0,0,159,255],[0,0,161,255],[0,0,163,255],[0,0,165,255],[0,0,167,255],[3,0,169,255],[6,0,171,255],[9,0,173,255],[12,0,175,255],[15,0,177,255],[18,0,179,255],[21,0,181,255],[24,0,183,255],[26,0,184,255],[29,0,186,255],[32,0,188,255],[35,0,190,255],[38,0,192,255],[41,0,194,255],[44,0,196,255],[47,0,198,255],[50,0,200,255],[52,0,197,255],[55,0,194,255],[57,0,191,255],[59,0,188,255],[62,0,185,255],[64,0,182,255],[66,0,179,255],[69,0,176,255],[71,0,174,255],[74,0,171,255],[76,0,168,255],[78,0,165,255],[81,0,162,255],[83,0,159,255],[85,0,156,255],[88,0,153,255],[90,0,150,255],[93,2,144,255],[96,4,138,255],[99,6,132,255],[102,8,126,255],[105,9,121,255],[108,11,115,255],[111,13,109,255],[114,15,103,255],[116,17,97,255],[119,19,91,255],[122,21,85,255],[125,23,79,255],[128,24,74,255],[131,26,68,255],[134,28,62,255],[137,30,56,255],[140,32,50,255],[143,34,47,255],[146,36,44,255],[149,38,41,255],[152,40,38,255],[155,41,35,255],[158,43,32,255],[161,45,29,255],[164,47,26,255],[166,49,24,255],[169,51,21,255],[172,53,18,255],[175,55,15,255],[178,56,12,255],[181,58,9,255],[184,60,6,255],[187,62,3,255],[190,64,0,255],[194,66,0,255],[198,68,0,255],[201,70,0,255],[205,72,0,255],[209,73,0,255],[213,75,0,255],[217,77,0,255],[221,79,0,255],[224,81,0,255],[228,83,0,255],[232,85,0,255],[236,87,0,255],[240,88,0,255],[244,90,0,255],[247,92,0,255],[251,94,0,255],[255,96,0,255],[255,98,3,255],[255,100,6,255],[255,102,9,255],[255,104,12,255],[255,105,15,255],[255,107,18,255],[255,109,21,255],[255,111,24,255],[255,113,26,255],[255,115,29,255],[255,117,32,255],[255,119,35,255],[255,120,38,255],[255,122,41,255],[255,124,44,255],[255,126,47,255],[255,128,50,255],[255,130,53,255],[255,132,56,255],[255,134,59,255],[255,136,62,255],[255,137,65,255],[255,139,68,255],[255,141,71,255],[255,143,74,255],[255,145,76,255],[255,147,79,255],[255,149,82,255],[255,151,85,255],[255,152,88,255],[255,154,91,255],[255,156,94,255],[255,158,97,255],[255,160,100,255],[255,162,103,255],[255,164,106,255],[255,166,109,255],[255,168,112,255],[255,169,115,255],[255,171,118,255],[255,173,121,255],[255,175,124,255],[255,177,126,255],[255,179,129,255],[255,181,132,255],[255,183,135,255],[255,184,138,255],[255,186,141,255],[255,188,144,255],[255,190,147,255],[255,192,150,255],[255,194,153,255],[255,196,156,255],[255,198,159,255],[255,200,162,255],[255,201,165,255],[255,203,168,255],[255,205,171,255],[255,207,174,255],[255,209,176,255],[255,211,179,255],[255,213,182,255],[255,215,185,255],[255,216,188,255],[255,218,191,255],[255,220,194,255],[255,222,197,255],[255,224,200,255],[255,226,203,255],[255,228,206,255],[255,229,210,255],[255,231,213,255],[255,233,216,255],[255,235,219,255],[255,237,223,255],[255,239,226,255],[255,240,229,255],[255,242,232,255],[255,244,236,255],[255,246,239,255],[255,248,242,255],[255,250,245,255],[255,251,249,255],[255,253,252,255],[255,255,255,255]]},pet20Step:{name:"PET 20 Step",numColors:256,colors:[[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[0,0,0,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[96,0,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,80,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[48,48,112,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[80,80,128,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[96,96,176,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[112,112,192,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[128,128,224,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,96,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[48,144,48,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[80,192,80,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[64,224,64,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[224,224,80,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,208,96,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,176,64,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[208,144,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[192,96,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[176,48,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,0,0,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255],[255,255,255,255]]},gray:{name:"Gray",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[1,1,1]],green:[[0,0,0],[1,1,1]],blue:[[0,0,0],[1,1,1]]}},jet:{name:"Jet",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[.35,0,0],[.66,1,1],[.89,1,1],[1,.5,.5]],green:[[0,0,0],[.125,0,0],[.375,1,1],[.64,1,1],[.91,0,0],[1,0,0]],blue:[[0,.5,.5],[.11,1,1],[.34,1,1],[.65,0,0],[1,0,0]]}},hsv:{name:"HSV",numColors:256,gamma:1,segmentedData:{red:[[0,1,1],[.15873,1,1],[.174603,.96875,.96875],[.333333,.03125,.03125],[.349206,0,0],[.666667,0,0],[.68254,.03125,.03125],[.84127,.96875,.96875],[.857143,1,1],[1,1,1]],green:[[0,0,0],[.15873,.9375,.9375],[.174603,1,1],[.507937,1,1],[.666667,.0625,.0625],[.68254,0,0],[1,0,0]],blue:[[0,0,0],[.333333,0,0],[.349206,.0625,.0625],[.507937,1,1],[.84127,1,1],[.857143,.9375,.9375],[1,.09375,.09375]]}},hot:{name:"Hot",numColors:256,gamma:1,segmentedData:{red:[[0,.0416,.0416],[.365079,1,1],[1,1,1]],green:[[0,0,0],[.365079,0,0],[.746032,1,1],[1,1,1]],blue:[[0,0,0],[.746032,0,0],[1,1,1]]}},cool:{name:"Cool",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[1,1,1]],green:[[0,1,1],[1,0,0]],blue:[[0,1,1],[1,1,1]]}},spring:{name:"Spring",numColors:256,gamma:1,segmentedData:{red:[[0,1,1],[1,1,1]],green:[[0,0,0],[1,1,1]],blue:[[0,1,1],[1,0,0]]}},summer:{name:"Summer",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[1,1,1]],green:[[0,.5,.5],[1,1,1]],blue:[[0,.4,.4],[1,.4,.4]]}},autumn:{name:"Autumn",numColors:256,gamma:1,segmentedData:{red:[[0,1,1],[1,1,1]],green:[[0,0,0],[1,1,1]],blue:[[0,0,0],[1,0,0]]}},winter:{name:"Winter",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[1,0,0]],green:[[0,0,0],[1,1,1]],blue:[[0,1,1],[1,.5,.5]]}},bone:{name:"Bone",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[.746032,.652778,.652778],[1,1,1]],green:[[0,0,0],[.365079,.319444,.319444],[.746032,.777778,.777778],[1,1,1]],blue:[[0,0,0],[.365079,.444444,.444444],[1,1,1]]}},copper:{name:"Copper",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[.809524,1,1],[1,1,1]],green:[[0,0,0],[1,.7812,.7812]],blue:[[0,0,0],[1,.4975,.4975]]}},spectral:{name:"Spectral",numColors:256,gamma:1,segmentedData:{red:[[0,0,0],[.05,.4667,.4667],[.1,.5333,.5333],[.15,0,0],[.2,0,0],[.25,0,0],[.3,0,0],[.35,0,0],[.4,0,0],[.45,0,0],[.5,0,0],[.55,0,0],[.6,0,0],[.65,.7333,.7333],[.7,.9333,.9333],[.75,1,1],[.8,1,1],[.85,1,1],[.9,.8667,.8667],[.95,.8,.8],[1,.8,.8]],green:[[0,0,0],[.05,0,0],[.1,0,0],[.15,0,0],[.2,0,0],[.25,.4667,.4667],[.3,.6,.6],[.35,.6667,.6667],[.4,.6667,.6667],[.45,.6,.6],[.5,.7333,.7333],[.55,.8667,.8667],[.6,1,1],[.65,1,1],[.7,.9333,.9333],[.75,.8,.8],[.8,.6,.6],[.85,0,0],[.9,0,0],[.95,0,0],[1,.8,.8]],blue:[[0,0,0],[.05,.5333,.5333],[.1,.6,.6],[.15,.6667,.6667],[.2,.8667,.8667],[.25,.8667,.8667],[.3,.8667,.8667],[.35,.6667,.6667],[.4,.5333,.5333],[.45,0,0],[.5,0,0],[.55,0,0],[.6,0,0],[.65,0,0],[.7,0,0],[.75,0,0],[.8,0,0],[.85,0,0],[.9,0,0],[.95,0,0],[1,.8,.8]]}},coolwarm:{name:"CoolWarm",numColors:256,gamma:1,segmentedData:{red:[[0,.2298057,.2298057],[.03125,.26623388,.26623388],[.0625,.30386891,.30386891],[.09375,.342804478,.342804478],[.125,.38301334,.38301334],[.15625,.424369608,.424369608],[.1875,.46666708,.46666708],[.21875,.509635204,.509635204],[.25,.552953156,.552953156],[.28125,.596262162,.596262162],[.3125,.639176211,.639176211],[.34375,.681291281,.681291281],[.375,.722193294,.722193294],[.40625,.761464949,.761464949],[.4375,.798691636,.798691636],[.46875,.833466556,.833466556],[.5,.865395197,.865395197],[.53125,.897787179,.897787179],[.5625,.924127593,.924127593],[.59375,.944468518,.944468518],[.625,.958852946,.958852946],[.65625,.96732803,.96732803],[.6875,.969954137,.969954137],[.71875,.966811177,.966811177],[.75,.958003065,.958003065],[.78125,.943660866,.943660866],[.8125,.923944917,.923944917],[.84375,.89904617,.89904617],[.875,.869186849,.869186849],[.90625,.834620542,.834620542],[.9375,.795631745,.795631745],[.96875,.752534934,.752534934],[1,.705673158,.705673158]],green:[[0,.298717966,.298717966],[.03125,.353094838,.353094838],[.0625,.406535296,.406535296],[.09375,.458757618,.458757618],[.125,.50941904,.50941904],[.15625,.558148092,.558148092],[.1875,.604562568,.604562568],[.21875,.648280772,.648280772],[.25,.688929332,.688929332],[.28125,.726149107,.726149107],[.3125,.759599947,.759599947],[.34375,.788964712,.788964712],[.375,.813952739,.813952739],[.40625,.834302879,.834302879],[.4375,.849786142,.849786142],[.46875,.860207984,.860207984],[.5,.86541021,.86541021],[.53125,.848937047,.848937047],[.5625,.827384882,.827384882],[.59375,.800927443,.800927443],[.625,.769767752,.769767752],[.65625,.734132809,.734132809],[.6875,.694266682,.694266682],[.71875,.650421156,.650421156],[.75,.602842431,.602842431],[.78125,.551750968,.551750968],[.8125,.49730856,.49730856],[.84375,.439559467,.439559467],[.875,.378313092,.378313092],[.90625,.312874446,.312874446],[.9375,.24128379,.24128379],[.96875,.157246067,.157246067],[1,.01555616,.01555616]],blue:[[0,.753683153,.753683153],[.03125,.801466763,.801466763],[.0625,.84495867,.84495867],[.09375,.883725899,.883725899],[.125,.917387822,.917387822],[.15625,.945619588,.945619588],[.1875,.968154911,.968154911],[.21875,.98478814,.98478814],[.25,.995375608,.995375608],[.28125,.999836203,.999836203],[.3125,.998151185,.998151185],[.34375,.990363227,.990363227],[.375,.976574709,.976574709],[.40625,.956945269,.956945269],[.4375,.931688648,.931688648],[.46875,.901068838,.901068838],[.5,.865395561,.865395561],[.53125,.820880546,.820880546],[.5625,.774508472,.774508472],[.59375,.726736146,.726736146],[.625,.678007945,.678007945],[.65625,.628751763,.628751763],[.6875,.579375448,.579375448],[.71875,.530263762,.530263762],[.75,.481775914,.481775914],[.78125,.434243684,.434243684],[.8125,.387970225,.387970225],[.84375,.343229596,.343229596],[.875,.300267182,.300267182],[.90625,.259301199,.259301199],[.9375,.220525627,.220525627],[.96875,.184115123,.184115123],[1,.150232812,.150232812]]}},blues:{name:"Blues",numColors:256,gamma:1,segmentedData:{red:[[0,.9686274528503418,.9686274528503418],[.125,.8705882430076599,.8705882430076599],[.25,.7764706015586853,.7764706015586853],[.375,.6196078658103943,.6196078658103943],[.5,.41960784792900085,.41960784792900085],[.625,.25882354378700256,.25882354378700256],[.75,.12941177189350128,.12941177189350128],[.875,.0313725508749485,.0313725508749485],[1,.0313725508749485,.0313725508749485]],green:[[0,.9843137264251709,.9843137264251709],[.125,.9215686321258545,.9215686321258545],[.25,.8588235378265381,.8588235378265381],[.375,.7921568751335144,.7921568751335144],[.5,.6823529601097107,.6823529601097107],[.625,.572549045085907,.572549045085907],[.75,.4431372582912445,.4431372582912445],[.875,.3176470696926117,.3176470696926117],[1,.1882352977991104,.1882352977991104]],blue:[[0,1,1],[.125,.9686274528503418,.9686274528503418],[.25,.9372549057006836,.9372549057006836],[.375,.8823529481887817,.8823529481887817],[.5,.8392156958580017,.8392156958580017],[.625,.7764706015586853,.7764706015586853],[.75,.7098039388656616,.7098039388656616],[.875,.6117647290229797,.6117647290229797],[1,.41960784792900085,.41960784792900085]]}}};function o(e,t){for(var r=0,n=e.length-1;r<=n;){var a=r+Math.floor((n-r)/2),i=e[a];if(i===t)return a;t<i?n=a-1:r=a+1}return r}function s(e,t,r){var n,a=[],i=[],s=[],u=[];for(r=null===r?1:r,n=0;n<t.length;n++){var l=t[n];a.push((e-1)*l[0]),i.push(l[1]),s.push(l[1])}var f=function(e,t,r){for(var n=(t-e)/((r=null===r?100:r)-1),a=[];r-- >0;)a.push(e),e+=n;return a[a.length-1]=t,a}(0,1,e);for(n=0;n<e;n++)f[n]=(e-1)*Math.pow(f[n],r);var c=function(e,t){var r,n=[],a=t.length;for(e.sort((function(e,t){return e-t})),r=0;r<a;r++)n[r]=o(e,t[r]);return n}(a,f);for(n=1;n<e-1;n++){var d=c[n],h=(f[n]-a[d-1])/(a[d]-a[d-1]),p=i[d]-s[d-1];u[n]=h*p+s[d-1]}return u[0]=s[0],u[e-1]=i[t.length-1],u}function u(){var e=[];return Object.keys(i).forEach((function(t){if(i.hasOwnProperty(t)){var r=i[t];e.push({id:t,name:r.name})}})),e.sort((function(e,t){var r=e.name.toLowerCase(),n=t.name.toLowerCase();return r===n?0:r<n?-1:1})),e}function l(e,t){var r=i[e];return r||(r=i[e]=t||{name:"",colors:[]}),!r.colors&&r.segmentedData&&(r.colors=function(e,t,r){var n,a=[];r=null===r?1:r;var i=s(t=null===t?256:t,e.red,r),o=s(t,e.green,r),u=s(t,e.blue,r);for(n=0;n<t;n++){var l=[Math.round(255*i[n]),Math.round(255*o[n]),Math.round(255*u[n]),255];a.push(l)}return a}(r.segmentedData,r.numColors,r.gamma)),{getId:function(){return e},getColorSchemeName:function(){return r.name},setColorSchemeName:function(e){r.name=e},getNumberOfColors:function(){return r.colors.length},setNumberOfColors:function(e){for(;r.colors.length<e;)r.colors.push(a);r.colors.length=e},getColor:function(e){return this.isValidIndex(e)?r.colors[e]:a},getColorRepeating:function(e){var t=r.colors.length;return e=t?e%t:0,this.getColor(e)},setColor:function(e,t){this.isValidIndex(e)&&(r.colors[e]=t)},addColor:function(e){r.colors.push(e)},insertColor:function(e,t){this.isValidIndex(e)&&r.colors.splice(e,1,t)},removeColor:function(e){this.isValidIndex(e)&&r.colors.splice(e,1)},clearColors:function(){r.colors=[]},buildLookupTable:function(e){if(e){var t=r.colors.length;e.setNumberOfTableValues(t);for(var n=0;n<t;n++)e.setTableValue(n,r.colors[n])}},createLookupTable:function(){var e=new n.default;return this.buildLookupTable(e),e},isValidIndex:function(e){return e>=0&&e<r.colors.length}}}},"./colors/index.js":
/*!*************************!*\
  !*** ./colors/index.js ***!
  \*************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./colormap.js */"./colors/colormap.js"),a=r(/*! ./lookupTable.js */"./colors/lookupTable.js");t.default={getColormap:n.getColormap,getColormapsList:n.getColormapsList,LookupTable:a.default}},"./colors/lookupTable.js":
/*!*******************************!*\
  !*** ./colors/lookupTable.js ***!
  \*******************************/
/*! exports provided: default */function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){if(e>1)throw new Error("HSVToRGB expects hue < 1");var n=[];if(0===t)return n[0]=r,n[1]=r,n[2]=r,n;var a=Math.floor(6*e),i=6*e-a,o=r*(1-t),s=r*(1-t*i),u=r*(1-t*(1-i));switch(a){case 0:case 6:n[0]=r,n[1]=u,n[2]=o;break;case 1:n[0]=s,n[1]=r,n[2]=o;break;case 2:n[0]=o,n[1]=r,n[2]=u;break;case 3:n[0]=o,n[1]=s,n[2]=r;break;case 4:n[0]=u,n[1]=o,n[2]=r;break;case 5:n[0]=r,n[1]=o,n[2]=s}return n}r.r(t);var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.NumberOfColors=256,this.Ramp="linear",this.TableRange=[0,255],this.HueRange=[0,.66667],this.SaturationRange=[1,1],this.ValueRange=[1,1],this.AlphaRange=[1,1],this.NaNColor=[128,0,0,255],this.BelowRangeColor=[0,0,0,255],this.UseBelowRangeColor=!0,this.AboveRangeColor=[255,255,255,255],this.UseAboveRangeColor=!0,this.InputRange=[0,255],this.Table=[]}var t,r,i;return t=e,(r=[{key:"setNumberOfTableValues",value:function(e){this.NumberOfColors=e}},{key:"setRamp",value:function(e){this.Ramp=e}},{key:"setTableRange",value:function(e,t){this.TableRange[0]=e,this.TableRange[1]=t}},{key:"setHueRange",value:function(e,t){this.HueRange[0]=e,this.HueRange[1]=t}},{key:"setSaturationRange",value:function(e,t){this.SaturationRange[0]=e,this.SaturationRange[1]=t}},{key:"setValueRange",value:function(e,t){this.ValueRange[0]=e,this.ValueRange[1]=t}},{key:"setRange",value:function(e,t){this.InputRange[0]=e,this.InputRange[1]=t}},{key:"setAlphaRange",value:function(e,t){this.AlphaRange[0]=e,this.AlphaRange[1]=t}},{key:"getColor",value:function(e){return this.mapValue(e)}},{key:"build",value:function(e){if(!(this.Table.length>1)||e){this.Table=[];var t,r,n,i,o=this.NumberOfColors-1;o?(t=(this.HueRange[1]-this.HueRange[0])/o,r=(this.SaturationRange[1]-this.SaturationRange[0])/o,n=(this.ValueRange[1]-this.ValueRange[0])/o,i=(this.AlphaRange[1]-this.AlphaRange[0])/o):t=r=n=i=0;for(var s=0;s<=o;s++){var u=this.HueRange[0]+s*t,l=this.SaturationRange[0]+s*r,f=this.ValueRange[0]+s*n,c=this.AlphaRange[0]+s*i,d=a(u,l,f),h=[];switch(this.Ramp){case"scurve":h[0]=Math.floor(127.5*(1+Math.cos((1-d[0])*Math.PI))),h[1]=Math.floor(127.5*(1+Math.cos((1-d[1])*Math.PI))),h[2]=Math.floor(127.5*(1+Math.cos((1-d[2])*Math.PI))),h[3]=Math.floor(255*c);break;case"linear":h[0]=Math.floor(255*d[0]+.5),h[1]=Math.floor(255*d[1]+.5),h[2]=Math.floor(255*d[2]+.5),h[3]=Math.floor(255*c+.5);break;case"sqrt":h[0]=Math.floor(255*Math.sqrt(d[0])+.5),h[1]=Math.floor(255*Math.sqrt(d[1])+.5),h[2]=Math.floor(255*Math.sqrt(d[2])+.5),h[3]=Math.floor(255*Math.sqrt(c)+.5);break;default:throw new Error("Invalid Ramp value (".concat(this.Ramp,")"))}this.Table.push(h)}this.buildSpecialColors()}}},{key:"buildSpecialColors",value:function(){var e=this.NumberOfColors,t=e+0,r=e+1,n=e+2;this.UseBelowRangeColor||0===e?this.Table[t]=this.BelowRangeColor:this.Table[t]=this.Table[0],this.UseAboveRangeColor||0===e?this.Table[r]=this.AboveRangeColor:this.Table[r]=this.Table[e-1],this.Table[n]=this.NaNColor}},{key:"mapValue",value:function(e){var t=this.getIndex(e);if(t<0)return this.NaNColor;if(0===t){if(this.UseBelowRangeColor&&e<this.TableRange[0])return this.BelowRangeColor}else if(t===this.NumberOfColors-1&&this.UseAboveRangeColor&&e>this.TableRange[1])return this.AboveRangeColor;return this.Table[t]}},{key:"getIndex",value:function(e){var t={Range:[]};if(t.MaxIndex=this.NumberOfColors-1,t.Shift=-this.TableRange[0],this.TableRange[1]<=this.TableRange[0]?t.Scale=Number.MAX_VALUE:t.Scale=t.MaxIndex/(this.TableRange[1]-this.TableRange[0]),t.Range[0]=this.TableRange[0],t.Range[1]=this.TableRange[1],isNaN(e))return-1;var r=function(e,t){var r;return r=e<t.Range[0]?t.MaxIndex+0+1.5:e>t.Range[1]?t.MaxIndex+1+1.5:(e+t.Shift)*t.Scale,Math.floor(r)}(e,t);return r===this.NumberOfColors+0?r=0:r===this.NumberOfColors+1&&(r=this.NumberOfColors-1),r}},{key:"setTableValue",value:function(e,t){if(5===arguments.length&&(t=Array.prototype.slice.call(arguments,1)),e<0)throw new Error("Can't set the table value for negative index (".concat(e,")"));e>=this.NumberOfColors&&new Error("Index ".concat(e," is greater than the number of colors ").concat(this.NumberOfColors)),this.Table[e]=t,0!==e&&e!==this.NumberOfColors-1||this.buildSpecialColors()}}])&&n(t.prototype,r),i&&n(t,i),e}();t.default=i},"./disable.js":
/*!********************!*\
  !*** ./disable.js ***!
  \********************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./enabledElements.js */"./enabledElements.js"),a=r(/*! ./triggerEvent.js */"./triggerEvent.js"),i=r(/*! ./events.js */"./events.js");t.default=function(e){if(void 0===e)throw new Error("disable: element must not be undefined");for(var t=Object(n.getEnabledElements)(),r=0;r<t.length;r++)if(t[r].element===e){var o={element:e};Object(a.default)(e,i.default.ELEMENT_DISABLED,o),Object(a.default)(i.events,i.default.ELEMENT_DISABLED,o),t[r].element.removeChild(t[r].canvas),t[r].canvas=void 0,t.splice(r,1);break}}},"./displayImage.js":
/*!*************************!*\
  !*** ./displayImage.js ***!
  \*************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./enabledElements.js */"./enabledElements.js"),a=r(/*! ./internal/getDefaultViewport.js */"./internal/getDefaultViewport.js"),i=r(/*! ./updateImage.js */"./updateImage.js"),o=r(/*! ./internal/now.js */"./internal/now.js"),s=r(/*! ./layers.js */"./layers.js"),u=r(/*! ./triggerEvent.js */"./triggerEvent.js"),l=r(/*! ./events.js */"./events.js");t.default=function(e,t,r){if(void 0===e)throw new Error("displayImage: parameter element must not be undefined");if(void 0===t)throw new Error("displayImage: parameter image must not be undefined");var f,c=Object(n.getEnabledElement)(e),d=c.image;if(c.image=t,c.layers&&c.layers.length&&Object(s.setLayerImage)(e,t),void 0===c.viewport&&(c.viewport=Object(a.default)(c.canvas,t)),r)for(var h in r)null!==r[h]&&(c.viewport[h]=r[h]);void 0!==c.lastImageTimeStamp&&(f=(1e3/(Object(o.default)()-c.lastImageTimeStamp)).toFixed()),c.lastImageTimeStamp=Object(o.default)();var p={viewport:c.viewport,element:c.element,image:c.image,oldImage:d,enabledElement:c,frameRate:f};Object(u.default)(c.element,l.default.NEW_IMAGE,p),Object(i.default)(e)}},"./draw.js":
/*!*****************!*\
  !*** ./draw.js ***!
  \*****************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./enabledElements.js */"./enabledElements.js"),a=r(/*! ./internal/drawImage.js */"./internal/drawImage.js");t.default=function(e){var t=Object(n.getEnabledElement)(e);if(void 0===t.image)throw new Error("draw: image has not been loaded yet");Object(a.default)(t)}},"./drawInvalidated.js":
/*!****************************!*\
  !*** ./drawInvalidated.js ***!
  \****************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./enabledElements.js */"./enabledElements.js"),a=r(/*! ./internal/drawImage.js */"./internal/drawImage.js");t.default=function(){for(var e=Object(n.getEnabledElements)(),t=0;t<e.length;t++){var r=e[t];!0===r.invalid&&Object(a.default)(r,!0)}}},"./enable.js":
/*!*******************!*\
  !*** ./enable.js ***!
  \*******************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./enabledElements.js */"./enabledElements.js"),a=r(/*! ./resize.js */"./resize.js"),i=r(/*! ./internal/drawImageSync.js */"./internal/drawImageSync.js"),o=r(/*! ./internal/requestAnimationFrame.js */"./internal/requestAnimationFrame.js"),s=r(/*! ./internal/tryEnableWebgl.js */"./internal/tryEnableWebgl.js"),u=r(/*! ./triggerEvent.js */"./triggerEvent.js"),l=r(/*! ./generateUUID.js */"./generateUUID.js"),f=r(/*! ./events.js */"./events.js"),c=r(/*! ./internal/getCanvas.js */"./internal/getCanvas.js");t.default=function(e,t){if(void 0===e)throw new Error("enable: parameter element cannot be undefined");t&&t.renderer&&"webgl"===t.renderer.toLowerCase()&&Object(s.default)(t);var r={element:e,canvas:Object(c.default)(e),image:void 0,invalid:!1,needsRedraw:!0,options:t,layers:[],data:{},renderingTools:{},uuid:Object(l.default)()};Object(n.addEnabledElement)(r),Object(u.default)(f.events,f.default.ELEMENT_ENABLED,r),Object(a.default)(e,!0),function e(t){if(void 0!==r.canvas){var n={enabledElement:r,timestamp:t};Object(u.default)(r.element,f.default.PRE_RENDER,n),r.needsRedraw&&function(e){return void 0!==e.image||e.layers.length>0}(r)&&Object(i.default)(r,r.invalid),Object(o.default)(e)}}()}},"./enabledElementData.js":
/*!*******************************!*\
  !*** ./enabledElementData.js ***!
  \*******************************/
/*! exports provided: getElementData, removeElementData */function(e,t,r){"use strict";r.r(t),r.d(t,"getElementData",(function(){return a})),r.d(t,"removeElementData",(function(){return i}));var n=r(/*! ./enabledElements.js */"./enabledElements.js");function a(e,t){var r=Object(n.getEnabledElement)(e);return!1===r.data.hasOwnProperty(t)&&(r.data[t]={}),r.data[t]}function i(e,t){delete Object(n.getEnabledElement)(e).data[t]}},"./enabledElements.js":
/*!****************************!*\
  !*** ./enabledElements.js ***!
  \****************************/
/*! exports provided: getEnabledElement, addEnabledElement, getEnabledElementsByImageId, getEnabledElements */function(e,t,r){"use strict";r.r(t),r.d(t,"getEnabledElement",(function(){return a})),r.d(t,"addEnabledElement",(function(){return i})),r.d(t,"getEnabledElementsByImageId",(function(){return o})),r.d(t,"getEnabledElements",(function(){return s}));var n=[];function a(e){if(void 0===e)throw new Error("getEnabledElement: parameter element must not be undefined");for(var t=0;t<n.length;t++)if(n[t].element===e)return n[t];throw new Error("element not enabled")}function i(e){if(void 0===e)throw new Error("getEnabledElement: enabledElement element must not be undefined");n.push(e)}function o(e){var t=[];return n.forEach((function(r){r.image&&r.image.imageId===e&&t.push(r)})),t}function s(){return n}},"./events.js":
/*!*******************!*\
  !*** ./events.js ***!
  \*******************/
/*! exports provided: default, events */function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.r(t),r.d(t,"events",(function(){return a})),t.default={NEW_IMAGE:"cornerstonenewimage",INVALIDATED:"cornerstoneinvalidated",PRE_RENDER:"cornerstoneprerender",IMAGE_CACHE_MAXIMUM_SIZE_CHANGED:"cornerstoneimagecachemaximumsizechanged",IMAGE_CACHE_PROMISE_REMOVED:"cornerstoneimagecachepromiseremoved",IMAGE_CACHE_FULL:"cornerstoneimagecachefull",IMAGE_CACHE_CHANGED:"cornerstoneimagecachechanged",WEBGL_TEXTURE_REMOVED:"cornerstonewebgltextureremoved",WEBGL_TEXTURE_CACHE_FULL:"cornerstonewebgltexturecachefull",IMAGE_LOADED:"cornerstoneimageloaded",IMAGE_LOAD_FAILED:"cornerstoneimageloadfailed",ELEMENT_RESIZED:"cornerstoneelementresized",IMAGE_RENDERED:"cornerstoneimagerendered",LAYER_ADDED:"cornerstonelayeradded",LAYER_REMOVED:"cornerstonelayerremoved",ACTIVE_LAYER_CHANGED:"cornerstoneactivelayerchanged",ELEMENT_DISABLED:"cornerstoneelementdisabled",ELEMENT_ENABLED:"cornerstoneelementenabled"};var a=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.listeners={},this.namespaces={}}var t,r,a;return t=e,(r=[{key:"addEventNamespaceListener",value:function(e,t){e.indexOf(".")<=0||(this.namespaces[e]=t,this.addEventListener(e.split(".")[0],t))}},{key:"removeEventNamespaceListener",value:function(e){e.indexOf(".")<=0||!this.namespaces[e]||(this.removeEventListener(e.split(".")[0],this.namespaces[e]),delete this.namespaces[e])}},{key:"addEventListener",value:function(e,t){e.indexOf(".")>0?this.addEventNamespaceListener(e,t):(e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t))}},{key:"removeEventListener",value:function(e,t){if(e.indexOf(".")>0)this.removeEventNamespaceListener(e);else if(e in this.listeners)for(var r=this.listeners[e],n=0,a=r.length;n<a;n++)if(r[n]===t)return void r.splice(n,1)}},{key:"dispatchEvent",value:function(e){if(!(e.type in this.listeners))return!0;for(var t=this.listeners[e.type],r=0,n=t.length;r<n;r++)t[r].call(this,e);return!e.defaultPrevented}}])&&n(t.prototype,r),a&&n(t,a),e}())},"./falseColorMapping.js":
/*!******************************!*\
  !*** ./falseColorMapping.js ***!
  \******************************/
/*! exports provided: convertImageToFalseColorImage, convertToFalseColorImage, restoreImage */function(e,t,r){"use strict";r.r(t),r.d(t,"convertImageToFalseColorImage",(function(){return s})),r.d(t,"convertToFalseColorImage",(function(){return u})),r.d(t,"restoreImage",(function(){return o}));var n=r(/*! ./enabledElements.js */"./enabledElements.js"),a=r(/*! ./pixelDataToFalseColorData.js */"./pixelDataToFalseColorData.js"),i=r(/*! ./colors/colormap.js */"./colors/colormap.js");function o(e){return!(!e.restore||"function"!=typeof e.restore||(e.restore(),0))}function s(e,t){if(e.color&&!e.falseColor)throw new Error("Color transforms are not implemented yet");var r=(t=function(e){return e&&"string"==typeof e&&(e=Object(i.getColormap)(e)),e}(t)).getId();if(e.colormapId===r)return!1;if(o(e),r){var n=e.minPixelValue||0,s=e.maxPixelValue||255;e.restore=function(e){if(e.restore)return e.restore;var t=e.color,r=e.rgba,n=e.cachedLut,a=e.slope,i=e.windowWidth,o=e.windowCenter,s=e.minPixelValue,u=e.maxPixelValue;return function(){if(e.color=t,e.rgba=r,e.cachedLut=n,e.slope=a,e.windowWidth=i,e.windowCenter=o,e.minPixelValue=s,e.maxPixelValue=u,e.origPixelData){var l=e.origPixelData;e.getPixelData=function(){return l}}e.origPixelData=void 0,e.colormapId=void 0,e.falseColor=void 0}}(e);var u=t.createLookupTable();u.setTableRange(n,s),Object(a.default)(e,u);var l=function(e){for(var t,r=Number.MAX_VALUE,n=Number.MIN_VALUE,a=e.length,i=0;i<a;i++)r=r<(t=e[i])?r:t,n=n>t?n:t;return{minPixelValue:r,maxPixelValue:n}}(e.getPixelData());e.minPixelValue=l.minPixelValue,e.maxPixelValue=l.maxPixelValue,e.windowWidth=255,e.windowCenter=128,e.colormapId=r}return!0}function u(e,t){return s(Object(n.getEnabledElement)(e).image,t)}},"./fitToWindow.js":
/*!************************!*\
  !*** ./fitToWindow.js ***!
  \************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./enabledElements.js */"./enabledElements.js"),a=r(/*! ./updateImage.js */"./updateImage.js"),i=r(/*! ./internal/getImageFitScale.js */"./internal/getImageFitScale.js");t.default=function(e){var t=Object(n.getEnabledElement)(e),r=t.image;t.viewport.scale=Object(i.default)(t.canvas,r,t.viewport.rotation).scaleFactor,t.viewport.translation.x=0,t.viewport.translation.y=0,Object(a.default)(e)}},"./generateUUID.js":
/*!*************************!*\
  !*** ./generateUUID.js ***!
  \*************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t),t.default=function(){var e=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(e+=performance.now()),"x.x.x.x.x.x.xxxx.xxx.x.x.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?r:3&r|8).toString(16)}))}},"./getDefaultViewportForImage.js":
/*!***************************************!*\
  !*** ./getDefaultViewportForImage.js ***!
  \***************************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./enabledElements.js */"./enabledElements.js"),a=r(/*! ./internal/getDefaultViewport.js */"./internal/getDefaultViewport.js");t.default=function(e,t){var r=Object(n.getEnabledElement)(e);return Object(a.default)(r.canvas,t)}},"./getImage.js":
/*!*********************!*\
  !*** ./getImage.js ***!
  \*********************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./enabledElements.js */"./enabledElements.js");t.default=function(e){return Object(n.getEnabledElement)(e).image}},"./getPixels.js":
/*!**********************!*\
  !*** ./getPixels.js ***!
  \**********************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./enabledElements.js */"./enabledElements.js"),a=r(/*! ./getStoredPixels.js */"./getStoredPixels.js"),i=r(/*! ./internal/getModalityLUT.js */"./internal/getModalityLUT.js");t.default=function(e,t,r,o,s){var u=Object(a.default)(e,t,r,o,s),l=Object(n.getEnabledElement)(e),f=Object(i.default)(l.image.slope,l.image.intercept,l.viewport.modalityLUT);return u.map(f)}},"./getStoredPixels.js":
/*!****************************!*\
  !*** ./getStoredPixels.js ***!
  \****************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./enabledElements.js */"./enabledElements.js");t.default=function(e,t,r,a,i){if(void 0===e)throw new Error("getStoredPixels: parameter element must not be undefined");t=Math.round(t),r=Math.round(r);for(var o=Object(n.getEnabledElement)(e),s=[],u=0,l=o.image.getPixelData(),f=0;f<i;f++)for(var c=0;c<a;c++){var d=(f+r)*o.image.columns+(c+t);s[u++]=l[d]}return s}},"./getViewport.js":
/*!************************!*\
  !*** ./getViewport.js ***!
  \************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./enabledElements.js */"./enabledElements.js");t.default=function(e){var t=Object(n.getEnabledElement)(e).viewport;if(void 0!==t)return Object.assign({},t)}},"./imageCache.js":
/*!***********************!*\
  !*** ./imageCache.js ***!
  \***********************/
/*! exports provided: cachedImages, setMaximumSizeBytes, putImageLoadObject, getImageLoadObject, removeImageLoadObject, getCacheInfo, purgeCache, changeImageIdCacheSize, default */function(e,t,r){"use strict";r.r(t),r.d(t,"cachedImages",(function(){return u})),r.d(t,"setMaximumSizeBytes",(function(){return l})),r.d(t,"putImageLoadObject",(function(){return c})),r.d(t,"getImageLoadObject",(function(){return d})),r.d(t,"removeImageLoadObject",(function(){return h})),r.d(t,"getCacheInfo",(function(){return p})),r.d(t,"purgeCache",(function(){return g})),r.d(t,"changeImageIdCacheSize",(function(){return v}));var n=r(/*! ./events.js */"./events.js"),a=r(/*! ./triggerEvent.js */"./triggerEvent.js"),i=1073741824,o=0,s={},u=[];function l(e){if(void 0===e)throw new Error("setMaximumSizeBytes: parameter numBytes must not be undefined");if(void 0===e.toFixed)throw new Error("setMaximumSizeBytes: parameter numBytes must be a number");i=e,Object(a.default)(n.events,n.default.IMAGE_CACHE_MAXIMUM_SIZE_CHANGED),f()}function f(){if(!(o<=i)){for(u.sort((function(e,t){return e.timeStamp>t.timeStamp?-1:e.timeStamp<t.timeStamp?1:0}));o>i;){var e=u[u.length-1].imageId;h(e),Object(a.default)(n.events,n.default.IMAGE_CACHE_PROMISE_REMOVED,{imageId:e})}var t=p();Object(a.default)(n.events,n.default.IMAGE_CACHE_FULL,t)}}function c(e,t){if(void 0===e)throw new Error("putImageLoadObject: imageId must not be undefined");if(void 0===t.promise)throw new Error("putImageLoadObject: imageLoadObject.promise must not be undefined");if(!0===s.hasOwnProperty(e))throw new Error("putImageLoadObject: imageId already in cache");if(t.cancelFn&&"function"!=typeof t.cancelFn)throw new Error("putImageLoadObject: imageLoadObject.cancelFn must be a function");var r={loaded:!1,imageId:e,sharedCacheKey:void 0,imageLoadObject:t,timeStamp:Date.now(),sizeInBytes:0};s[e]=r,u.push(r),t.promise.then((function(e){if(-1!==u.indexOf(r)){if(r.loaded=!0,r.image=e,void 0===e.sizeInBytes)throw new Error("putImageLoadObject: image.sizeInBytes must not be undefined");if(void 0===e.sizeInBytes.toFixed)throw new Error("putImageLoadObject: image.sizeInBytes is not a number");r.sizeInBytes=e.sizeInBytes,o+=r.sizeInBytes;var t={action:"addImage",image:r};Object(a.default)(n.events,n.default.IMAGE_CACHE_CHANGED,t),r.sharedCacheKey=e.sharedCacheKey,f()}}),(function(){var t=s[e];u.splice(u.indexOf(t),1),delete s[e]}))}function d(e){if(void 0===e)throw new Error("getImageLoadObject: imageId must not be undefined");var t=s[e];if(void 0!==t)return t.timeStamp=Date.now(),t.imageLoadObject}function h(e){if(void 0===e)throw new Error("removeImageLoadObject: imageId must not be undefined");var t=s[e];if(void 0===t)throw new Error("removeImageLoadObject: imageId was not present in imageCache");u.splice(u.indexOf(t),1),o-=t.sizeInBytes;var r,i={action:"deleteImage",image:t};Object(a.default)(n.events,n.default.IMAGE_CACHE_CHANGED,i),(r=t.imageLoadObject).promise.then((function(){r.decache&&r.decache()}),(function(){r.decache&&r.decache()})),delete s[e]}function p(){return{maximumSizeInBytes:i,cacheSizeInBytes:o,numberOfImagesCached:u.length}}function g(){for(;u.length>0;)h(u[0].imageId)}function v(e,t){var r=s[e];r&&r.imageLoadObject.promise.then((function(e){var i=t-e.sizeInBytes;e.sizeInBytes=t,r.sizeInBytes=t,o+=i;var s={action:"changeImageSize",image:e};Object(a.default)(n.events,n.default.IMAGE_CACHE_CHANGED,s)}))}t.default={imageCache:s,cachedImages:u,setMaximumSizeBytes:l,putImageLoadObject:c,getImageLoadObject:d,removeImageLoadObject:h,getCacheInfo:p,purgeCache:g,changeImageIdCacheSize:v}},"./imageLoader.js":
/*!************************!*\
  !*** ./imageLoader.js ***!
  \************************/
/*! exports provided: loadImage, loadAndCacheImage, registerImageLoader, registerUnknownImageLoader */function(e,t,r){"use strict";r.r(t),r.d(t,"loadImage",(function(){return l})),r.d(t,"loadAndCacheImage",(function(){return f})),r.d(t,"registerImageLoader",(function(){return c})),r.d(t,"registerUnknownImageLoader",(function(){return d}));var n,a=r(/*! ./imageCache.js */"./imageCache.js"),i=r(/*! ./events.js */"./events.js"),o=r(/*! ./triggerEvent.js */"./triggerEvent.js"),s={};function u(e,t){var r=e.indexOf(":"),a=e.substring(0,r),u=s[a];if(null==u){if(void 0!==n)return n(e);throw new Error("loadImageFromImageLoader: no image loader for imageId")}var l=u(e,t);return l.promise.then((function(e){Object(o.default)(i.events,i.default.IMAGE_LOADED,{image:e})}),(function(t){var r={imageId:e,error:t};Object(o.default)(i.events,i.default.IMAGE_LOAD_FAILED,r)})),l}function l(e,t){if(void 0===e)throw new Error("loadImage: parameter imageId must not be undefined");var r=Object(a.getImageLoadObject)(e);return void 0!==r?r.promise:u(e,t).promise}function f(e,t){if(void 0===e)throw new Error("loadAndCacheImage: parameter imageId must not be undefined");var r=Object(a.getImageLoadObject)(e);return void 0!==r||(r=u(e,t),Object(a.putImageLoadObject)(e,r)),r.promise}function c(e,t){s[e]=t}function d(e){var t=n;return n=e,t}},"./index.js":
/*!******************!*\
  !*** ./index.js ***!
  \******************/
/*! exports provided: drawImage, generateLut, getDefaultViewport, setDefaultViewport, requestAnimationFrame, storedPixelDataToCanvasImageData, storedColorPixelDataToCanvasImageData, storedPixelDataToCanvasImageDataColorLUT, storedPixelDataToCanvasImageDataPseudocolorLUT, internal, renderLabelMapImage, renderPseudoColorImage, renderColorImage, renderGrayscaleImage, renderWebImage, renderToCanvas, canvasToPixel, disable, displayImage, draw, drawInvalidated, enable, getElementData, removeElementData, getEnabledElement, addEnabledElement, getEnabledElementsByImageId, getEnabledElements, addLayer, removeLayer, getLayer, getLayers, getVisibleLayers, setActiveLayer, getActiveLayer, purgeLayers, setLayerImage, fitToWindow, getDefaultViewportForImage, getImage, getPixels, getStoredPixels, getViewport, loadImage, loadAndCacheImage, registerImageLoader, registerUnknownImageLoader, invalidate, invalidateImageId, pageToPixel, pixelToCanvas, reset, resize, setToPixelCoordinateSystem, setViewport, updateImage, pixelDataToFalseColorData, rendering, imageCache, metaData, webGL, colors, convertImageToFalseColorImage, convertToFalseColorImage, restoreImage, EVENTS, events, triggerEvent, default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./events.js */"./events.js");r.d(t,"EVENTS",(function(){return n.default})),r.d(t,"events",(function(){return n.events}));var a=r(/*! ./enabledElements.js */"./enabledElements.js");r.d(t,"getEnabledElement",(function(){return a.getEnabledElement})),r.d(t,"addEnabledElement",(function(){return a.addEnabledElement})),r.d(t,"getEnabledElementsByImageId",(function(){return a.getEnabledElementsByImageId})),r.d(t,"getEnabledElements",(function(){return a.getEnabledElements}));var i=r(/*! ./layers.js */"./layers.js");r.d(t,"addLayer",(function(){return i.addLayer})),r.d(t,"removeLayer",(function(){return i.removeLayer})),r.d(t,"getLayer",(function(){return i.getLayer})),r.d(t,"getLayers",(function(){return i.getLayers})),r.d(t,"getVisibleLayers",(function(){return i.getVisibleLayers})),r.d(t,"setActiveLayer",(function(){return i.setActiveLayer})),r.d(t,"getActiveLayer",(function(){return i.getActiveLayer})),r.d(t,"purgeLayers",(function(){return i.purgeLayers})),r.d(t,"setLayerImage",(function(){return i.setLayerImage}));var o=r(/*! ./falseColorMapping.js */"./falseColorMapping.js");r.d(t,"convertImageToFalseColorImage",(function(){return o.convertImageToFalseColorImage})),r.d(t,"convertToFalseColorImage",(function(){return o.convertToFalseColorImage})),r.d(t,"restoreImage",(function(){return o.restoreImage}));var s=r(/*! ./enabledElementData.js */"./enabledElementData.js");r.d(t,"getElementData",(function(){return s.getElementData})),r.d(t,"removeElementData",(function(){return s.removeElementData}));var u=r(/*! ./imageLoader.js */"./imageLoader.js");r.d(t,"loadImage",(function(){return u.loadImage})),r.d(t,"loadAndCacheImage",(function(){return u.loadAndCacheImage})),r.d(t,"registerImageLoader",(function(){return u.registerImageLoader})),r.d(t,"registerUnknownImageLoader",(function(){return u.registerUnknownImageLoader}));var l=r(/*! ./canvasToPixel.js */"./canvasToPixel.js");r.d(t,"canvasToPixel",(function(){return l.default}));var f=r(/*! ./colors/index.js */"./colors/index.js");r.d(t,"colors",(function(){return f.default}));var c=r(/*! ./disable.js */"./disable.js");r.d(t,"disable",(function(){return c.default}));var d=r(/*! ./displayImage.js */"./displayImage.js");r.d(t,"displayImage",(function(){return d.default}));var h=r(/*! ./draw.js */"./draw.js");r.d(t,"draw",(function(){return h.default}));var p=r(/*! ./internal/drawImage.js */"./internal/drawImage.js");r.d(t,"drawImage",(function(){return p.default}));var g=r(/*! ./drawInvalidated.js */"./drawInvalidated.js");r.d(t,"drawInvalidated",(function(){return g.default}));var v=r(/*! ./enable.js */"./enable.js");r.d(t,"enable",(function(){return v.default}));var _=r(/*! ./fitToWindow.js */"./fitToWindow.js");r.d(t,"fitToWindow",(function(){return _.default}));var m=r(/*! ./internal/generateLut.js */"./internal/generateLut.js");r.d(t,"generateLut",(function(){return m.default}));var y=r(/*! ./internal/getDefaultViewport.js */"./internal/getDefaultViewport.js");r.d(t,"getDefaultViewport",(function(){return y.default}));var b=r(/*! ./getDefaultViewportForImage.js */"./getDefaultViewportForImage.js");r.d(t,"getDefaultViewportForImage",(function(){return b.default}));var w=r(/*! ./getImage.js */"./getImage.js");r.d(t,"getImage",(function(){return w.default}));var E=r(/*! ./getPixels.js */"./getPixels.js");r.d(t,"getPixels",(function(){return E.default}));var x=r(/*! ./getStoredPixels.js */"./getStoredPixels.js");r.d(t,"getStoredPixels",(function(){return x.default}));var j=r(/*! ./getViewport.js */"./getViewport.js");r.d(t,"getViewport",(function(){return j.default}));var I=r(/*! ./imageCache.js */"./imageCache.js");r.d(t,"imageCache",(function(){return I.default}));var A=r(/*! ./internal/index.js */"./internal/index.js");r.d(t,"internal",(function(){return A.default}));var T=r(/*! ./invalidate.js */"./invalidate.js");r.d(t,"invalidate",(function(){return T.default}));var S=r(/*! ./invalidateImageId.js */"./invalidateImageId.js");r.d(t,"invalidateImageId",(function(){return S.default}));var k=r(/*! ./metaData.js */"./metaData.js");r.d(t,"metaData",(function(){return k.default}));var P=r(/*! ./pageToPixel.js */"./pageToPixel.js");r.d(t,"pageToPixel",(function(){return P.default}));var O=r(/*! ./pixelDataToFalseColorData.js */"./pixelDataToFalseColorData.js");r.d(t,"pixelDataToFalseColorData",(function(){return O.default}));var D=r(/*! ./pixelToCanvas.js */"./pixelToCanvas.js");r.d(t,"pixelToCanvas",(function(){return D.default}));var L=r(/*! ./rendering/renderColorImage.js */"./rendering/renderColorImage.js");r.d(t,"renderColorImage",(function(){return L.renderColorImage}));var C=r(/*! ./rendering/renderGrayscaleImage.js */"./rendering/renderGrayscaleImage.js");r.d(t,"renderGrayscaleImage",(function(){return C.renderGrayscaleImage}));var R=r(/*! ./rendering/renderLabelMapImage.js */"./rendering/renderLabelMapImage.js");r.d(t,"renderLabelMapImage",(function(){return R.renderLabelMapImage}));var M=r(/*! ./rendering/renderPseudoColorImage.js */"./rendering/renderPseudoColorImage.js");r.d(t,"renderPseudoColorImage",(function(){return M.renderPseudoColorImage}));var U=r(/*! ./rendering/renderToCanvas.js */"./rendering/renderToCanvas.js");r.d(t,"renderToCanvas",(function(){return U.default}));var B=r(/*! ./rendering/renderWebImage.js */"./rendering/renderWebImage.js");r.d(t,"renderWebImage",(function(){return B.renderWebImage}));var N=r(/*! ./rendering/index.js */"./rendering/index.js");r.d(t,"rendering",(function(){return N.default}));var F=r(/*! ./internal/requestAnimationFrame.js */"./internal/requestAnimationFrame.js");r.d(t,"requestAnimationFrame",(function(){return F.default}));var V=r(/*! ./reset.js */"./reset.js");r.d(t,"reset",(function(){return V.default}));var z=r(/*! ./resize.js */"./resize.js");r.d(t,"resize",(function(){return z.default}));var q=r(/*! ./internal/setDefaultViewport.js */"./internal/setDefaultViewport.js");r.d(t,"setDefaultViewport",(function(){return q.default}));var W=r(/*! ./setToPixelCoordinateSystem.js */"./setToPixelCoordinateSystem.js");r.d(t,"setToPixelCoordinateSystem",(function(){return W.default}));var Z=r(/*! ./setViewport.js */"./setViewport.js");r.d(t,"setViewport",(function(){return Z.default}));var G=r(/*! ./internal/storedColorPixelDataToCanvasImageData.js */"./internal/storedColorPixelDataToCanvasImageData.js");r.d(t,"storedColorPixelDataToCanvasImageData",(function(){return G.default}));var H=r(/*! ./internal/storedPixelDataToCanvasImageData.js */"./internal/storedPixelDataToCanvasImageData.js");r.d(t,"storedPixelDataToCanvasImageData",(function(){return H.default}));var Y=r(/*! ./internal/storedPixelDataToCanvasImageDataColorLUT.js */"./internal/storedPixelDataToCanvasImageDataColorLUT.js");r.d(t,"storedPixelDataToCanvasImageDataColorLUT",(function(){return Y.default}));var X=r(/*! ./internal/storedPixelDataToCanvasImageDataPseudocolorLUT.js */"./internal/storedPixelDataToCanvasImageDataPseudocolorLUT.js");r.d(t,"storedPixelDataToCanvasImageDataPseudocolorLUT",(function(){return X.default}));var $=r(/*! ./triggerEvent.js */"./triggerEvent.js");r.d(t,"triggerEvent",(function(){return $.default}));var J=r(/*! ./updateImage.js */"./updateImage.js");r.d(t,"updateImage",(function(){return J.default}));var K=r(/*! ./webgl/index.js */"./webgl/index.js");r.d(t,"webGL",(function(){return K.default}));var Q={drawImage:p.default,generateLut:m.default,getDefaultViewport:y.default,requestAnimationFrame:F.default,storedPixelDataToCanvasImageData:H.default,storedColorPixelDataToCanvasImageData:G.default,storedPixelDataToCanvasImageDataColorLUT:Y.default,storedPixelDataToCanvasImageDataPseudocolorLUT:X.default,internal:A.default,renderLabelMapImage:R.renderLabelMapImage,renderPseudoColorImage:M.renderPseudoColorImage,renderColorImage:L.renderColorImage,renderGrayscaleImage:C.renderGrayscaleImage,renderWebImage:B.renderWebImage,renderToCanvas:U.default,canvasToPixel:l.default,disable:c.default,displayImage:d.default,draw:h.default,drawInvalidated:g.default,enable:v.default,getElementData:s.getElementData,removeElementData:s.removeElementData,getEnabledElement:a.getEnabledElement,addEnabledElement:a.addEnabledElement,getEnabledElementsByImageId:a.getEnabledElementsByImageId,getEnabledElements:a.getEnabledElements,addLayer:i.addLayer,removeLayer:i.removeLayer,getLayer:i.getLayer,getLayers:i.getLayers,getVisibleLayers:i.getVisibleLayers,setActiveLayer:i.setActiveLayer,getActiveLayer:i.getActiveLayer,purgeLayers:i.purgeLayers,setLayerImage:i.setLayerImage,fitToWindow:_.default,getDefaultViewportForImage:b.default,setDefaultViewport:q.default,getImage:w.default,getPixels:E.default,getStoredPixels:x.default,getViewport:j.default,loadImage:u.loadImage,loadAndCacheImage:u.loadAndCacheImage,registerImageLoader:u.registerImageLoader,registerUnknownImageLoader:u.registerUnknownImageLoader,invalidate:T.default,invalidateImageId:S.default,pageToPixel:P.default,pixelToCanvas:D.default,reset:V.default,resize:z.default,setToPixelCoordinateSystem:W.default,setViewport:Z.default,updateImage:J.default,pixelDataToFalseColorData:O.default,rendering:N.default,imageCache:I.default,metaData:k.default,webGL:K.default,colors:f.default,convertImageToFalseColorImage:o.convertImageToFalseColorImage,convertToFalseColorImage:o.convertToFalseColorImage,restoreImage:o.restoreImage,EVENTS:n.default,events:n.events,triggerEvent:$.default};t.default=Q},"./internal/calculateTransform.js":
/*!****************************************!*\
  !*** ./internal/calculateTransform.js ***!
  \****************************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./transform.js */"./internal/transform.js");t.default=function(e,t){var r=new n.Transform;r.translate(e.canvas.width/2,e.canvas.height/2);var a=e.viewport.rotation;0!==a&&r.rotate(a*Math.PI/180);var i=e.viewport.scale,o=e.viewport.scale,s=e.viewport.displayedArea.brhc.x-(e.viewport.displayedArea.tlhc.x-1),u=e.viewport.displayedArea.brhc.y-(e.viewport.displayedArea.tlhc.y-1);if("NONE"===e.viewport.displayedArea.presentationSizeMode)e.image.rowPixelSpacing<e.image.columnPixelSpacing?i*=e.image.columnPixelSpacing/e.image.rowPixelSpacing:e.image.columnPixelSpacing<e.image.rowPixelSpacing&&(o*=e.image.rowPixelSpacing/e.image.columnPixelSpacing);else if(i=e.viewport.displayedArea.columnPixelSpacing,o=e.viewport.displayedArea.rowPixelSpacing,"SCALE TO FIT"===e.viewport.displayedArea.presentationSizeMode){var l=e.canvas.height/(u*o),f=e.canvas.width/(s*i);i=o=Math.min(f,l),e.viewport.displayedArea.rowPixelSpacing<e.viewport.displayedArea.columnPixelSpacing?i*=e.viewport.displayedArea.columnPixelSpacing/e.viewport.displayedArea.rowPixelSpacing:e.viewport.displayedArea.columnPixelSpacing<e.viewport.displayedArea.rowPixelSpacing&&(o*=e.viewport.displayedArea.rowPixelSpacing/e.viewport.displayedArea.columnPixelSpacing)}return r.scale(i,o),0!==a&&r.rotate(-a*Math.PI/180),r.translate(e.viewport.translation.x,e.viewport.translation.y),0!==a&&r.rotate(a*Math.PI/180),void 0!==t&&r.scale(t,t),e.viewport.hflip&&r.scale(-1,1),e.viewport.vflip&&r.scale(1,-1),r.translate(-s/2,-u/2),r}},"./internal/computeAutoVoi.js":
/*!************************************!*\
  !*** ./internal/computeAutoVoi.js ***!
  \************************************/
/*! exports provided: default */function(e,t,r){"use strict";function n(e,t){if(!function(e){return e.voiLUT&&e.voiLUT.lut&&e.voiLUT.lut.length>0||void 0!==e.voi.windowWidth&&void 0!==e.voi.windowCenter}(e)){var r=t.maxPixelValue*t.slope+t.intercept,n=t.minPixelValue*t.slope+t.intercept,a=r-n,i=(r+n)/2;void 0===e.voi?e.voi={windowWidth:a,windowCenter:i}:(e.voi.windowWidth=a,e.voi.windowCenter=i)}}r.r(t),r.d(t,"default",(function(){return n}))},"./internal/createViewport.js":
/*!************************************!*\
  !*** ./internal/createViewport.js ***!
  \************************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./setDefaultViewport.js */"./internal/setDefaultViewport.js");t.default=function(){var e={scale:1,translation:{x:0,y:0},voi:{windowWidth:void 0,windowCenter:void 0},invert:!1,pixelReplication:!1,rotation:0,hflip:!1,vflip:!1,modalityLUT:void 0,voiLUT:void 0,colormap:void 0,labelmap:!1,displayedArea:{tlhc:{x:1,y:1},brhc:{x:1,y:1},rowPixelSpacing:1,columnPixelSpacing:1,presentationSizeMode:"NONE"}};return Object.assign({},e,n.state.viewport)}},"./internal/drawCompositeImage.js":
/*!****************************************!*\
  !*** ./internal/drawCompositeImage.js ***!
  \****************************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ../layers.js */"./layers.js"),a=r(/*! ../rendering/renderGrayscaleImage.js */"./rendering/renderGrayscaleImage.js"),i=r(/*! ../rendering/renderColorImage.js */"./rendering/renderColorImage.js"),o=r(/*! ../rendering/renderPseudoColorImage.js */"./rendering/renderPseudoColorImage.js"),s=r(/*! ../rendering/renderLabelMapImage.js */"./rendering/renderLabelMapImage.js"),u=r(/*! ../setToPixelCoordinateSystem.js */"./setToPixelCoordinateSystem.js");function l(e){var t=e.syncProps||{};t.originalScale=e.viewport.scale,e.syncProps=t}function f(e,t){e.forEach((function(e){if(e!==t&&e.viewport&&t.viewport){e.syncProps||l(e);var r,n,a=(n=e,(r=t).syncProps||l(r),n.syncProps||l(n),n.syncProps.originalScale/r.syncProps.originalScale);e.viewport.scale=t.viewport.scale*a,e.viewport.rotation=t.viewport.rotation,e.viewport.translation={x:t.viewport.translation.x/a,y:t.viewport.translation.y/a},e.viewport.hflip=t.viewport.hflip,e.viewport.vflip=t.viewport.vflip}}))}t.default=function(e,t){var r=e.element,c=Object(n.getLayers)(r),d=Object(n.getActiveLayer)(r),h=Object(n.getVisibleLayers)(r),p=!e.lastSyncViewportsState&&e.syncViewports;e.lastSyncViewportsState=e.syncViewports,p&&c.forEach((function(e){e.viewport&&l(e)})),!0===e.syncViewports&&f(h,d);var g=e.canvas.getContext("2d");g.setTransform(1,0,0,1,0,0),g.fillStyle="black",g.fillRect(0,0,e.canvas.width,e.canvas.height),function(e,t,r){t.forEach((function(t,n){if(t.image){e.save(),t.canvas=e.canvas,Object(u.default)(t,e);var l=t.viewport.colormap||t.options.colormap,f=t.viewport.labelmap,c=t.invalid||r;if(l&&""!==l&&!0===f)Object(s.addLabelMapLayer)(t,c);else if(l&&""!==l)Object(o.addPseudoColorLayer)(t,c);else if(!0===t.image.color)Object(i.addColorLayer)(t,c);else{var d=0===n;Object(a.addGrayscaleLayer)(t,c,d)}t.options&&t.options.opacity?e.globalAlpha=t.options.opacity:e.globalAlpha=1,t.options&&t.options.fillStyle&&(e.fillStyle=t.options.fillStyle),e.imageSmoothingEnabled=!t.viewport.pixelReplication,e.mozImageSmoothingEnabled=e.imageSmoothingEnabled;var h=t.viewport.displayedArea.tlhc.x-1,p=t.viewport.displayedArea.tlhc.y-1,g=t.viewport.displayedArea.brhc.x-h,v=t.viewport.displayedArea.brhc.y-p;e.drawImage(t.canvas,h,p,g,v,0,0,g,v),e.restore(),t.invalid=!1}}))}(g,h,t)}},"./internal/drawImage.js":
/*!*******************************!*\
  !*** ./internal/drawImage.js ***!
  \*******************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.needsRedraw=!0,t&&(e.invalid=!0)}},"./internal/drawImageSync.js":
/*!***********************************!*\
  !*** ./internal/drawImageSync.js ***!
  \***********************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./now.js */"./internal/now.js"),a=r(/*! ./drawCompositeImage.js */"./internal/drawCompositeImage.js"),i=r(/*! ../rendering/renderColorImage.js */"./rendering/renderColorImage.js"),o=r(/*! ../rendering/renderGrayscaleImage.js */"./rendering/renderGrayscaleImage.js"),s=r(/*! ../rendering/renderPseudoColorImage.js */"./rendering/renderPseudoColorImage.js"),u=r(/*! ../rendering/renderLabelMapImage.js */"./rendering/renderLabelMapImage.js"),l=r(/*! ../triggerEvent.js */"./triggerEvent.js"),f=r(/*! ../events.js */"./events.js");t.default=function(e,t){var r=e.image,c=e.element,d=e.layers||[];if(e.canvas&&(e.image||d.length)){var h=Object(n.default)();if(r.stats={lastGetPixelDataTime:-1,lastStoredPixelDataToCanvasImageDataTime:-1,lastPutImageDataTime:-1,lastRenderTime:-1,lastLutGenerateTime:-1},d&&d.length)Object(a.default)(e,t);else if(r){var p=r.render;p||(p=e.viewport.colormap&&""!==e.viewport.colormap&&!0===e.image.labelmap?u.renderLabelMapImage:e.viewport.colormap&&""!==e.viewport.colormap?s.renderPseudoColorImage:r.color?i.renderColorImage:o.renderGrayscaleImage),p(e,t)}var g=Object(n.default)()-h,v={viewport:e.viewport,element:c,image:r,enabledElement:e,canvasContext:e.canvas.getContext("2d"),renderTimeInMs:g};r.stats.lastRenderTime=g,e.invalid=!1,e.needsRedraw=!1,Object(l.default)(c,f.default.IMAGE_RENDERED,v)}}},"./internal/generateColorLut.js":
/*!**************************************!*\
  !*** ./internal/generateColorLut.js ***!
  \**************************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./getVOILut.js */"./internal/getVOILut.js");t.default=function(e,t,r,a,i){var o=e.maxPixelValue,s=e.minPixelValue,u=Math.min(s,0);if(void 0===e.cachedLut){var l=o-u+1;e.cachedLut={},e.cachedLut.lutArray=new Uint8ClampedArray(l)}var f=e.cachedLut.lutArray,c=Object(n.default)(t,r,i);if(!0===a)for(var d=s;d<=o;d++)f[d+-u]=255-c(d);else for(var h=s;h<=o;h++)f[h+-u]=c(h);return f}},"./internal/generateLut.js":
/*!*********************************!*\
  !*** ./internal/generateLut.js ***!
  \*********************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./getModalityLUT.js */"./internal/getModalityLUT.js"),a=r(/*! ./getVOILut.js */"./internal/getVOILut.js");t.default=function(e,t,r,i,o,s){var u=e.maxPixelValue,l=e.minPixelValue,f=Math.min(l,0);if(void 0===e.cachedLut){var c=u-f+1;e.cachedLut={},e.cachedLut.lutArray=new Uint8ClampedArray(c)}var d=e.cachedLut.lutArray,h=Object(n.default)(e.slope,e.intercept,o),p=Object(a.default)(t,r,s);if(!0===i)for(var g=l;g<=u;g++)d[g+-f]=255-p(h(g));else for(var v=l;v<=u;v++)d[v+-f]=p(h(v));return d}},"./internal/getCanvas.js":
/*!*******************************!*\
  !*** ./internal/getCanvas.js ***!
  \*******************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return a}));var n="cornerstone-canvas";function a(e){var t="canvas.".concat(n);return e.querySelector(t)||function(e){var t=document.createElement("canvas");return t.style.display="block",t.classList.add(n),e.appendChild(t),t}(e)}},"./internal/getDefaultViewport.js":
/*!****************************************!*\
  !*** ./internal/getDefaultViewport.js ***!
  \****************************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./createViewport.js */"./internal/createViewport.js"),a=r(/*! ./getImageFitScale.js */"./internal/getImageFitScale.js");t.default=function(e,t){if(void 0===e)throw new Error("getDefaultViewport: parameter canvas must not be undefined");return void 0===t?Object(n.default)():{scale:Object(a.default)(e,t,0).scaleFactor,translation:{x:0,y:0},voi:{windowWidth:t.windowWidth,windowCenter:t.windowCenter},invert:t.invert,pixelReplication:!1,rotation:0,hflip:!1,vflip:!1,modalityLUT:t.modalityLUT,voiLUT:t.voiLUT,colormap:t.colormap,labelmap:Boolean(t.labelmap),displayedArea:{tlhc:{x:1,y:1},brhc:{x:t.columns,y:t.rows},rowPixelSpacing:void 0===t.rowPixelSpacing?1:t.rowPixelSpacing,columnPixelSpacing:void 0===t.columnPixelSpacing?1:t.columnPixelSpacing,presentationSizeMode:"NONE"}}}},"./internal/getImageFitScale.js":
/*!**************************************!*\
  !*** ./internal/getImageFitScale.js ***!
  \**************************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./validator.js */"./internal/validator.js"),a=r(/*! ./getImageSize.js */"./internal/getImageSize.js");t.default=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(n.validateParameterUndefinedOrNull)(e,"getImageScale: parameter windowSize must not be undefined"),Object(n.validateParameterUndefinedOrNull)(t,"getImageScale: parameter image must not be undefined");var i=Object(a.default)(t,r),o=t.rowPixelSpacing||1,s=t.columnPixelSpacing||1,u=1,l=1;o<s?l=s/o:u=o/s;var f=e.height/i.height/u,c=e.width/i.width/l;return{verticalScale:f,horizontalScale:c,scaleFactor:Math.min(c,f)}}},"./internal/getImageSize.js":
/*!**********************************!*\
  !*** ./internal/getImageSize.js ***!
  \**********************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./validator.js */"./internal/validator.js");function a(e){return!(null==e||0===e||180===e)}t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Object(n.validateParameterUndefinedOrNull)(e,"getImageSize: parameter image must not be undefined"),Object(n.validateParameterUndefinedOrNull)(e.width,"getImageSize: parameter image must have width"),Object(n.validateParameterUndefinedOrNull)(e.height,"getImageSize: parameter image must have height"),a(t)?{height:e.width,width:e.height}:{width:e.width,height:e.height}}},"./internal/getModalityLUT.js":
/*!************************************!*\
  !*** ./internal/getModalityLUT.js ***!
  \************************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t),t.default=function(e,t,r){return r?function(e){var t=e.lut[0],r=e.lut[e.lut.length-1],n=e.firstValueMapped+e.lut.length;return function(a){return a<e.firstValueMapped?t:a>=n?r:e.lut[a]}}(r):function(e,t){return function(r){return r*e+t}}(e,t)}},"./internal/getTransform.js":
/*!**********************************!*\
  !*** ./internal/getTransform.js ***!
  \**********************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./calculateTransform.js */"./internal/calculateTransform.js");t.default=function(e){return Object(n.default)(e)}},"./internal/getVOILut.js":
/*!*******************************!*\
  !*** ./internal/getVOILut.js ***!
  \*******************************/
/*! exports provided: default */function(e,t,r){"use strict";function n(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}r.r(t),t.default=function(e,t,r){return r?function(e){var t=Math.max.apply(Math,n(e.lut)).toString(2).length-8,r=e.lut[0]>>t,a=e.lut[e.lut.length-1]>>t,i=e.firstValueMapped+e.lut.length-1;return function(n){return n<e.firstValueMapped?r:n>=i?a:e.lut[n-e.firstValueMapped]>>t}}(r):function(e,t){return function(r){return 255*((r-t)/e+.5)}}(e,t)}},"./internal/guid.js":
/*!**************************!*\
  !*** ./internal/guid.js ***!
  \**************************/
/*! exports provided: default */function(e,t,r){"use strict";function n(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}r.r(t),t.default=function(){return"".concat(n()+n(),"-").concat(n(),"-").concat(n(),"-").concat(n(),"-").concat(n()).concat(n()).concat(n())}},"./internal/index.js":
/*!***************************!*\
  !*** ./internal/index.js ***!
  \***************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./transform.js */"./internal/transform.js"),a=r(/*! ./calculateTransform.js */"./internal/calculateTransform.js"),i=r(/*! ./drawImage.js */"./internal/drawImage.js"),o=r(/*! ./generateLut.js */"./internal/generateLut.js"),s=r(/*! ./getDefaultViewport.js */"./internal/getDefaultViewport.js"),u=r(/*! ./getTransform.js */"./internal/getTransform.js"),l=r(/*! ./requestAnimationFrame.js */"./internal/requestAnimationFrame.js"),f=r(/*! ./setDefaultViewport.js */"./internal/setDefaultViewport.js"),c=r(/*! ./storedColorPixelDataToCanvasImageData.js */"./internal/storedColorPixelDataToCanvasImageData.js"),d=r(/*! ./storedPixelDataToCanvasImageData.js */"./internal/storedPixelDataToCanvasImageData.js"),h=r(/*! ./storedPixelDataToCanvasImageDataColorLUT.js */"./internal/storedPixelDataToCanvasImageDataColorLUT.js"),p=r(/*! ./storedPixelDataToCanvasImageDataPseudocolorLUT.js */"./internal/storedPixelDataToCanvasImageDataPseudocolorLUT.js"),g=r(/*! ./storedPixelDataToCanvasImageDataRGBA.js */"./internal/storedPixelDataToCanvasImageDataRGBA.js");t.default={drawImage:i.default,generateLut:o.default,getDefaultViewport:s.default,requestAnimationFrame:l.default,setDefaultViewport:f.default,storedPixelDataToCanvasImageData:d.default,storedPixelDataToCanvasImageDataRGBA:g.default,storedPixelDataToCanvasImageDataColorLUT:h.default,storedPixelDataToCanvasImageDataPseudocolorLUT:p.default,storedColorPixelDataToCanvasImageData:c.default,getTransform:u.default,calculateTransform:a.default,Transform:n.Transform}},"./internal/now.js":
/*!*************************!*\
  !*** ./internal/now.js ***!
  \*************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t),t.default=function(){return window.performance?performance.now():Date.now()}},"./internal/requestAnimationFrame.js":
/*!*******************************************!*\
  !*** ./internal/requestAnimationFrame.js ***!
  \*******************************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t),t.default=function(e){return window.requestAnimationFrame(e)||window.webkitRequestAnimationFrame(e)||window.mozRequestAnimationFrame(e)||window.oRequestAnimationFrame(e)||window.msRequestAnimationFrame(e)||function(e){window.setTimeout(e,1e3/60)}(e)}},"./internal/setDefaultViewport.js":
/*!****************************************!*\
  !*** ./internal/setDefaultViewport.js ***!
  \****************************************/
/*! exports provided: default, state */function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return n}));var n={viewport:{}};t.default=function(e){n.viewport=e||{}}},"./internal/storedColorPixelDataToCanvasImageData.js":
/*!***********************************************************!*\
  !*** ./internal/storedColorPixelDataToCanvasImageData.js ***!
  \***********************************************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./now.js */"./internal/now.js");t.default=function(e,t,r){var a=Object(n.default)(),i=e.getPixelData();e.stats.lastGetPixelDataTime=Object(n.default)()-a;var o=e.minPixelValue,s=0,u=0,l=i.length;if(a=Object(n.default)(),o<0)for(;u<l;)r[s++]=t[i[u++]+-o],r[s++]=t[i[u++]+-o],r[s]=t[i[u]+-o],u+=2,s+=2;else for(;u<l;)r[s++]=t[i[u++]],r[s++]=t[i[u++]],r[s]=t[i[u]],u+=2,s+=2;e.stats.lastStoredPixelDataToCanvasImageDataTime=Object(n.default)()-a}},"./internal/storedPixelDataToCanvasImageData.js":
/*!******************************************************!*\
  !*** ./internal/storedPixelDataToCanvasImageData.js ***!
  \******************************************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./now.js */"./internal/now.js");t.default=function(e,t,r){var a=Object(n.default)(),i=e.getPixelData();e.stats.lastGetPixelDataTime=Object(n.default)()-a;var o=i.length,s=e.minPixelValue,u=3,l=0;if(a=Object(n.default)(),i instanceof Int16Array)if(s<0)for(;l<o;)r[u]=t[i[l++]+-s],u+=4;else for(;l<o;)r[u]=t[i[l++]],u+=4;else if(i instanceof Uint16Array)for(;l<o;)r[u]=t[i[l++]],u+=4;else if(s<0)for(;l<o;)r[u]=t[i[l++]+-s],u+=4;else for(;l<o;)r[u]=t[i[l++]],u+=4;e.stats.lastStoredPixelDataToCanvasImageDataTime=Object(n.default)()-a}},"./internal/storedPixelDataToCanvasImageDataColorLUT.js":
/*!**************************************************************!*\
  !*** ./internal/storedPixelDataToCanvasImageDataColorLUT.js ***!
  \**************************************************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ../colors/index.js */"./colors/index.js"),a=r(/*! ./now.js */"./internal/now.js");t.default=function(e,t,r){var i=Object(a.default)(),o=e.getPixelData();e.stats.lastGetPixelDataTime=Object(a.default)()-i;var s,u,l=o.length,f=e.minPixelValue,c=0,d=0;if(i=Object(a.default)(),u=t instanceof n.default.LookupTable?t.Table:t,f<0)for(;d<l;)s=u[o[d++]+-f],r[c++]=s[0],r[c++]=s[1],r[c++]=s[2],r[c++]=s[3];else for(;d<l;)s=u[o[d++]],r[c++]=s[0],r[c++]=s[1],r[c++]=s[2],r[c++]=s[3];e.stats.lastStoredPixelDataToCanvasImageDataTime=Object(a.default)()-i}},"./internal/storedPixelDataToCanvasImageDataPseudocolorLUT.js":
/*!********************************************************************!*\
  !*** ./internal/storedPixelDataToCanvasImageDataPseudocolorLUT.js ***!
  \********************************************************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ../colors/index.js */"./colors/index.js"),a=r(/*! ./now.js */"./internal/now.js");t.default=function(e,t,r,i){var o=Object(a.default)(),s=e.getPixelData();e.stats.lastGetPixelDataTime=Object(a.default)()-o;var u,l,f=s.length,c=e.minPixelValue,d=0,h=0;if(o=Object(a.default)(),l=r instanceof n.default.LookupTable?r.Table:r,c<0)for(;h<f;)u=l[t[s[h++]+-c]],i[d++]=u[0],i[d++]=u[1],i[d++]=u[2],i[d++]=u[3];else for(;h<f;)u=l[t[s[h++]]],i[d++]=u[0],i[d++]=u[1],i[d++]=u[2],i[d++]=u[3];e.stats.lastStoredPixelDataToCanvasImageDataTime=Object(a.default)()-o}},"./internal/storedPixelDataToCanvasImageDataRGBA.js":
/*!**********************************************************!*\
  !*** ./internal/storedPixelDataToCanvasImageDataRGBA.js ***!
  \**********************************************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./now.js */"./internal/now.js");t.default=function(e,t,r){var a=Object(n.default)(),i=e.getPixelData();e.stats.lastGetPixelDataTime=Object(n.default)()-a;var o,s=i.length,u=e.minPixelValue,l=0,f=0;if(a=Object(n.default)(),i instanceof Int16Array)if(u<0)for(;f<s;)o=t[i[f++]+-u],r[l++]=o,r[l++]=o,r[l++]=o,r[l++]=255;else for(;f<s;)o=t[i[f++]],r[l++]=o,r[l++]=o,r[l++]=o,r[l++]=255;else if(i instanceof Uint16Array)for(;f<s;)o=t[i[f++]],r[l++]=o,r[l++]=o,r[l++]=o,r[l++]=255;else if(u<0)for(;f<s;)o=t[i[f++]+-u],r[l++]=o,r[l++]=o,r[l++]=o,r[l++]=255;else for(;f<s;)o=t[i[f++]],r[l++]=o,r[l++]=o,r[l++]=o,r[l++]=255;e.stats.lastStoredPixelDataToCanvasImageDataTime=Object(n.default)()-a}},"./internal/storedRGBAPixelDataToCanvasImageData.js":
/*!**********************************************************!*\
  !*** ./internal/storedRGBAPixelDataToCanvasImageData.js ***!
  \**********************************************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./now.js */"./internal/now.js");t.default=function(e,t,r){var a=Object(n.default)(),i=e.getPixelData();e.stats.lastGetPixelDataTime=Object(n.default)()-a;var o=e.minPixelValue,s=0,u=0,l=i.length;if(a=Object(n.default)(),o<0)for(;u<l;)r[s++]=t[i[u++]+-o],r[s++]=t[i[u++]+-o],r[s++]=t[i[u++]+-o],r[s++]=i[u++];else for(;u<l;)r[s++]=t[i[u++]],r[s++]=t[i[u++]],r[s++]=t[i[u++]],r[s++]=i[u++];e.stats.lastStoredPixelDataToCanvasImageDataTime=Object(n.default)()-a}},"./internal/transform.js":
/*!*******************************!*\
  !*** ./internal/transform.js ***!
  \*******************************/
/*! exports provided: Transform */function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.r(t),r.d(t,"Transform",(function(){return a}));var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.reset()}var t,r,a;return t=e,(r=[{key:"reset",value:function(){this.m=[1,0,0,1,0,0]}},{key:"clone",value:function(){var t=new e;return t.m[0]=this.m[0],t.m[1]=this.m[1],t.m[2]=this.m[2],t.m[3]=this.m[3],t.m[4]=this.m[4],t.m[5]=this.m[5],t}},{key:"multiply",value:function(e){var t=this.m[0]*e.m[0]+this.m[2]*e.m[1],r=this.m[1]*e.m[0]+this.m[3]*e.m[1],n=this.m[0]*e.m[2]+this.m[2]*e.m[3],a=this.m[1]*e.m[2]+this.m[3]*e.m[3],i=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],o=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];this.m[0]=t,this.m[1]=r,this.m[2]=n,this.m[3]=a,this.m[4]=i,this.m[5]=o}},{key:"invert",value:function(){var e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),t=this.m[3]*e,r=-this.m[1]*e,n=-this.m[2]*e,a=this.m[0]*e,i=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),o=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);this.m[0]=t,this.m[1]=r,this.m[2]=n,this.m[3]=a,this.m[4]=i,this.m[5]=o}},{key:"rotate",value:function(e){var t=Math.cos(e),r=Math.sin(e),n=this.m[0]*t+this.m[2]*r,a=this.m[1]*t+this.m[3]*r,i=this.m[0]*-r+this.m[2]*t,o=this.m[1]*-r+this.m[3]*t;this.m[0]=n,this.m[1]=a,this.m[2]=i,this.m[3]=o}},{key:"translate",value:function(e,t){this.m[4]+=this.m[0]*e+this.m[2]*t,this.m[5]+=this.m[1]*e+this.m[3]*t}},{key:"scale",value:function(e,t){this.m[0]*=e,this.m[1]*=e,this.m[2]*=t,this.m[3]*=t}},{key:"transformPoint",value:function(e,t){var r=e,n=t;return{x:e=r*this.m[0]+n*this.m[2]+this.m[4],y:t=r*this.m[1]+n*this.m[3]+this.m[5]}}}])&&n(t.prototype,r),a&&n(t,a),e}()},"./internal/tryEnableWebgl.js":
/*!************************************!*\
  !*** ./internal/tryEnableWebgl.js ***!
  \************************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ../webgl/index.js */"./webgl/index.js");t.default=function(e){return n.default.renderer.isWebGLAvailable()?(n.default.renderer.initRenderer(),e.renderer="webgl",!0):(console.error("WebGL not available, falling back to Canvas renderer"),delete e.renderer,!1)}},"./internal/validator.js":
/*!*******************************!*\
  !*** ./internal/validator.js ***!
  \*******************************/
/*! exports provided: validateParameterUndefined, validateParameterUndefinedOrNull */function(e,t,r){"use strict";function n(e,t){if(void 0===e)throw new Error(t)}function a(e,t){if(null==e)throw new Error(t)}r.r(t),r.d(t,"validateParameterUndefined",(function(){return n})),r.d(t,"validateParameterUndefinedOrNull",(function(){return a}))},"./invalidate.js":
/*!***********************!*\
  !*** ./invalidate.js ***!
  \***********************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./enabledElements.js */"./enabledElements.js"),a=r(/*! ./triggerEvent.js */"./triggerEvent.js"),i=r(/*! ./events.js */"./events.js");t.default=function(e){var t=Object(n.getEnabledElement)(e);t.invalid=!0,t.needsRedraw=!0;var r={element:e};Object(a.default)(e,i.default.INVALIDATED,r)}},"./invalidateImageId.js":
/*!******************************!*\
  !*** ./invalidateImageId.js ***!
  \******************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./enabledElements.js */"./enabledElements.js"),a=r(/*! ./internal/drawImage.js */"./internal/drawImage.js");t.default=function(e){Object(n.getEnabledElementsByImageId)(e).forEach((function(e){Object(a.default)(e,!0)}))}},"./layers.js":
/*!*******************!*\
  !*** ./layers.js ***!
  \*******************/
/*! exports provided: rescaleImage, addLayer, removeLayer, getLayer, getLayers, getVisibleLayers, setActiveLayer, setLayerImage, getActiveLayer, purgeLayers */function(e,t,r){"use strict";r.r(t),r.d(t,"rescaleImage",(function(){return f})),r.d(t,"addLayer",(function(){return c})),r.d(t,"removeLayer",(function(){return d})),r.d(t,"getLayer",(function(){return h})),r.d(t,"getLayers",(function(){return p})),r.d(t,"getVisibleLayers",(function(){return g})),r.d(t,"setActiveLayer",(function(){return v})),r.d(t,"setLayerImage",(function(){return _})),r.d(t,"getActiveLayer",(function(){return m})),r.d(t,"purgeLayers",(function(){return y}));var n=r(/*! ./internal/guid.js */"./internal/guid.js"),a=r(/*! ./enabledElements.js */"./enabledElements.js"),i=r(/*! ./internal/getDefaultViewport.js */"./internal/getDefaultViewport.js"),o=r(/*! ./updateImage.js */"./updateImage.js"),s=r(/*! ./triggerEvent.js */"./triggerEvent.js"),u=r(/*! ./events.js */"./events.js");function l(e,t,r){var n=t.element,a={viewport:t.viewport,element:t.element,image:t.image,enabledElement:t,layerId:r};Object(s.default)(n,e,a)}function f(e,t){if(e.layerId===t.layerId)throw new Error("rescaleImage: both arguments represent the same layer");var r=e.image,n=t.image;if(r.imageId&&n.imageId){var a=t.viewport.displayedArea.columnPixelSpacing*n.width/(e.viewport.displayedArea.columnPixelSpacing*r.width),i=t.viewport.scale/e.viewport.scale*a;t.viewport.scale=e.viewport.scale*i}}function c(e,t,r){var o,s=Object(n.default)(),c=Object(a.getEnabledElement)(e),d=c.layers;t&&(o=Object(i.default)(c.canvas,t),r&&r.viewport&&(o=Object.assign(o,r.viewport))),!1!==c.syncViewports&&(c.syncViewports=!0);var h={image:t,layerId:s,viewport:o,options:r||{},renderingTools:{}};return d.length&&t&&f(d[0],h),d.push(h),l(u.default.LAYER_ADDED,c,s),1===d.length&&t&&v(e,s),s}function d(e,t){var r=Object(a.getEnabledElement)(e),n=r.layers,i=r.layers.findIndex((function(e){return e.layerId===t}));-1!==i&&(n.splice(i,1),t===r.activeLayerId&&n.length&&v(e,n[0].layerId),l(u.default.LAYER_REMOVED,r,t))}function h(e,t){return Object(a.getEnabledElement)(e).layers.find((function(e){return e.layerId===t}))}function p(e){return Object(a.getEnabledElement)(e).layers}function g(e){return Object(a.getEnabledElement)(e).layers.filter((function(e){return e.options&&!1!==e.options.visible&&0!==e.options.opacity}))}function v(e,t){var r=Object(a.getEnabledElement)(e);if(r.activeLayerId!==t){var n=r.layers.findIndex((function(e){return e.layerId===t}));if(-1===n)throw new Error("setActiveLayer: layer not found in layers array");var i=r.layers[n];if(!i.image)throw new Error("setActiveLayer: layer with undefined image cannot be set as active.");r.activeLayerId=t,r.image=i.image,r.viewport=i.viewport,Object(o.default)(e),l(u.default.ACTIVE_LAYER_CHANGED,r,t)}}function _(e,t,r){var n,o=Object(a.getEnabledElement)(e),s=o.layers[0];if(!(n=r?h(e,r):m(e)))throw new Error("setLayerImage: Layer not found");if(n.image=t,t){if(!n.viewport){var u=Object(i.default)(o.canvas,t);n.options&&n.options.viewport&&(n.viewport=Object.assign(u,n.options.viewport)),s.layerId!==r&&f(s,n)}}else n.viewport=void 0}function m(e){var t=Object(a.getEnabledElement)(e);return t.layers.find((function(e){return e.layerId===t.activeLayerId}))}function y(e){var t=Object(a.getEnabledElement)(e);t.layers=[],delete t.activeLayerId,delete t.lastSyncViewportsState}},"./metaData.js":
/*!*********************!*\
  !*** ./metaData.js ***!
  \*********************/
/*! exports provided: addProvider, removeProvider, default */function(e,t,r){"use strict";r.r(t),r.d(t,"addProvider",(function(){return a})),r.d(t,"removeProvider",(function(){return i}));var n=[];function a(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(t=0;t<n.length&&!(n[t].priority<=r);t++);n.splice(t,0,{priority:r,provider:e})}function i(e){for(var t=0;t<n.length;t++)if(n[t].provider===e){n.splice(t,1);break}}t.default={addProvider:a,removeProvider:i,get:function(e,t){for(var r=0;r<n.length;r++){var a=n[r].provider(e,t);if(void 0!==a)return a}}}},"./pageToPixel.js":
/*!************************!*\
  !*** ./pageToPixel.js ***!
  \************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./enabledElements.js */"./enabledElements.js"),a=r(/*! ./internal/getTransform.js */"./internal/getTransform.js");t.default=function(e,t,r){var i=Object(n.getEnabledElement)(e);if(void 0===i.image)throw new Error("image has not been loaded yet");var o=e.getBoundingClientRect(),s={x:t-o.left-window.pageXOffset,y:r-o.top-window.pageYOffset},u=Object(a.default)(i);return u.invert(),u.transformPoint(s.x,s.y)}},"./pixelDataToFalseColorData.js":
/*!**************************************!*\
  !*** ./pixelDataToFalseColorData.js ***!
  \**************************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return a}));var n=r(/*! ./colors/index.js */"./colors/index.js");function a(e,t){if(e.color&&!e.falseColor)throw new Error("Color transforms are not implemented yet");var r,a,i=e.minPixelValue,o=0,s=0,u=e.width*e.height,l=e.origPixelData||e.getPixelData(),f=new Uint8Array(4*u);if(e.color=!0,e.falseColor=!0,e.origPixelData=l,t instanceof n.default.LookupTable)for(t.build();s<u;)r=l[s++],a=t.mapValue(r),f[o++]=a[0],f[o++]=a[1],f[o++]=a[2],f[o++]=a[3];else if(i<0)for(;s<u;)r=l[s++],f[o++]=t[r+-i][0],f[o++]=t[r+-i][1],f[o++]=t[r+-i][2],f[o++]=t[r+-i][3];else for(;s<u;)r=l[s++],f[o++]=t[r][0],f[o++]=t[r][1],f[o++]=t[r][2],f[o++]=t[r][3];e.rgba=!0,e.cachedLut=void 0,e.render=void 0,e.slope=1,e.intercept=0,e.minPixelValue=0,e.maxPixelValue=255,e.windowWidth=255,e.windowCenter=128,e.getPixelData=function(){return f}}},"./pixelToCanvas.js":
/*!**************************!*\
  !*** ./pixelToCanvas.js ***!
  \**************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./enabledElements.js */"./enabledElements.js"),a=r(/*! ./internal/getTransform.js */"./internal/getTransform.js");t.default=function(e,t){var r=Object(n.getEnabledElement)(e);return Object(a.default)(r).transformPoint(t.x,t.y)}},"./rendering/doesImageNeedToBeRendered.js":
/*!************************************************!*\
  !*** ./rendering/doesImageNeedToBeRendered.js ***!
  \************************************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t),t.default=function(e,t){var r=e.renderingTools.lastRenderedImageId,n=e.renderingTools.lastRenderedViewport;return t.imageId!==r||!n||n.windowCenter!==e.viewport.voi.windowCenter||n.windowWidth!==e.viewport.voi.windowWidth||n.invert!==e.viewport.invert||n.rotation!==e.viewport.rotation||n.hflip!==e.viewport.hflip||n.vflip!==e.viewport.vflip||n.modalityLUT!==e.viewport.modalityLUT||n.voiLUT!==e.viewport.voiLUT||n.colormap!==e.viewport.colormap}},"./rendering/getLut.js":
/*!*****************************!*\
  !*** ./rendering/getLut.js ***!
  \*****************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ../internal/computeAutoVoi.js */"./internal/computeAutoVoi.js"),a=r(/*! ./lutMatches.js */"./rendering/lutMatches.js"),i=r(/*! ../internal/generateLut.js */"./internal/generateLut.js");t.default=function(e,t,r){return void 0!==e.cachedLut&&e.cachedLut.windowCenter===t.voi.windowCenter&&e.cachedLut.windowWidth===t.voi.windowWidth&&Object(a.default)(e.cachedLut.modalityLUT,t.modalityLUT)&&Object(a.default)(e.cachedLut.voiLUT,t.voiLUT)&&e.cachedLut.invert===t.invert&&!0!==r||(Object(n.default)(t,e),Object(i.default)(e,t.voi.windowWidth,t.voi.windowCenter,t.invert,t.modalityLUT,t.voiLUT),e.cachedLut.windowWidth=t.voi.windowWidth,e.cachedLut.windowCenter=t.voi.windowCenter,e.cachedLut.invert=t.invert,e.cachedLut.voiLUT=t.voiLUT,e.cachedLut.modalityLUT=t.modalityLUT),e.cachedLut.lutArray}},"./rendering/index.js":
/*!****************************!*\
  !*** ./rendering/index.js ***!
  \****************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./renderColorImage.js */"./rendering/renderColorImage.js"),a=r(/*! ./renderGrayscaleImage.js */"./rendering/renderGrayscaleImage.js"),i=r(/*! ./renderWebImage.js */"./rendering/renderWebImage.js"),o=r(/*! ./renderPseudoColorImage.js */"./rendering/renderPseudoColorImage.js"),s=r(/*! ./renderLabelMapImage.js */"./rendering/renderLabelMapImage.js"),u=r(/*! ./renderToCanvas.js */"./rendering/renderToCanvas.js");t.default={colorImage:n.renderColorImage,grayscaleImage:a.renderGrayscaleImage,webImage:i.renderWebImage,pseudoColorImage:o.renderPseudoColorImage,labelMapImage:s.renderLabelMapImage,toCanvas:u.default}},"./rendering/initializeRenderCanvas.js":
/*!*********************************************!*\
  !*** ./rendering/initializeRenderCanvas.js ***!
  \*********************************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t),t.default=function(e,t){var r=e.renderingTools.renderCanvas;r.width=t.width,r.height=t.height;var n=r.getContext("2d");n.fillStyle="white",n.fillRect(0,0,r.width,r.height);var a=n.getImageData(0,0,t.width,t.height);e.renderingTools.renderCanvasContext=n,e.renderingTools.renderCanvasData=a}},"./rendering/lutMatches.js":
/*!*********************************!*\
  !*** ./rendering/lutMatches.js ***!
  \*********************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t),t.default=function(e,t){return!e&&!t||!(!e||!t)&&e.id===t.id}},"./rendering/renderColorImage.js":
/*!***************************************!*\
  !*** ./rendering/renderColorImage.js ***!
  \***************************************/
/*! exports provided: renderColorImage, addColorLayer */function(e,t,r){"use strict";r.r(t),r.d(t,"renderColorImage",(function(){return h})),r.d(t,"addColorLayer",(function(){return p}));var n=r(/*! ../internal/now.js */"./internal/now.js"),a=r(/*! ../internal/generateColorLut.js */"./internal/generateColorLut.js"),i=r(/*! ../internal/storedColorPixelDataToCanvasImageData.js */"./internal/storedColorPixelDataToCanvasImageData.js"),o=r(/*! ../internal/storedRGBAPixelDataToCanvasImageData.js */"./internal/storedRGBAPixelDataToCanvasImageData.js"),s=r(/*! ../setToPixelCoordinateSystem.js */"./setToPixelCoordinateSystem.js"),u=r(/*! ../webgl/index.js */"./webgl/index.js"),l=r(/*! ./doesImageNeedToBeRendered.js */"./rendering/doesImageNeedToBeRendered.js"),f=r(/*! ./initializeRenderCanvas.js */"./rendering/initializeRenderCanvas.js"),c=r(/*! ./saveLastRendered.js */"./rendering/saveLastRendered.js");function d(e,t,r){var s=!0===e.renderingTools.lastRenderedIsColor;e.renderingTools.renderCanvas&&s||(e.renderingTools.renderCanvas=document.createElement("canvas"));var u=e.renderingTools.renderCanvas;if(255===e.viewport.voi.windowWidth&&128===e.viewport.voi.windowCenter&&!1===e.viewport.invert&&t.getCanvas&&t.getCanvas())return t.getCanvas();if(!1===Object(l.default)(e,t)&&!0!==r)return u;u.width===t.width&&u.height===t.height||Object(f.default)(e,t);var c=Object(n.default)(),d=function(e,t){return void 0!==e.cachedLut&&e.cachedLut.windowCenter===t.voi.windowCenter&&e.cachedLut.windowWidth===t.voi.windowWidth&&e.cachedLut.invert===t.invert||(Object(a.default)(e,t.voi.windowWidth,t.voi.windowCenter,t.invert),e.cachedLut.windowWidth=t.voi.windowWidth,e.cachedLut.windowCenter=t.voi.windowCenter,e.cachedLut.invert=t.invert),e.cachedLut.lutArray}(t,e.viewport);t.stats=t.stats||{},t.stats.lastLutGenerateTime=Object(n.default)()-c;var h=e.renderingTools.renderCanvasData,p=e.renderingTools.renderCanvasContext;return t.rgba?Object(o.default)(t,d,h.data):Object(i.default)(t,d,h.data),c=Object(n.default)(),p.putImageData(h,0,0),t.stats.lastPutImageDataTime=Object(n.default)()-c,u}function h(e,t){if(void 0===e)throw new Error("renderColorImage: enabledElement parameter must not be undefined");var r=e.image;if(void 0===r)throw new Error("renderColorImage: image must be loaded before it can be drawn");var n,a=e.canvas.getContext("2d");a.setTransform(1,0,0,1,0,0),a.fillStyle="black",a.fillRect(0,0,e.canvas.width,e.canvas.height),a.imageSmoothingEnabled=!e.viewport.pixelReplication,a.mozImageSmoothingEnabled=a.imageSmoothingEnabled,Object(s.default)(e,a),n=e.options&&e.options.renderer&&"webgl"===e.options.renderer.toLowerCase()?u.default.renderer.render(e):d(e,r,t);var i=e.viewport.displayedArea.tlhc.x-1,o=e.viewport.displayedArea.tlhc.y-1,l=e.viewport.displayedArea.brhc.x-i,f=e.viewport.displayedArea.brhc.y-o;a.drawImage(n,i,o,l,f,0,0,l,f),e.renderingTools=Object(c.default)(e)}function p(e,t){if(void 0===e)throw new Error("addColorLayer: layer parameter must not be undefined");var r=e.image;if(void 0===r)throw new Error("addColorLayer: image must be loaded before it can be drawn");r.rgba=!0,e.canvas=d(e,r,t);var n=e.canvas.getContext("2d");n.imageSmoothingEnabled=!e.viewport.pixelReplication,n.mozImageSmoothingEnabled=n.imageSmoothingEnabled,e.renderingTools=Object(c.default)(e)}},"./rendering/renderGrayscaleImage.js":
/*!*******************************************!*\
  !*** ./rendering/renderGrayscaleImage.js ***!
  \*******************************************/
/*! exports provided: renderGrayscaleImage, addGrayscaleLayer */function(e,t,r){"use strict";r.r(t),r.d(t,"renderGrayscaleImage",(function(){return h})),r.d(t,"addGrayscaleLayer",(function(){return p}));var n=r(/*! ../internal/storedPixelDataToCanvasImageData.js */"./internal/storedPixelDataToCanvasImageData.js"),a=r(/*! ../internal/storedPixelDataToCanvasImageDataRGBA.js */"./internal/storedPixelDataToCanvasImageDataRGBA.js"),i=r(/*! ../setToPixelCoordinateSystem.js */"./setToPixelCoordinateSystem.js"),o=r(/*! ../internal/now.js */"./internal/now.js"),s=r(/*! ../webgl/index.js */"./webgl/index.js"),u=r(/*! ./getLut.js */"./rendering/getLut.js"),l=r(/*! ./doesImageNeedToBeRendered.js */"./rendering/doesImageNeedToBeRendered.js"),f=r(/*! ./initializeRenderCanvas.js */"./rendering/initializeRenderCanvas.js"),c=r(/*! ./saveLastRendered.js */"./rendering/saveLastRendered.js");function d(e,t,r){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=!0===e.renderingTools.lastRenderedIsColor;e.renderingTools.renderCanvas&&!s||(e.renderingTools.renderCanvas=document.createElement("canvas"),Object(f.default)(e,t));var c=e.renderingTools.renderCanvas;if(!1===Object(l.default)(e,t)&&!0!==r)return c;c.width===t.width&&c.height===t.height||Object(f.default)(e,t);var d=Object(o.default)(),h=Object(u.default)(t,e.viewport,r);t.stats=t.stats||{},t.stats.lastLutGenerateTime=Object(o.default)()-d;var p=e.renderingTools.renderCanvasData,g=e.renderingTools.renderCanvasContext;return i?Object(n.default)(t,h,p.data):Object(a.default)(t,h,p.data),d=Object(o.default)(),g.putImageData(p,0,0),t.stats.lastPutImageDataTime=Object(o.default)()-d,c}function h(e,t){if(void 0===e)throw new Error("drawImage: enabledElement parameter must not be undefined");var r=e.image;if(void 0===r)throw new Error("drawImage: image must be loaded before it can be drawn");var n,a=e.canvas.getContext("2d");a.setTransform(1,0,0,1,0,0),a.fillStyle="black",a.fillRect(0,0,e.canvas.width,e.canvas.height),a.imageSmoothingEnabled=!e.viewport.pixelReplication,a.mozImageSmoothingEnabled=a.imageSmoothingEnabled,Object(i.default)(e,a),n=e.options&&e.options.renderer&&"webgl"===e.options.renderer.toLowerCase()?s.default.renderer.render(e):d(e,r,t);var o=e.viewport.displayedArea.tlhc.x-1,u=e.viewport.displayedArea.tlhc.y-1,l=e.viewport.displayedArea.brhc.x-o,f=e.viewport.displayedArea.brhc.y-u;a.drawImage(n,o,u,l,f,0,0,l,f),e.renderingTools=Object(c.default)(e)}function p(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0===e)throw new Error("addGrayscaleLayer: layer parameter must not be undefined");var n=e.image;if(void 0===n)throw new Error("addGrayscaleLayer: image must be loaded before it can be drawn");e.canvas=d(e,n,t,r);var a=e.canvas.getContext("2d");a.imageSmoothingEnabled=!e.viewport.pixelReplication,a.mozImageSmoothingEnabled=a.imageSmoothingEnabled,e.renderingTools=Object(c.default)(e)}},"./rendering/renderLabelMapImage.js":
/*!******************************************!*\
  !*** ./rendering/renderLabelMapImage.js ***!
  \******************************************/
/*! exports provided: renderLabelMapImage, addLabelMapLayer */function(e,t,r){"use strict";r.r(t),r.d(t,"renderLabelMapImage",(function(){return c})),r.d(t,"addLabelMapLayer",(function(){return d}));var n=r(/*! ../setToPixelCoordinateSystem.js */"./setToPixelCoordinateSystem.js"),a=r(/*! ../internal/now.js */"./internal/now.js"),i=r(/*! ./initializeRenderCanvas.js */"./rendering/initializeRenderCanvas.js"),o=r(/*! ./saveLastRendered.js */"./rendering/saveLastRendered.js"),s=r(/*! ./doesImageNeedToBeRendered.js */"./rendering/doesImageNeedToBeRendered.js"),u=r(/*! ../internal/storedPixelDataToCanvasImageDataColorLUT.js */"./internal/storedPixelDataToCanvasImageDataColorLUT.js"),l=r(/*! ../colors/index.js */"./colors/index.js");function f(e,t,r){e.renderingTools.renderCanvas||(e.renderingTools.renderCanvas=document.createElement("canvas"));var n=e.renderingTools.renderCanvas,o=e.viewport.colormap||e.options.colormap;if(e.options.colormap&&console.warn("enabledElement.options.colormap is deprecated. Use enabledElement.viewport.colormap instead"),o&&"string"==typeof o&&(o=l.default.getColormap(o)),!o)throw new Error("renderLabelMapImage: colormap not found.");var f=o.getId();if(!1===Object(s.default)(e,t)&&!0!==r&&e.renderingTools.colormapId===f)return n;n.width===t.width&&n.height===t.height||Object(i.default)(e,t);var c=Object(a.default)();e.renderingTools.colorLut&&!r&&e.renderingTools.colormapId===f||(e.renderingTools.colorLut=o.createLookupTable(),e.renderingTools.colormapId=f),t.stats=t.stats||{},t.stats.lastLutGenerateTime=Object(a.default)()-c;var d=e.renderingTools.colorLut,h=e.renderingTools.renderCanvasData,p=e.renderingTools.renderCanvasContext;return Object(u.default)(t,d,h.data),c=Object(a.default)(),p.putImageData(h,0,0),t.stats.lastPutImageDataTime=Object(a.default)()-c,n}function c(e,t){if(void 0===e)throw new Error("renderLabelMapImage: enabledElement parameter must not be undefined");var r=e.image;if(void 0===r)throw new Error("renderLabelMapImage: image must be loaded before it can be drawn");var a=e.canvas.getContext("2d");a.setTransform(1,0,0,1,0,0),a.fillStyle="black",a.fillRect(0,0,e.canvas.width,e.canvas.height),a.imageSmoothingEnabled=!e.viewport.pixelReplication,a.mozImageSmoothingEnabled=a.imageSmoothingEnabled,Object(n.default)(e,a);var i=f(e,r,t),s=e.viewport.displayedArea.tlhc.x-1,u=e.viewport.displayedArea.tlhc.y-1,l=e.viewport.displayedArea.brhc.x-s,c=e.viewport.displayedArea.brhc.y-u;a.drawImage(i,s,u,l,c,0,0,l,c),e.renderingTools=Object(o.default)(e)}function d(e,t){if(void 0===e)throw new Error("addLabelMapLayer: layer parameter must not be undefined");var r=e.image;if(void 0===r)throw new Error("addLabelMapLayer: image must be loaded before it can be drawn");e.canvas=f(e,r,t);var n=e.canvas.getContext("2d");n.imageSmoothingEnabled=!e.viewport.pixelReplication,n.mozImageSmoothingEnabled=n.imageSmoothingEnabled,e.renderingTools=Object(o.default)(e)}},"./rendering/renderPseudoColorImage.js":
/*!*********************************************!*\
  !*** ./rendering/renderPseudoColorImage.js ***!
  \*********************************************/
/*! exports provided: renderPseudoColorImage, addPseudoColorLayer */function(e,t,r){"use strict";r.r(t),r.d(t,"renderPseudoColorImage",(function(){return d})),r.d(t,"addPseudoColorLayer",(function(){return h}));var n=r(/*! ../setToPixelCoordinateSystem.js */"./setToPixelCoordinateSystem.js"),a=r(/*! ../internal/now.js */"./internal/now.js"),i=r(/*! ./initializeRenderCanvas.js */"./rendering/initializeRenderCanvas.js"),o=r(/*! ./getLut.js */"./rendering/getLut.js"),s=r(/*! ./saveLastRendered.js */"./rendering/saveLastRendered.js"),u=r(/*! ./doesImageNeedToBeRendered.js */"./rendering/doesImageNeedToBeRendered.js"),l=r(/*! ../internal/storedPixelDataToCanvasImageDataPseudocolorLUT.js */"./internal/storedPixelDataToCanvasImageDataPseudocolorLUT.js"),f=r(/*! ../colors/index.js */"./colors/index.js");function c(e,t,r){e.renderingTools.renderCanvas||(e.renderingTools.renderCanvas=document.createElement("canvas"));var n=e.renderingTools.renderCanvas,s=e.viewport.colormap||e.options.colormap;if(e.options.colormap&&console.warn("enabledElement.options.colormap is deprecated. Use enabledElement.viewport.colormap instead"),s&&"string"==typeof s&&(s=f.default.getColormap(s)),!s)throw new Error("renderPseudoColorImage: colormap not found.");var c=s.getId();if(!1===Object(u.default)(e,t)&&!0!==r&&e.renderingTools.colormapId===c)return n;n.width===t.width&&n.height===t.height||Object(i.default)(e,t);var d=Object(a.default)();e.renderingTools.colorLut&&!r&&e.renderingTools.colormapId===c||(s.setNumberOfColors(256),e.renderingTools.colorLut=s.createLookupTable(),e.renderingTools.colormapId=c);var h=Object(o.default)(t,e.viewport,r);t.stats=t.stats||{},t.stats.lastLutGenerateTime=Object(a.default)()-d;var p=e.renderingTools.colorLut,g=e.renderingTools.renderCanvasData,v=e.renderingTools.renderCanvasContext;return Object(l.default)(t,h,p,g.data),d=Object(a.default)(),v.putImageData(g,0,0),t.stats.lastPutImageDataTime=Object(a.default)()-d,n}function d(e,t){if(void 0===e)throw new Error("drawImage: enabledElement parameter must not be undefined");var r=e.image;if(void 0===r)throw new Error("drawImage: image must be loaded before it can be drawn");var a=e.canvas.getContext("2d");a.setTransform(1,0,0,1,0,0),a.fillStyle="black",a.fillRect(0,0,e.canvas.width,e.canvas.height),a.imageSmoothingEnabled=!e.viewport.pixelReplication,a.mozImageSmoothingEnabled=a.imageSmoothingEnabled,Object(n.default)(e,a);var i=c(e,r,t),o=e.viewport.displayedArea.tlhc.x-1,u=e.viewport.displayedArea.tlhc.y-1,l=e.viewport.displayedArea.brhc.x-o,f=e.viewport.displayedArea.brhc.y-u;a.drawImage(i,o,u,l,f,0,0,l,f),e.renderingTools=Object(s.default)(e)}function h(e,t){if(void 0===e)throw new Error("addPseudoColorLayer: layer parameter must not be undefined");var r=e.image;if(void 0===r)throw new Error("addPseudoColorLayer: image must be loaded before it can be drawn");e.canvas=c(e,r,t);var n=e.canvas.getContext("2d");n.imageSmoothingEnabled=!e.viewport.pixelReplication,n.mozImageSmoothingEnabled=n.imageSmoothingEnabled,e.renderingTools=Object(s.default)(e)}},"./rendering/renderToCanvas.js":
/*!*************************************!*\
  !*** ./rendering/renderToCanvas.js ***!
  \*************************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ../triggerEvent.js */"./triggerEvent.js"),a=r(/*! ../events.js */"./events.js"),i=r(/*! ../internal/drawImageSync.js */"./internal/drawImageSync.js"),o=r(/*! ../internal/getDefaultViewport.js */"./internal/getDefaultViewport.js"),s=r(/*! ../internal/tryEnableWebgl.js */"./internal/tryEnableWebgl.js");function u(e,t,r,n){return{element:e,canvas:e,image:t,invalid:!0,needsRedraw:!0,options:r,layers:[],data:{},renderingTools:{},viewport:n}}t.default=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(void 0===e)throw new Error("renderToCanvas: parameter canvas cannot be undefined");l&&l.renderer&&"webgl"===l.renderer.toLowerCase()&&Object(s.default)(l);var f=Object(o.default)(e,t);r&&Object.assign(f,r);var c=u(e,t,l,f),d={enabledElement:c,timestamp:Date.now()};Object(n.default)(c.element,a.default.PRE_RENDER,d),Object(i.default)(c,c.invalid)}},"./rendering/renderWebImage.js":
/*!*************************************!*\
  !*** ./rendering/renderWebImage.js ***!
  \*************************************/
/*! exports provided: renderWebImage */function(e,t,r){"use strict";r.r(t),r.d(t,"renderWebImage",(function(){return i}));var n=r(/*! ../setToPixelCoordinateSystem.js */"./setToPixelCoordinateSystem.js"),a=r(/*! ./renderColorImage.js */"./rendering/renderColorImage.js");function i(e,t){if(void 0===e)throw new Error("renderWebImage: enabledElement parameter must not be undefined");var r=e.image;if(void 0===r)throw new Error("renderWebImage: image must be loaded before it can be drawn");if(e.viewport.voi.windowWidth===e.image.windowWidth&&e.viewport.voi.windowCenter===e.image.windowCenter&&!1===e.viewport.invert){var i=e.canvas.getContext("2d");i.setTransform(1,0,0,1,0,0),i.fillStyle="black",i.fillRect(0,0,e.canvas.width,e.canvas.height),i.imageSmoothingEnabled=!e.viewport.pixelReplication,i.mozImageSmoothingEnabled=i.imageSmoothingEnabled,Object(n.default)(e,i);var o=e.viewport.displayedArea.tlhc.x-1,s=e.viewport.displayedArea.tlhc.y-1,u=e.viewport.displayedArea.brhc.x-o,l=e.viewport.displayedArea.brhc.y-s;i.drawImage(r.getImage(),o,s,u,l,0,0,u,l)}else Object(a.renderColorImage)(e,t)}},"./rendering/saveLastRendered.js":
/*!***************************************!*\
  !*** ./rendering/saveLastRendered.js ***!
  \***************************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t),t.default=function(e){var t=e.image.imageId,r=e.viewport,n=e.image.color;return e.renderingTools.lastRenderedImageId=t,e.renderingTools.lastRenderedIsColor=n,e.renderingTools.lastRenderedViewport={windowCenter:r.voi.windowCenter,windowWidth:r.voi.windowWidth,invert:r.invert,rotation:r.rotation,hflip:r.hflip,vflip:r.vflip,modalityLUT:r.modalityLUT,voiLUT:r.voiLUT,colormap:r.colormap},e.renderingTools}},"./reset.js":
/*!******************!*\
  !*** ./reset.js ***!
  \******************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./internal/getDefaultViewport.js */"./internal/getDefaultViewport.js"),a=r(/*! ./enabledElements.js */"./enabledElements.js"),i=r(/*! ./updateImage.js */"./updateImage.js");t.default=function(e){var t=Object(a.getEnabledElement)(e);t.viewport=Object(n.default)(t.canvas,t.image),Object(i.default)(e)}},"./resize.js":
/*!*******************!*\
  !*** ./resize.js ***!
  \*******************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./enabledElements.js */"./enabledElements.js"),a=r(/*! ./fitToWindow.js */"./fitToWindow.js"),i=r(/*! ./updateImage.js */"./updateImage.js"),o=r(/*! ./triggerEvent.js */"./triggerEvent.js"),s=r(/*! ./internal/getImageSize.js */"./internal/getImageSize.js"),u=r(/*! ./events.js */"./events.js");t.default=function(e,t){var r=Object(n.getEnabledElement)(e),l=r.canvas.width,f=r.canvas.height;!function(e,t){t.width!==e.clientWidth&&(t.width=e.clientWidth,t.style.width="".concat(e.clientWidth,"px")),t.height!==e.clientHeight&&(t.height=e.clientHeight,t.style.height="".concat(e.clientHeight,"px"))}(e,r.canvas);var c={element:e};Object(o.default)(e,u.default.ELEMENT_RESIZED,c),void 0!==r.image&&(t||function(e,t,r){var n=e.viewport.scale,a=Object(s.default)(e.image,e.viewport.rotation),i=Math.round(a.width*n),o=Math.round(a.height*n),u=e.viewport.translation.x,l=e.viewport.translation.y;return i===t&&o<=r||i<=t&&o===r&&0===u&&0===l}(r,l,f)?Object(a.default)(e):(function(e,t,r){var n=e.viewport.scale,a=e.canvas.width/t,i=e.canvas.height/r,o=Math.sqrt(a*i);e.viewport.scale=o*n}(r,l,f),Object(i.default)(e)))}},"./setToPixelCoordinateSystem.js":
/*!***************************************!*\
  !*** ./setToPixelCoordinateSystem.js ***!
  \***************************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./internal/calculateTransform.js */"./internal/calculateTransform.js");t.default=function(e,t,r){if(void 0===e)throw new Error("setToPixelCoordinateSystem: parameter enabledElement must not be undefined");if(void 0===t)throw new Error("setToPixelCoordinateSystem: parameter context must not be undefined");var a=Object(n.default)(e,r);t.setTransform(a.m[0],a.m[1],a.m[2],a.m[3],a.m[4],a.m[5])}},"./setViewport.js":
/*!************************!*\
  !*** ./setViewport.js ***!
  \************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./internal/getDefaultViewport.js */"./internal/getDefaultViewport.js"),a=r(/*! ./enabledElements.js */"./enabledElements.js"),i=r(/*! ./updateImage.js */"./updateImage.js");t.default=function(e,t){var r=Object(a.getEnabledElement)(e);if(void 0===r.viewport&&(r.viewport=Object(n.default)(r.canvas)),t)for(var o in t)null!==t[o]&&(r.viewport[o]=t[o]);r.viewport.voi.windowWidth&&(r.viewport.voi.windowWidth=Math.max(t.voi.windowWidth,1e-6)),r.viewport.scale&&(r.viewport.scale=Math.max(t.scale,1e-4)),r.viewport.rotation%=360,r.viewport.rotation<0&&(r.viewport.rotation+=360),r.image&&Object(i.default)(e)}},"./triggerEvent.js":
/*!*************************!*\
  !*** ./triggerEvent.js ***!
  \*************************/
/*! exports provided: default */function(e,t,r){"use strict";function n(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return"function"==typeof window.CustomEvent?r=new CustomEvent(t,{detail:n,cancelable:!0}):(r=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,n),e.dispatchEvent(r)}r.r(t),r.d(t,"default",(function(){return n}))},"./updateImage.js":
/*!************************!*\
  !*** ./updateImage.js ***!
  \************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./enabledElements.js */"./enabledElements.js"),a=r(/*! ./internal/drawImage.js */"./internal/drawImage.js");t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=Object(n.getEnabledElement)(e);if(void 0===r.image&&!r.layers.length)throw new Error("updateImage: image has not been loaded yet");Object(a.default)(r,t)}},"./webgl/createProgramFromString.js":
/*!******************************************!*\
  !*** ./webgl/createProgramFromString.js ***!
  \******************************************/
/*! exports provided: default */function(e,t,r){"use strict";function n(e,t,r){var n=e.createShader(r);if(e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS)&&!e.isContextLost()){var a=e.getShaderInfoLog(n);console.error("Could not compile shader:\n".concat(a))}return n}r.r(t),t.default=function(e,t,r){return function(e,t,r){var n=e.createProgram();if(e.attachShader(n,t),e.attachShader(n,r),e.linkProgram(n),!e.getProgramParameter(n,e.LINK_STATUS)&&!e.isContextLost()){var a=e.getProgramInfoLog(n);console.error("WebGL program filed to link:\n".concat(a))}return n}(e,n(e,t,e.VERTEX_SHADER),n(e,r,e.FRAGMENT_SHADER))}},"./webgl/index.js":
/*!************************!*\
  !*** ./webgl/index.js ***!
  \************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ./renderer.js */"./webgl/renderer.js"),a=r(/*! ./createProgramFromString.js */"./webgl/createProgramFromString.js"),i=r(/*! ./textureCache.js */"./webgl/textureCache.js"),o={createProgramFromString:a.default,renderer:{render:n.render,initRenderer:n.initRenderer,getRenderCanvas:n.getRenderCanvas,isWebGLAvailable:n.isWebGLAvailable},textureCache:i.default};Object.defineProperty(o,"isWebGLInitialized",{enumerable:!0,configurable:!1,get:function(){return n.isWebGLInitialized}}),t.default=o},"./webgl/renderer.js":
/*!***************************!*\
  !*** ./webgl/renderer.js ***!
  \***************************/
/*! exports provided: isWebGLInitialized, getRenderCanvas, initRenderer, render, isWebGLAvailable */function(e,t,r){"use strict";r.r(t),r.d(t,"isWebGLInitialized",(function(){return c})),r.d(t,"getRenderCanvas",(function(){return d})),r.d(t,"initRenderer",(function(){return h})),r.d(t,"render",(function(){return y})),r.d(t,"isWebGLAvailable",(function(){return b}));var n,a,i,o=r(/*! ./shaders/index.js */"./webgl/shaders/index.js"),s=r(/*! ./vertexShader.js */"./webgl/vertexShader.js"),u=r(/*! ./textureCache.js */"./webgl/textureCache.js"),l=r(/*! ./createProgramFromString.js */"./webgl/createProgramFromString.js"),f=document.createElement("canvas"),c=!1;function d(){return f}function h(){!0!==c&&function(e){n=null;try{var t={preserveDrawingBuffer:!0};n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),e.removeEventListener("webglcontextlost",p,!1),e.addEventListener("webglcontextlost",p,!1),e.removeEventListener("webglcontextrestored",g,!1),e.addEventListener("webglcontextrestored",g,!1)}catch(e){throw new Error("Error creating WebGL context")}return n||(console.error("Unable to initialize WebGL. Your browser may not support it."),n=null),n}(f)&&(i=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,i),n.bufferData(n.ARRAY_BUFFER,new Float32Array([1,1,0,1,1,0,0,0]),n.STATIC_DRAW),a=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,a),n.bufferData(n.ARRAY_BUFFER,new Float32Array([1,1,0,1,1,0,0,0]),n.STATIC_DRAW),function(){for(var e in o.shaders){var t=o.shaders[e];t.attributes={},t.uniforms={},t.vert=s.vertexShader,t.program=Object(l.default)(n,t.vert,t.frag),t.attributes.texCoordLocation=n.getAttribLocation(t.program,"a_texCoord"),n.enableVertexAttribArray(t.attributes.texCoordLocation),t.attributes.positionLocation=n.getAttribLocation(t.program,"a_position"),n.enableVertexAttribArray(t.attributes.positionLocation),t.uniforms.resolutionLocation=n.getUniformLocation(t.program,"u_resolution")}}(),c=!0)}function p(e){e.preventDefault(),console.warn("WebGL Context Lost!")}function g(e){e.preventDefault(),c=!1,u.default.purgeCache(),h()}function v(e){if(e.color)return"rgb";var t=e.getPixelData();return t instanceof Int16Array?"int16":t instanceof Uint16Array?"uint16":t instanceof Int8Array?"int8":"uint8"}function _(e){var t=u.default.getImageTexture(e.imageId);return t||(t=function(e){var t={uint8:n.LUMINANCE,int8:n.LUMINANCE_ALPHA,uint16:n.LUMINANCE_ALPHA,int16:n.RGB,rgb:n.RGB},r=v(e),a=t[r],i=n.createTexture();n.bindTexture(n.TEXTURE_2D,i),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.pixelStorei(n.UNPACK_ALIGNMENT,1);var s=o.dataUtilities[r].storedPixelDataToImageData(e,e.width,e.height);return n.texImage2D(n.TEXTURE_2D,0,a,e.width,e.height,0,a,n.UNSIGNED_BYTE,s),{texture:i,sizeInBytes:e.width*e.height*{int8:1,uint16:2,int16:3,rgb:3}[r]}}(e),u.default.putImageTexture(e,t)),t.texture}function m(e,t,r,o,s){for(var u in n.clearColor(1,0,0,1),n.viewport(0,0,o,s),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT),n.useProgram(e.program),n.bindBuffer(n.ARRAY_BUFFER,a),n.vertexAttribPointer(e.attributes.texCoordLocation,2,n.FLOAT,!1,0,0),n.bindBuffer(n.ARRAY_BUFFER,i),n.vertexAttribPointer(e.attributes.positionLocation,2,n.FLOAT,!1,0,0),t){var l=n.getUniformLocation(e.program,u);if(l){var f=t[u],c=f.type,d=f.value;"i"===c?n.uniform1i(l,d):"f"===c?n.uniform1f(l,d):"2f"===c&&n.uniform2f(l,d[0],d[1])}}!function(e,t,r){e.bufferData(e.ARRAY_BUFFER,new Float32Array([t,r,0,r,t,0,0,0]),e.STATIC_DRAW)}(n,o,s),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,r),n.drawArrays(n.TRIANGLE_STRIP,0,4)}function y(e){var t=e.image;f.width=t.width,f.height=t.height;var r=e.viewport,n=function(e){var t=v(e);return o.shaders.hasOwnProperty(t)?o.shaders[t]:o.shaders.rgb}(t),a=_(t);return m(n,{u_resolution:{type:"2f",value:[t.width,t.height]},wc:{type:"f",value:r.voi.windowCenter},ww:{type:"f",value:r.voi.windowWidth},slope:{type:"f",value:t.slope},intercept:{type:"f",value:t.intercept},minPixelValue:{type:"f",value:t.minPixelValue},invert:{type:"i",value:r.invert?1:0}},a,t.width,t.height),f}function b(){var e={failIfMajorPerformanceCaveat:!0};try{var t=document.createElement("canvas");return Boolean(window.WebGLRenderingContext)&&(t.getContext("webgl",e)||t.getContext("experimental-webgl",e))}catch(e){return!1}}},"./webgl/shaders/index.js":
/*!********************************!*\
  !*** ./webgl/shaders/index.js ***!
  \********************************/
/*! exports provided: shaders, dataUtilities */function(e,t,r){"use strict";r.r(t),r.d(t,"shaders",(function(){return u})),r.d(t,"dataUtilities",(function(){return l}));var n=r(/*! ./int16.js */"./webgl/shaders/int16.js"),a=r(/*! ./int8.js */"./webgl/shaders/int8.js"),i=r(/*! ./rgb.js */"./webgl/shaders/rgb.js"),o=r(/*! ./uint16.js */"./webgl/shaders/uint16.js"),s=r(/*! ./uint8.js */"./webgl/shaders/uint8.js"),u={int16:n.int16Shader,int8:a.int8Shader,rgb:i.rgbShader,uint16:o.uint16Shader,uint8:s.uint8Shader},l={int16:n.int16DataUtilities,int8:a.int8DataUtilities,rgb:i.rgbDataUtilities,uint16:o.uint16DataUtilities,uint8:s.uint8DataUtilities}},"./webgl/shaders/int16.js":
/*!********************************!*\
  !*** ./webgl/shaders/int16.js ***!
  \********************************/
/*! exports provided: int16DataUtilities, int16Shader */function(e,t,r){"use strict";r.r(t),r.d(t,"int16DataUtilities",(function(){return a})),r.d(t,"int16Shader",(function(){return n}));var n={},a={storedPixelDataToImageData:function(e){for(var t=e.getPixelData(),r=new Uint8Array(e.width*e.height*3),n=0,a=0;a<t.length;a++){var i=Math.abs(t[a]);r[n++]=255&i,r[n++]=i>>8,r[n++]=t[a]<0?0:1}return r}};n.frag="precision mediump float;uniform sampler2D u_image;uniform float ww;uniform float wc;uniform float slope;uniform float intercept;uniform int invert;varying vec2 v_texCoord;void main() {vec4 color = texture2D(u_image, v_texCoord);float intensity = color.r*256.0 + color.g*65536.0;if (color.b == 0.0)intensity = -intensity;intensity = intensity * slope + intercept;float center0 = wc - 0.5;float width0 = max(ww, 1.0);intensity = (intensity - center0) / width0 + 0.5;intensity = clamp(intensity, 0.0, 1.0);gl_FragColor = vec4(intensity, intensity, intensity, 1.0);if (invert == 1)gl_FragColor.rgb = 1.0 - gl_FragColor.rgb;}"},"./webgl/shaders/int8.js":
/*!*******************************!*\
  !*** ./webgl/shaders/int8.js ***!
  \*******************************/
/*! exports provided: int8DataUtilities, int8Shader */function(e,t,r){"use strict";r.r(t),r.d(t,"int8DataUtilities",(function(){return a})),r.d(t,"int8Shader",(function(){return n}));var n={},a={storedPixelDataToImageData:function(e){for(var t=e.getPixelData(),r=new Uint8Array(e.width*e.height*2),n=0,a=0;a<t.length;a++)r[n++]=t[a],r[n++]=t[a]<0?0:1;return r}};n.frag="precision mediump float;uniform sampler2D u_image;uniform float ww;uniform float wc;uniform float slope;uniform float intercept;uniform int invert;varying vec2 v_texCoord;void main() {vec4 color = texture2D(u_image, v_texCoord);float intensity = color.r*256.;if (color.a == 0.0)intensity = -intensity;intensity = intensity * slope + intercept;float center0 = wc - 0.5;float width0 = max(ww, 1.0);intensity = (intensity - center0) / width0 + 0.5;intensity = clamp(intensity, 0.0, 1.0);gl_FragColor = vec4(intensity, intensity, intensity, 1.0);if (invert == 1)gl_FragColor.rgb = 1.0 - gl_FragColor.rgb;}"},"./webgl/shaders/rgb.js":
/*!******************************!*\
  !*** ./webgl/shaders/rgb.js ***!
  \******************************/
/*! exports provided: rgbDataUtilities, rgbShader */function(e,t,r){"use strict";r.r(t),r.d(t,"rgbDataUtilities",(function(){return a})),r.d(t,"rgbShader",(function(){return n}));var n={},a={storedPixelDataToImageData:function(e){var t=e.minPixelValue,r=0,n=0,a=e.width*e.height*4,i=e.width*e.height*3,o=e.getPixelData(),s=new Uint8Array(i);if(t<0)for(;n<a;)s[r++]=o[n++]+-t,s[r++]=o[n++]+-t,s[r++]=o[n++]+-t,n+=1;else for(;n<a;)s[r++]=o[n++],s[r++]=o[n++],s[r++]=o[n++],n+=1;return s}};n.frag="precision mediump float;uniform sampler2D u_image;uniform float ww;uniform float wc;uniform float slope;uniform float intercept;uniform float minPixelValue;uniform int invert;varying vec2 v_texCoord;void main() {vec3 color = texture2D(u_image, v_texCoord).xyz;color = color * 256.0 * slope + intercept;float center0 = wc - 0.5 - minPixelValue;float width0 = max(ww, 1.0);color = (color - center0) / width0 + 0.5;gl_FragColor = vec4(color, 1);if (invert == 1)gl_FragColor.rgb = 1. - gl_FragColor.rgb;}"},"./webgl/shaders/uint16.js":
/*!*********************************!*\
  !*** ./webgl/shaders/uint16.js ***!
  \*********************************/
/*! exports provided: uint16DataUtilities, uint16Shader */function(e,t,r){"use strict";r.r(t),r.d(t,"uint16DataUtilities",(function(){return a})),r.d(t,"uint16Shader",(function(){return n}));var n={},a={storedPixelDataToImageData:function(e){for(var t=e.getPixelData(),r=new Uint8Array(e.width*e.height*2),n=0,a=0;a<t.length;a++){var i=t[a];r[n++]=255&i,r[n++]=i>>8}return r}};n.frag="precision mediump float;uniform sampler2D u_image;uniform float ww;uniform float wc;uniform float slope;uniform float intercept;uniform int invert;varying vec2 v_texCoord;void main() {vec4 color = texture2D(u_image, v_texCoord);float intensity = color.r*256.0 + color.a*65536.0;intensity = intensity * slope + intercept;float center0 = wc - 0.5;float width0 = max(ww, 1.0);intensity = (intensity - center0) / width0 + 0.5;intensity = clamp(intensity, 0.0, 1.0);gl_FragColor = vec4(intensity, intensity, intensity, 1.0);if (invert == 1)gl_FragColor.rgb = 1.0 - gl_FragColor.rgb;}"},"./webgl/shaders/uint8.js":
/*!********************************!*\
  !*** ./webgl/shaders/uint8.js ***!
  \********************************/
/*! exports provided: uint8DataUtilities, uint8Shader */function(e,t,r){"use strict";r.r(t),r.d(t,"uint8DataUtilities",(function(){return a})),r.d(t,"uint8Shader",(function(){return n}));var n={},a={storedPixelDataToImageData:function(e){return e.getPixelData()}};n.frag="precision mediump float;uniform sampler2D u_image;uniform float ww;uniform float wc;uniform float slope;uniform float intercept;uniform int invert;varying vec2 v_texCoord;void main() {vec4 color = texture2D(u_image, v_texCoord);float intensity = color.r*256.0;intensity = intensity * slope + intercept;float center0 = wc - 0.5;float width0 = max(ww, 1.0);intensity = (intensity - center0) / width0 + 0.5;intensity = clamp(intensity, 0.0, 1.0);gl_FragColor = vec4(intensity, intensity, intensity, 1.0);if (invert == 1)gl_FragColor.rgb = 1.0 - gl_FragColor.rgb;}"},"./webgl/textureCache.js":
/*!*******************************!*\
  !*** ./webgl/textureCache.js ***!
  \*******************************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! ../events.js */"./events.js"),a=r(/*! ../triggerEvent.js */"./triggerEvent.js"),i={},o=[],s=268435456,u=0;function l(){if(!(u<=s)){for(o.sort((function(e,t){return e.timeStamp>t.timeStamp?-1:e.timeStamp<t.timeStamp?1:0}));u>s;){var e=o[o.length-1];u-=e.sizeInBytes,delete i[e.imageId],o.pop(),Object(a.default)(n.events,n.default.WEBGL_TEXTURE_REMOVED,{imageId:e.imageId})}var t={maximumSizeInBytes:s,cacheSizeInBytes:u,numberOfImagesCached:o.length};Object(a.default)(n.events,n.default.WEBGL_TEXTURE_CACHE_FULL,t)}}t.default={purgeCache:function(){for(;o.length>0;){var e=o.pop();delete i[e.imageId]}u=0},getImageTexture:function(e){if(void 0===e)throw new Error("getImageTexture: imageId must not be undefined");var t=i[e];if(void 0!==t)return t.timeStamp=new Date,t.imageTexture},putImageTexture:function(e,t){var r=e.imageId;if(void 0===e)throw new Error("putImageTexture: image must not be undefined");if(void 0===r)throw new Error("putImageTexture: imageId must not be undefined");if(void 0===t)throw new Error("putImageTexture: imageTexture must not be undefined");if(!0===Object.prototype.hasOwnProperty.call(i,r))throw new Error("putImageTexture: imageId already in cache");var n={imageId:r,imageTexture:t,timeStamp:new Date,sizeInBytes:t.sizeInBytes};if(i[r]=n,o.push(n),void 0===t.sizeInBytes)throw new Error("putImageTexture: imageTexture.sizeInBytes must not be undefined");if(void 0===t.sizeInBytes.toFixed)throw new Error("putImageTexture: imageTexture.sizeInBytes is not a number");u+=n.sizeInBytes,l()},removeImageTexture:function(e){if(void 0===e)throw new Error("removeImageTexture: imageId must not be undefined");var t=i[e];if(void 0===t)throw new Error("removeImageTexture: imageId must not be undefined");return o.splice(o.indexOf(t),1),u-=t.sizeInBytes,delete i[e],t.imageTexture},setMaximumSizeBytes:function(e){if(void 0===e)throw new Error("setMaximumSizeBytes: parameter numBytes must not be undefined");if(void 0===e.toFixed)throw new Error("setMaximumSizeBytes: parameter numBytes must be a number");s=e,l()}}},"./webgl/vertexShader.js":
/*!*******************************!*\
  !*** ./webgl/vertexShader.js ***!
  \*******************************/
/*! exports provided: vertexShader */function(e,t,r){"use strict";r.r(t),r.d(t,"vertexShader",(function(){return n}));var n="attribute vec2 a_position;attribute vec2 a_texCoord;uniform vec2 u_resolution;varying vec2 v_texCoord;void main() {vec2 zeroToOne = a_position / u_resolution;vec2 zeroToTwo = zeroToOne * 2.0;vec2 clipSpace = zeroToTwo - 1.0;gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);v_texCoord = a_texCoord;}"}})},e.exports=t()},705:function(e){
/*! dicom-parser - 1.8.5 - 2020-08-20 | (c) 2017 Chris Hafey | https://github.com/cornerstonejs/dicomParser */
e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=79)}([function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var n=r(73),a=r(72),i=r(39);function o(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return c(this,e)}return l(this,e,t,r)}function l(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=d(e,t),e}(e,t,r,n):"string"==typeof t?function(e,t,r){if("string"==typeof r&&""!==r||(r="utf8"),!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(t,r),a=(e=s(e,n)).write(t,r);return a!==n&&(e=e.slice(0,a)),e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r=0|h(t.length);return 0===(e=s(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):d(e,t);if("Buffer"===t.type&&i(t.data))return d(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function c(e,t){if(f(t),e=s(e,t<0?0:0|h(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function d(e,t){var r=t.length<0?0:0|h(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function h(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return V(e).length;default:if(n)return F(e).length;t=(""+t).toLowerCase(),n=!0}}function g(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function v(e,t,r,n,a){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=a?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(a)return-1;r=e.length-1}else if(r<0){if(!a)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:_(e,t,r,n,a);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):_(e,[t],r,n,a);throw new TypeError("val must be string, number or Buffer")}function _(e,t,r,n,a){var i,o=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,r/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(a){var f=-1;for(i=r;i<s;i++)if(l(e,i)===l(t,-1===f?0:i-f)){if(-1===f&&(f=i),i-f+1===u)return f*o}else-1!==f&&(i-=i-f),f=-1}else for(r+u>s&&(r=s-u),i=r;i>=0;i--){for(var c=!0,d=0;d<u;d++)if(l(e,i+d)!==l(t,d)){c=!1;break}if(c)return i}return-1}function m(e,t,r,n){r=Number(r)||0;var a=e.length-r;n?(n=Number(n))>a&&(n=a):n=a;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[r+o]=s}return o}function y(e,t,r,n){return z(F(t,e.length-r),e,r,n)}function b(e,t,r,n){return z(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function w(e,t,r,n){return b(e,t,r,n)}function E(e,t,r,n){return z(V(t),e,r,n)}function x(e,t,r,n){return z(function(e,t){for(var r,n,a,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,a=r%256,i.push(a),i.push(n);return i}(t,e.length-r),e,r,n)}function j(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function I(e,t,r){r=Math.min(e.length,r);for(var n=[],a=t;a<r;){var i,o,s,u,l=e[a],f=null,c=l>239?4:l>223?3:l>191?2:1;if(a+c<=r)switch(c){case 1:l<128&&(f=l);break;case 2:128==(192&(i=e[a+1]))&&(u=(31&l)<<6|63&i)>127&&(f=u);break;case 3:i=e[a+1],o=e[a+2],128==(192&i)&&128==(192&o)&&(u=(15&l)<<12|(63&i)<<6|63&o)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:i=e[a+1],o=e[a+2],s=e[a+3],128==(192&i)&&128==(192&o)&&128==(192&s)&&(u=(15&l)<<18|(63&i)<<12|(63&o)<<6|63&s)>65535&&u<1114112&&(f=u)}null===f?(f=65533,c=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),a+=c}return function(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=A));return r}(n)}t.Buffer=u,t.SlowBuffer=function(e){return+e!=e&&(e=0),u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return l(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return function(e,t,r,n){return f(t),t<=0?s(e,t):void 0!==r?"string"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},u.allocUnsafe=function(e){return c(null,e)},u.allocUnsafeSlow=function(e){return c(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,a=0,i=Math.min(r,n);a<i;++a)if(e[a]!==t[a]){r=e[a],n=t[a];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),a=0;for(r=0;r<e.length;++r){var o=e[r];if(!u.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,a),a+=o.length}return n},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?I(this,0,e):function(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,r);case"utf8":case"utf-8":return I(this,t,r);case"ascii":return T(this,t,r);case"latin1":case"binary":return S(this,t,r);case"base64":return j(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,a){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===a&&(a=this.length),t<0||r>e.length||n<0||a>this.length)throw new RangeError("out of range index");if(n>=a&&t>=r)return 0;if(n>=a)return-1;if(t>=r)return 1;if(this===e)return 0;for(var i=(a>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),s=Math.min(i,o),l=this.slice(n,a),f=e.slice(t,r),c=0;c<s;++c)if(l[c]!==f[c]){i=l[c],o=f[c];break}return i<o?-1:o<i?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return v(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return v(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var a=this.length-t;if((void 0===r||r>a)&&(r=a),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return m(this,e,t,r);case"utf8":case"utf-8":return y(this,e,t,r);case"ascii":return b(this,e,t,r);case"latin1":case"binary":return w(this,e,t,r);case"base64":return E(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function T(e,t,r){var n="";r=Math.min(e.length,r);for(var a=t;a<r;++a)n+=String.fromCharCode(127&e[a]);return n}function S(e,t,r){var n="";r=Math.min(e.length,r);for(var a=t;a<r;++a)n+=String.fromCharCode(e[a]);return n}function k(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var a="",i=t;i<r;++i)a+=N(e[i]);return a}function P(e,t,r){for(var n=e.slice(t,r),a="",i=0;i<n.length;i+=2)a+=String.fromCharCode(n[i]+256*n[i+1]);return a}function O(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,r,n,a,i){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function L(e,t,r,n){t<0&&(t=65535+t+1);for(var a=0,i=Math.min(e.length-r,2);a<i;++a)e[r+a]=(t&255<<8*(n?a:1-a))>>>8*(n?a:1-a)}function C(e,t,r,n){t<0&&(t=4294967295+t+1);for(var a=0,i=Math.min(e.length-r,4);a<i;++a)e[r+a]=t>>>8*(n?a:3-a)&255}function R(e,t,r,n,a,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function M(e,t,r,n,i){return i||R(e,0,r,4),a.write(e,t,r,n,23,4),r+4}function U(e,t,r,n,i){return i||R(e,0,r,8),a.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var a=t-e;r=new u(a,void 0);for(var i=0;i<a;++i)r[i]=this[i+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=this[e],a=1,i=0;++i<t&&(a*=256);)n+=this[e+i]*a;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=this[e+--t],a=1;t>0&&(a*=256);)n+=this[e+--t]*a;return n},u.prototype.readUInt8=function(e,t){return t||O(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||O(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||O(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=this[e],a=1,i=0;++i<t&&(a*=256);)n+=this[e+i]*a;return n>=(a*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=t,a=1,i=this[e+--n];n>0&&(a*=256);)i+=this[e+--n]*a;return i>=(a*=128)&&(i-=Math.pow(2,8*t)),i},u.prototype.readInt8=function(e,t){return t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||O(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||O(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||O(e,4,this.length),a.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||O(e,4,this.length),a.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||O(e,8,this.length),a.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||O(e,8,this.length),a.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){e=+e,t|=0,r|=0,n||D(this,e,t,r,Math.pow(2,8*r)-1,0);var a=1,i=0;for(this[t]=255&e;++i<r&&(a*=256);)this[t+i]=e/a&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){e=+e,t|=0,r|=0,n||D(this,e,t,r,Math.pow(2,8*r)-1,0);var a=r-1,i=1;for(this[t+a]=255&e;--a>=0&&(i*=256);)this[t+a]=e/i&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):C(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):C(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var a=Math.pow(2,8*r-1);D(this,e,t,r,a-1,-a)}var i=0,o=1,s=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var a=Math.pow(2,8*r-1);D(this,e,t,r,a-1,-a)}var i=r-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):C(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):C(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return M(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return M(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return U(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return U(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var a,i=n-r;if(this===e&&r<t&&t<n)for(a=i-1;a>=0;--a)e[a+t]=this[a+r];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(a=0;a<i;++a)e[a+t]=this[a+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+i),t);return i},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var a=e.charCodeAt(0);a<256&&(e=a)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var o=u.isBuffer(e)?e:F(new u(e,n).toString()),s=o.length;for(i=0;i<r-t;++i)this[i+t]=o[i%s]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function N(e){return e<16?"0"+e.toString(16):e.toString(16)}function F(e,t){var r;t=t||1/0;for(var n=e.length,a=null,i=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!a){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&i.push(239,191,189);continue}a=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),a=r;continue}r=65536+(a-55296<<10|r-56320)}else a&&(t-=3)>-1&&i.push(239,191,189);if(a=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function V(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(B,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,r,n){for(var a=0;a<n&&!(a+r>=t.length||a>=e.length);++a)t[a+r]=e[a];return a}}).call(this,r(0))},function(e,t,r){"use strict";var n=r(10),a=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=c;var i=r(6);i.inherits=r(5);var o=r(36),s=r(19);i.inherits(c,o);for(var u=a(s.prototype),l=0;l<u.length;l++){var f=u[l];c.prototype[f]||(c.prototype[f]=s.prototype[f])}function c(e){if(!(this instanceof c))return new c(e);o.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||n.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),c.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},function(e,t){var r,n,a=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var u,l=[],f=!1,c=-1;function d(){f&&u&&(f=!1,u.length?l=u.concat(l):c=-1,l.length&&h())}function h(){if(!f){var e=s(d);f=!0;for(var t=l.length;t;){for(u=l,l=[];++c<t;)u&&u[c].run();c=-1,t=l.length}u=null,f=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new p(e,t)),1!==l.length||f||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=g,a.addListener=g,a.once=g,a.off=g,a.removeListener=g,a.removeAllListeners=g,a.emit=g,a.prependListener=g,a.prependOnceListener=g,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(void 0===e)throw"dicomParser.readTag: missing required parameter 'byteStream'";return"x"+("00000000"+(256*e.readUint16()*256+e.readUint16()).toString(16)).substr(-8)}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){(function(e){function r(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===r(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===r(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===r(e)},t.isError=function(e){return"[object Error]"===r(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(this,r(1).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(14);function i(e,t){return void 0!==e.parser?e.parser:t}var o=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.byteArrayParser=t,this.byteArray=r,this.elements=n}return n(e,[{key:"uint16",value:function(e,t){var r=this.elements[e];if(t=void 0!==t?t:0,r&&0!==r.length)return i(r,this.byteArrayParser).readUint16(this.byteArray,r.dataOffset+2*t)}},{key:"int16",value:function(e,t){var r=this.elements[e];if(t=void 0!==t?t:0,r&&0!==r.length)return i(r,this.byteArrayParser).readInt16(this.byteArray,r.dataOffset+2*t)}},{key:"uint32",value:function(e,t){var r=this.elements[e];if(t=void 0!==t?t:0,r&&0!==r.length)return i(r,this.byteArrayParser).readUint32(this.byteArray,r.dataOffset+4*t)}},{key:"int32",value:function(e,t){var r=this.elements[e];if(t=void 0!==t?t:0,r&&0!==r.length)return i(r,this.byteArrayParser).readInt32(this.byteArray,r.dataOffset+4*t)}},{key:"float",value:function(e,t){var r=this.elements[e];if(t=void 0!==t?t:0,r&&0!==r.length)return i(r,this.byteArrayParser).readFloat(this.byteArray,r.dataOffset+4*t)}},{key:"double",value:function(e,t){var r=this.elements[e];if(t=void 0!==t?t:0,r&&0!==r.length)return i(r,this.byteArrayParser).readDouble(this.byteArray,r.dataOffset+8*t)}},{key:"numStringValues",value:function(e){var t=this.elements[e];if(t&&t.length>0){var r=(0,a.readFixedString)(this.byteArray,t.dataOffset,t.length).match(/\\/g);return null===r?1:r.length+1}}},{key:"string",value:function(e,t){var r=this.elements[e];if(r&&r.length>0){var n=(0,a.readFixedString)(this.byteArray,r.dataOffset,r.length);return t>=0?n.split("\\")[t].trim():n.trim()}}},{key:"text",value:function(e,t){var r=this.elements[e];if(r&&r.length>0){var n=(0,a.readFixedString)(this.byteArray,r.dataOffset,r.length);return t>=0?n.split("\\")[t].replace(/ +$/,""):n.replace(/ +$/,"")}}},{key:"floatString",value:function(e,t){var r=this.elements[e];if(r&&r.length>0){t=void 0!==t?t:0;var n=this.string(e,t);if(void 0!==n)return parseFloat(n)}}},{key:"intString",value:function(e,t){var r=this.elements[e];if(r&&r.length>0){t=void 0!==t?t:0;var n=this.string(e,t);if(void 0!==n)return parseInt(n)}}},{key:"attributeTag",value:function(e){var t=this.elements[e];if(t&&4===t.length){var r=i(t,this.byteArrayParser).readUint16,n=this.byteArray,a=t.dataOffset;return"x"+("00000000"+(256*r(n,a)*256+r(n,a+2)).toString(16)).substr(-8)}}}]),e}();t.default=o},function(e,t,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)a(r,n)&&(e[n]=r[n])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,r,n,a){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),a);else for(var i=0;i<n;i++)e[a+i]=t[r+i]},flattenChunks:function(e){var t,r,n,a,i,o;for(n=0,t=0,r=e.length;t<r;t++)n+=e[t].length;for(o=new Uint8Array(n),a=0,t=0,r=e.length;t<r;t++)i=e[t],o.set(i,a),a+=i.length;return o}},o={arraySet:function(e,t,r,n,a){for(var i=0;i<n;i++)e[a+i]=t[r+i]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,i)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,o))},t.setTyped(n)},function(e,t,r){var n=r(1),a=n.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return a(e,t,r)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=o),i(a,o),o.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return a(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=a(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){"use strict";(function(t){!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,r,n,a){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,o,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,r)}));case 3:return t.nextTick((function(){e.call(null,r,n)}));case 4:return t.nextTick((function(){e.call(null,r,n,a)}));default:for(i=new Array(s-1),o=0;o<i.length;)i[o++]=arguments[o];return t.nextTick((function(){e.apply(null,i)}))}}}:e.exports=t}).call(this,r(3))},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t,r,n){if(void 0!==e&&t instanceof e)return t.slice(r,r+n);if(t instanceof Uint8Array)return new Uint8Array(t.buffer,t.byteOffset+r,n);throw"dicomParser.from: unknown type for byteArray"}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n,a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=(n=r(11))&&n.__esModule?n:{default:n},o=r(14),s=function(){function t(r,n,a){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),void 0===r)throw"dicomParser.ByteStream: missing required parameter 'byteArrayParser'";if(void 0===n)throw"dicomParser.ByteStream: missing required parameter 'byteArray'";if(n instanceof Uint8Array==0&&n instanceof e==0)throw"dicomParser.ByteStream: parameter byteArray is not of type Uint8Array or Buffer";if(a<0)throw"dicomParser.ByteStream: parameter 'position' cannot be less than 0";if(a>=n.length)throw"dicomParser.ByteStream: parameter 'position' cannot be greater than or equal to 'byteArray' length";this.byteArrayParser=r,this.byteArray=n,this.position=a||0,this.warnings=[]}return a(t,[{key:"seek",value:function(e){if(this.position+e<0)throw"dicomParser.ByteStream.prototype.seek: cannot seek to position < 0";this.position+=e}},{key:"readByteStream",value:function(e){if(this.position+e>this.byteArray.length)throw"dicomParser.ByteStream.prototype.readByteStream: readByteStream - buffer overread";var r=(0,i.default)(this.byteArray,this.position,e);return this.position+=e,new t(this.byteArrayParser,r)}},{key:"readUint16",value:function(){var e=this.byteArrayParser.readUint16(this.byteArray,this.position);return this.position+=2,e}},{key:"readUint32",value:function(){var e=this.byteArrayParser.readUint32(this.byteArray,this.position);return this.position+=4,e}},{key:"readFixedString",value:function(e){var t=(0,o.readFixedString)(this.byteArray,this.position,e);return this.position+=e,t}}]),t}();t.default=s}).call(this,r(1).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(void 0===e)throw"dicomParser.readSequenceItem: missing required parameter 'byteStream'";var t={tag:(0,a.default)(e),length:e.readUint32(),dataOffset:e.position};if("xfffee000"!==t.tag)throw"dicomParser.readSequenceItem: item tag (FFFE,E000) not found at offset "+e.position;return t};var n,a=(n=r(4))&&n.__esModule?n:{default:n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readFixedString=function(e,t,r){if(r<0)throw"dicomParser.readFixedString - length cannot be less than 0";if(t+r>e.length)throw"dicomParser.readFixedString: attempt to read past end of buffer";for(var n,a="",i=0;i<r;i++){if(0===(n=e[t+i]))return t+=r,a;a+=String.fromCharCode(n)}return a}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){if(void 0===e)throw"dicomParser.readDicomElementExplicit: missing required parameter 'byteStream'";var u={tag:(0,i.default)(e),vr:e.readFixedString(2)};return 2===l(u.vr)?(u.length=e.readUint16(),u.dataOffset=e.position):(e.seek(2),u.length=e.readUint32(),u.dataOffset=e.position),4294967295===u.length&&(u.hadUndefinedLength=!0),u.tag===r?u:"SQ"===u.vr?((0,s.default)(e,u,t),u):4294967295===u.length?"x7fe00010"===u.tag?((0,n.default)(e,u,t),u):"UN"===u.vr?((0,a.default)(e,u),u):((0,o.default)(e,u),u):(e.seek(u.length),u)};var n=u(r(42)),a=(u(r(41)),u(r(26))),i=u(r(4)),o=u(r(24)),s=u(r(40));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){return"OB"===e||"OW"===e||"SQ"===e||"OF"===e||"UT"===e||"UN"===e?4:2}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseDicomDataSetExplicit=function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(r=void 0===r?t.byteArray.length:r,void 0===t)throw"dicomParser.parseDicomDataSetExplicit: missing required parameter 'byteStream'";if(r<t.position||r>t.byteArray.length)throw"dicomParser.parseDicomDataSetExplicit: invalid value for parameter 'maxP osition'";for(var i=e.elements;t.position<r;){var o=(0,n.default)(t,e.warnings,a.untilTag);if(i[o.tag]=o,o.tag===a.untilTag)return}if(t.position>r)throw"dicomParser:parseDicomDataSetExplicit: buffer overrun"},t.parseDicomDataSetImplicit=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(r=void 0===r?e.byteArray.length:r,void 0===t)throw"dicomParser.parseDicomDataSetImplicit: missing required parameter 'byteStream'";if(r<t.position||r>t.byteArray.length)throw"dicomParser.parseDicomDataSetImplicit: invalid value for parameter 'maxPosition'";for(var i=e.elements;t.position<r;){var o=(0,a.default)(t,n.untilTag,n.vrCallback);if(i[o.tag]=o,o.tag===n.untilTag)return}};var n=i(r(15)),a=i(r(25));function i(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={AE:!0,AS:!0,AT:!1,CS:!0,DA:!0,DS:!0,DT:!0,FL:!1,FD:!1,IS:!0,LO:!0,LT:!0,OB:!1,OD:!1,OF:!1,OW:!1,PN:!0,SH:!0,SL:!1,SQ:!1,SS:!1,ST:!0,TM:!0,UI:!0,UL:!1,UN:void 0,UR:!0,US:!1,UT:!0};t.isStringVr=function(e){return n[e]},t.isPrivateTag=function(e){return parseInt(e[4],10)%2==1},t.parsePN=function(e){if(void 0!==e){var t=e.split("^");return{familyName:t[0],givenName:t[1],middleName:t[2],prefix:t[3],suffix:t[4]}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,s,l){if(s=s||1,l=l||t.fragments,void 0===e)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'dataSet'";if(void 0===t)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'pixelDataElement'";if(void 0===r)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'startFragmentIndex'";if(void 0===s)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'numFragments'";if("x7fe00010"!==t.tag)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010";if(!0!==t.encapsulatedPixelData)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(!0!==t.hadUndefinedLength)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(void 0===t.basicOffsetTable)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(void 0===t.fragments)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(t.fragments.length<=0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(r<0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragmentIndex' must be >= 0";if(r>=t.fragments.length)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragmentIndex' must be < number of fragments";if(s<1)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'numFragments' must be > 0";if(r+s>t.fragments.length)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragment' + 'numFragments' < number of fragments";var f=new a.default(e.byteArrayParser,e.byteArray,t.dataOffset),c=(0,i.default)(f);if("xfffee000"!==c.tag)throw"dicomParser.readEncapsulatedPixelData: missing basic offset table xfffee000";f.seek(c.length);var d=f.position;if(1===s)return(0,o.default)(f.byteArray,d+l[r].offset+8,l[r].length);for(var h=u(l,r,s),p=(0,n.default)(f.byteArray,h),g=0,v=r;v<r+s;v++)for(var _=d+l[v].offset+8,m=0;m<l[v].length;m++)p[g++]=f.byteArray[_++];return p};var n=s(r(23)),a=s(r(12)),i=s(r(13)),o=s(r(11));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e,t,r){for(var n=0,a=t;a<t+r;a++)n+=e[a].length;return n}},function(e,t,r){"use strict";(function(t,n,a){var i=r(10);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var a=n.callback;t.pendingcb--,a(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=m;var s,u=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?n:i.nextTick;m.WritableState=_;var l=r(6);l.inherits=r(5);var f,c={deprecate:r(61)},d=r(35),h=r(9).Buffer,p=a.Uint8Array||function(){},g=r(34);function v(){}function _(e,t){s=s||r(2),e=e||{};var n=t instanceof s;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var a=e.highWaterMark,l=e.writableHighWaterMark,f=this.objectMode?16:16384;this.highWaterMark=a||0===a?a:n&&(l||0===l)?l:f,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var c=!1===e.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,a=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,a){--t.pendingcb,r?(i.nextTick(a,n),i.nextTick(j,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(a(n),e._writableState.errorEmitted=!0,e.emit("error",n),j(e,t))}(e,r,n,t,a);else{var o=E(r);o||r.corked||r.bufferProcessing||!r.bufferedRequest||w(e,r),n?u(b,e,r,o,a):b(e,r,o,a)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function m(e){if(s=s||r(2),!(f.call(m,this)||this instanceof s))return new m(e);this._writableState=new _(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),d.call(this)}function y(e,t,r,n,a,i,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,r?e._writev(a,t.onwrite):e._write(a,i,t.onwrite),t.sync=!1}function b(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),j(e,t)}function w(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,a=new Array(n),i=t.corkedRequestsFree;i.entry=r;for(var s=0,u=!0;r;)a[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;a.allBuffers=u,y(e,t,!0,t.length,a,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,f=r.encoding,c=r.callback;if(y(e,t,!1,t.objectMode?1:l.length,l,f,c),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function E(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function x(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),j(e,t)}))}function j(e,t){var r=E(t);return r&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,i.nextTick(x,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}l.inherits(m,d),_.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(_.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(m,Symbol.hasInstance,{value:function(e){return!!f.call(this,e)||this===m&&e&&e._writableState instanceof _}})):f=function(e){return e instanceof this},m.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},m.prototype.write=function(e,t,r){var n,a=this._writableState,o=!1,s=!a.objectMode&&(n=e,h.isBuffer(n)||n instanceof p);return s&&!h.isBuffer(e)&&(e=function(e){return h.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=a.defaultEncoding),"function"!=typeof r&&(r=v),a.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),i.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var a=!0,o=!1;return null===r?o=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),i.nextTick(n,o),a=!1),a}(this,a,e,r))&&(a.pendingcb++,o=function(e,t,r,n,a,i){if(!r){var o=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=h.from(t,r)),t}(t,n,a);n!==o&&(r=!0,a="buffer",n=o)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:a,isBuf:r,callback:i,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else y(e,t,!1,s,n,a,i);return u}(this,a,s,e,t,r)),o},m.prototype.cork=function(){this._writableState.corked++},m.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},m.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},m.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},m.prototype._writev=null,m.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,j(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),m.prototype.destroy=g.destroy,m.prototype._undestroy=g.undestroy,m.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,r(3),r(63).setImmediate,r(0))},function(e,t,r){(t=e.exports=r(36)).Stream=t,t.Readable=t,t.Writable=r(19),t.Duplex=r(2),t.Transform=r(32),t.PassThrough=r(60)},function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function a(e){return"object"==typeof e&&null!==e}function i(e){return void 0===e}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,o,s,u,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var f=new Error('Uncaught, unspecified "error" event. ('+t+")");throw f.context=t,f}if(i(r=this._events[e]))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),r.apply(this,s)}else if(a(r))for(s=Array.prototype.slice.call(arguments,1),o=(l=r.slice()).length,u=0;u<o;u++)l[u].apply(this,s);return!0},r.prototype.addListener=function(e,t){var o;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(o=i(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){if(!n(t))throw TypeError("listener must be a function");var r=!1;function a(){this.removeListener(e,a),r||(r=!0,t.apply(this,arguments))}return a.listener=t,this.on(e,a),this},r.prototype.removeListener=function(e,t){var r,i,o,s;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(r=this._events[e]).length,i=-1,r===t||n(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(r)){for(s=o;s-- >0;)if(r[s]===t||r[s].listener&&r[s].listener===t){i=s;break}if(i<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={readUint16:function(e,t){if(t<0)throw"littleEndianByteArrayParser.readUint16: position cannot be less than 0";if(t+2>e.length)throw"littleEndianByteArrayParser.readUint16: attempt to read past end of buffer";return e[t]+256*e[t+1]},readInt16:function(e,t){if(t<0)throw"littleEndianByteArrayParser.readInt16: position cannot be less than 0";if(t+2>e.length)throw"littleEndianByteArrayParser.readInt16: attempt to read past end of buffer";var r=e[t]+(e[t+1]<<8);return 32768&r&&(r=r-65535-1),r},readUint32:function(e,t){if(t<0)throw"littleEndianByteArrayParser.readUint32: position cannot be less than 0";if(t+4>e.length)throw"littleEndianByteArrayParser.readUint32: attempt to read past end of buffer";return e[t]+256*e[t+1]+256*e[t+2]*256+256*e[t+3]*256*256},readInt32:function(e,t){if(t<0)throw"littleEndianByteArrayParser.readInt32: position cannot be less than 0";if(t+4>e.length)throw"littleEndianByteArrayParser.readInt32: attempt to read past end of buffer";return e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24)},readFloat:function(e,t){if(t<0)throw"littleEndianByteArrayParser.readFloat: position cannot be less than 0";if(t+4>e.length)throw"littleEndianByteArrayParser.readFloat: attempt to read past end of buffer";var r=new Uint8Array(4);return r[0]=e[t],r[1]=e[t+1],r[2]=e[t+2],r[3]=e[t+3],new Float32Array(r.buffer)[0]},readDouble:function(e,t){if(t<0)throw"littleEndianByteArrayParser.readDouble: position cannot be less than 0";if(t+8>e.length)throw"littleEndianByteArrayParser.readDouble: attempt to read past end of buffer";var r=new Uint8Array(8);return r[0]=e[t],r[1]=e[t+1],r[2]=e[t+2],r[3]=e[t+3],r[4]=e[t+4],r[5]=e[t+5],r[6]=e[t+6],r[7]=e[t+7],new Float64Array(r.buffer)[0]}}},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t,r){if(void 0!==e&&t instanceof e)return e.alloc(r);if(t instanceof Uint8Array)return new Uint8Array(r);throw"dicomParser.alloc: unknown type for byteArray"}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(void 0===e)throw"dicomParser.readDicomElementImplicit: missing required parameter 'byteStream'";for(var r=e.byteArray.length-8;e.position<=r;)if(65534===e.readUint16()&&57357===e.readUint16())return 0!==e.readUint32()&&e.warnings("encountered non zero length following item delimiter at position "+(e.position-4)+" while reading element of undefined length with tag "+t.tag),void(t.length=e.position-t.dataOffset);t.length=e.byteArray.length-t.dataOffset,e.seek(e.byteArray.length-e.position)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){if(void 0===e)throw"dicomParser.readDicomElementImplicit: missing required parameter 'byteStream'";var s={tag:(0,i.default)(e),length:e.readUint32(),dataOffset:e.position};return 4294967295===s.length&&(s.hadUndefinedLength=!0),s.tag===t?s:u(s,e,r)&&!(0,o.isPrivateTag)(s.tag)?((0,a.default)(e,s),s):s.hadUndefinedLength?((0,n.default)(e,s),s):(e.seek(s.length),s)};var n=s(r(24)),a=s(r(26)),i=s(r(4)),o=r(17);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e,t,r){if(void 0!==r)return"SQ"===r(e.tag);if(t.position+4<=t.byteArray.length){var n=(0,i.default)(t);return t.seek(-4),"xfffee000"===n||"xfffee0dd"===n}return t.warnings.push("eof encountered before finding sequence item tag or sequence delimiter tag in peeking to determine VR"),!1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){if(void 0===e)throw"dicomParser.readSequenceItemsImplicit: missing required parameter 'byteStream'";if(void 0===t)throw"dicomParser.readSequenceItemsImplicit: missing required parameter 'element'";t.items=[],4294967295===t.length?function(e,t,r){for(;e.position+4<=e.byteArray.length;){var n=(0,o.default)(e);if(e.seek(-4),"xfffee0dd"===n)return t.length=e.position-t.dataOffset,e.seek(8),t;var a=l(e,r);t.items.push(a)}e.warnings.push("eof encountered before finding sequence delimiter in sequence of undefined length"),t.length=e.byteArray.length-t.dataOffset}(e,t,r):function(e,t,r){for(var n=t.dataOffset+t.length;e.position<n;){var a=l(e,r);t.items.push(a)}}(e,t,r)};var n=u(r(7)),a=u(r(25)),i=u(r(13)),o=u(r(4)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(16));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var r=(0,i.default)(e);return 4294967295===r.length?(r.hadUndefinedLength=!0,r.dataSet=function(e,t){for(var r={};e.position<e.byteArray.length;){var i=(0,a.default)(e,void 0,t);if(r[i.tag]=i,"xfffee00d"===i.tag)return new n.default(e.byteArrayParser,e.byteArray,r)}return e.warnings.push("eof encountered before finding sequence item delimiter in sequence item of undefined length"),new n.default(e.byteArrayParser,e.byteArray,r)}(e,t),r.length=e.position-r.dataOffset):(r.dataSet=new n.default(e.byteArrayParser,e.byteArray,{}),s.parseDicomDataSetImplicit(r.dataSet,e,e.position+r.length,{vrCallback:t})),r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,n,s){if(n=n||t.basicOffsetTable,s=s||t.fragments,void 0===e)throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'dataSet'";if(void 0===t)throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'pixelDataElement'";if(void 0===r)throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'frameIndex'";if(void 0===n)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' does not have basicOffsetTable";if("x7fe00010"!==t.tag)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010)";if(!0!==t.encapsulatedPixelData)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(!0!==t.hadUndefinedLength)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have undefined length";if(void 0===t.fragments)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have fragments";if(0===n.length)throw"dicomParser.readEncapsulatedImageFrame: basicOffsetTable has zero entries";if(r<0)throw"dicomParser.readEncapsulatedImageFrame: parameter 'frameIndex' must be >= 0";if(r>=n.length)throw"dicomParser.readEncapsulatedImageFrame: parameter 'frameIndex' must be < basicOffsetTable.length";var u=n[r],l=i(s,u);if(void 0===l)throw"dicomParser.readEncapsulatedImageFrame: unable to find fragment that matches basic offset table entry";var f=o(r,n,s,l);return(0,a.default)(e,t,l,f,s)};var n,a=(n=r(18))&&n.__esModule?n:{default:n},i=function(e,t){for(var r=0;r<e.length;r++)if(e[r].offset===t)return r},o=function(e,t,r,n){if(e===t.length-1)return r.length-n;for(var a=t[e+1],i=n+1;i<r.length;i++)if(r[i].offset===a)return i-n;throw"dicomParser.calculateNumberOfFragmentsForFrame: could not find fragment with offset matching basic offset table"}},function(e,t,r){"use strict";var n=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();e.exports=function(e,t,r,a){var i=n,o=a+r;e^=-1;for(var s=a;s<o;s++)e=e>>>8^i[255&(e^t[s])];return-1^e}},function(e,t,r){"use strict";e.exports=function(e,t,r,n){for(var a=65535&e|0,i=e>>>16&65535|0,o=0;0!==r;){r-=o=r>2e3?2e3:r;do{i=i+(a=a+t[n++]|0)|0}while(--o);a%=65521,i%=65521}return a|i<<16|0}},function(e,t,r){(function(e,n){var a=/%[sdj%]/g;t.format=function(e){if(!_(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(s(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,o=String(e).replace(a,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),u=n[r];r<i;u=n[++r])g(u)||!b(u)?o+=" "+u:o+=" "+s(u);return o},t.deprecate=function(r,a){if(m(e.process))return function(){return t.deprecate(r,a).apply(this,arguments)};if(!0===n.noDeprecation)return r;var i=!1;return function(){if(!i){if(n.throwDeprecation)throw new Error(a);n.traceDeprecation?console.trace(a):console.error(a),i=!0}return r.apply(this,arguments)}};var i,o={};function s(e,r){var n={seen:[],stylize:l};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),p(r)?n.showHidden=r:r&&t._extend(n,r),m(n.showHidden)&&(n.showHidden=!1),m(n.depth)&&(n.depth=2),m(n.colors)&&(n.colors=!1),m(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),f(n,e,n.depth)}function u(e,t){var r=s.styles[t];return r?"["+s.colors[r][0]+"m"+e+"["+s.colors[r][1]+"m":e}function l(e,t){return e}function f(e,r,n){if(e.customInspect&&r&&x(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var a=r.inspect(n,e);return _(a)||(a=f(e,a,n)),a}var i=function(e,t){if(m(t))return e.stylize("undefined","undefined");if(_(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return v(t)?e.stylize(""+t,"number"):p(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}(e,r);if(i)return i;var o=Object.keys(r),s=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(r)),E(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return c(r);if(0===o.length){if(x(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(y(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(w(r))return e.stylize(Date.prototype.toString.call(r),"date");if(E(r))return c(r)}var l,b="",j=!1,I=["{","}"];return h(r)&&(j=!0,I=["[","]"]),x(r)&&(b=" [Function"+(r.name?": "+r.name:"")+"]"),y(r)&&(b=" "+RegExp.prototype.toString.call(r)),w(r)&&(b=" "+Date.prototype.toUTCString.call(r)),E(r)&&(b=" "+c(r)),0!==o.length||j&&0!=r.length?n<0?y(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),l=j?function(e,t,r,n,a){for(var i=[],o=0,s=t.length;o<s;++o)T(t,String(o))?i.push(d(e,t,r,n,String(o),!0)):i.push("");return a.forEach((function(a){a.match(/^\d+$/)||i.push(d(e,t,r,n,a,!0))})),i}(e,r,n,s,o):o.map((function(t){return d(e,r,n,s,t,j)})),e.seen.pop(),function(e,t,r){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(l,b,I)):I[0]+b+I[1]}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,r,n,a,i){var o,s,u;if((u=Object.getOwnPropertyDescriptor(t,a)||{value:t[a]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),T(n,a)||(o="["+a+"]"),s||(e.seen.indexOf(u.value)<0?(s=g(r)?f(e,u.value,null):f(e,u.value,r-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),m(o)){if(i&&a.match(/^\d+$/))return s;(o=JSON.stringify(""+a)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function h(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function g(e){return null===e}function v(e){return"number"==typeof e}function _(e){return"string"==typeof e}function m(e){return void 0===e}function y(e){return b(e)&&"[object RegExp]"===j(e)}function b(e){return"object"==typeof e&&null!==e}function w(e){return b(e)&&"[object Date]"===j(e)}function E(e){return b(e)&&("[object Error]"===j(e)||e instanceof Error)}function x(e){return"function"==typeof e}function j(e){return Object.prototype.toString.call(e)}function I(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(m(i)&&(i=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!o[e])if(new RegExp("\\b"+e+"\\b","i").test(i)){var r=n.pid;o[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else o[e]=function(){};return o[e]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=p,t.isNull=g,t.isNullOrUndefined=function(e){return null==e},t.isNumber=v,t.isString=_,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=m,t.isRegExp=y,t.isObject=b,t.isDate=w,t.isError=E,t.isFunction=x,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(54);var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,r;console.log("%s - %s",(r=[I((e=new Date).getHours()),I(e.getMinutes()),I(e.getSeconds())].join(":"),[e.getDate(),A[e.getMonth()],r].join(" ")),t.format.apply(t,arguments))},t.inherits=r(53),t._extend=function(e,t){if(!t||!b(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(this,r(0),r(3))},function(e,t,r){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
function n(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,a=0,i=Math.min(r,n);a<i;++a)if(e[a]!==t[a]){r=e[a],n=t[a];break}return r<n?-1:n<r?1:0}function a(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var i=r(30),o=Object.prototype.hasOwnProperty,s=Array.prototype.slice,u="foo"===function(){}.name;function l(e){return Object.prototype.toString.call(e)}function f(e){return!a(e)&&"function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}var c=e.exports=_,d=/\s*function\s+([^\(\s]*)\s*/;function h(e){if(i.isFunction(e)){if(u)return e.name;var t=e.toString().match(d);return t&&t[1]}}function p(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function g(e){if(u||!i.isFunction(e))return i.inspect(e);var t=h(e);return"[Function"+(t?": "+t:"")+"]"}function v(e,t,r,n,a){throw new c.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:a})}function _(e,t){e||v(e,!0,t,"==",c.ok)}function m(e,t,r,o){if(e===t)return!0;if(a(e)&&a(t))return 0===n(e,t);if(i.isDate(e)&&i.isDate(t))return e.getTime()===t.getTime();if(i.isRegExp(e)&&i.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(f(e)&&f(t)&&l(e)===l(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===n(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(a(e)!==a(t))return!1;var u=(o=o||{actual:[],expected:[]}).actual.indexOf(e);return-1!==u&&u===o.expected.indexOf(t)||(o.actual.push(e),o.expected.push(t),function(e,t,r,n){if(null==e||null==t)return!1;if(i.isPrimitive(e)||i.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var a=y(e),o=y(t);if(a&&!o||!a&&o)return!1;if(a)return m(e=s.call(e),t=s.call(t),r);var u,l,f=E(e),c=E(t);if(f.length!==c.length)return!1;for(f.sort(),c.sort(),l=f.length-1;l>=0;l--)if(f[l]!==c[l])return!1;for(l=f.length-1;l>=0;l--)if(!m(e[u=f[l]],t[u],r,n))return!1;return!0}(e,t,r,o))}return r?e===t:e==t}function y(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function b(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function w(e,t,r,n){var a;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),a=function(e){var t;try{e()}catch(e){t=e}return t}(t),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!a&&v(a,r,"Missing expected exception"+n);var o="string"==typeof n,s=!e&&a&&!r;if((!e&&i.isError(a)&&o&&b(a,r)||s)&&v(a,r,"Got unwanted exception"+n),e&&a&&r&&!b(a,r)||!e&&a)throw a}c.AssertionError=function(e){var t;this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=p(g((t=this).actual),128)+" "+t.operator+" "+p(g(t.expected),128),this.generatedMessage=!0);var r=e.stackStartFunction||v;if(Error.captureStackTrace)Error.captureStackTrace(this,r);else{var n=new Error;if(n.stack){var a=n.stack,i=h(r),o=a.indexOf("\n"+i);if(o>=0){var s=a.indexOf("\n",o+1);a=a.substring(s+1)}this.stack=a}}},i.inherits(c.AssertionError,Error),c.fail=v,c.ok=_,c.equal=function(e,t,r){e!=t&&v(e,t,r,"==",c.equal)},c.notEqual=function(e,t,r){e==t&&v(e,t,r,"!=",c.notEqual)},c.deepEqual=function(e,t,r){m(e,t,!1)||v(e,t,r,"deepEqual",c.deepEqual)},c.deepStrictEqual=function(e,t,r){m(e,t,!0)||v(e,t,r,"deepStrictEqual",c.deepStrictEqual)},c.notDeepEqual=function(e,t,r){m(e,t,!1)&&v(e,t,r,"notDeepEqual",c.notDeepEqual)},c.notDeepStrictEqual=function e(t,r,n){m(t,r,!0)&&v(t,r,n,"notDeepStrictEqual",e)},c.strictEqual=function(e,t,r){e!==t&&v(e,t,r,"===",c.strictEqual)},c.notStrictEqual=function(e,t,r){e===t&&v(e,t,r,"!==",c.notStrictEqual)},c.throws=function(e,t,r){w(!0,e,t,r)},c.doesNotThrow=function(e,t,r){w(!1,e,t,r)},c.ifError=function(e){if(e)throw e};var E=Object.keys||function(e){var t=[];for(var r in e)o.call(e,r)&&t.push(r);return t}}).call(this,r(0))},function(e,t,r){"use strict";e.exports=i;var n=r(2),a=r(6);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e),this._transformState={afterTransform:function(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",o)}function o(){var e=this;"function"==typeof this._flush?this._flush((function(t,r){s(e,t,r)})):s(this,null,null)}function s(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}a.inherits=r(5),a.inherits(i,n),i.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},i.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},i.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},i.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},i.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,(function(e){t(e),r.emit("close")}))}},function(e,t,r){"use strict";var n=r(9).Buffer,a=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===a||!a(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=l,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=f,this.end=c,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:-1}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�".repeat(r);if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�".repeat(r+1);if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�".repeat(r+2)}}(this,e,t);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function f(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function c(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.StringDecoder=i,i.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},i.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�".repeat(this.lastTotal-this.lastNeed):t},i.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var a=o(t[n]);return a>=0?(a>0&&(e.lastNeed=a-1),a):--n<r?0:(a=o(t[n]))>=0?(a>0&&(e.lastNeed=a-2),a):--n<r?0:(a=o(t[n]))>=0?(a>0&&(2===a?a=0:e.lastNeed=a-3),a):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,r){"use strict";var n=r(10);function a(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,i=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return i||o?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(a,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(n.nextTick(a,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,r){e.exports=r(21).EventEmitter},function(e,t,r){"use strict";(function(t,n){var a=r(10);e.exports=y;var i,o=r(39);y.ReadableState=m,r(21).EventEmitter;var s=function(e,t){return e.listeners(t).length},u=r(35),l=r(9).Buffer,f=t.Uint8Array||function(){},c=r(6);c.inherits=r(5);var d=r(66),h=void 0;h=d&&d.debuglog?d.debuglog("stream"):function(){};var p,g=r(65),v=r(34);c.inherits(y,u);var _=["error","close","destroy","pause","resume"];function m(e,t){e=e||{};var n=t instanceof(i=i||r(2));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var a=e.highWaterMark,o=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=a||0===a?a:n&&(o||0===o)?o:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=r(33).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function y(e){if(i=i||r(2),!(this instanceof y))return new y(e);this._readableState=new m(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function b(e,t,r,n,a){var i,o=e._readableState;return null===t?(o.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,j(e)}}(e,o)):(a||(i=function(e,t){var r,n;return n=t,l.isBuffer(n)||n instanceof f||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}(o,t)),i?e.emit("error",i):o.objectMode||t&&t.length>0?("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===l.prototype||(t=function(e){return l.from(e)}(t)),n?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):w(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||0!==t.length?w(e,o,t,!1):A(e,o)):w(e,o,t,!1))):n||(o.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(o)}function w(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&j(e)),A(e,t)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),y.prototype.destroy=v.destroy,y.prototype._undestroy=v.undestroy,y.prototype._destroy=function(e,t){this.push(null),t(e)},y.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=l.from(e,t),t=""),r=!0),b(this,e,t,!1,r)},y.prototype.unshift=function(e){return b(this,e,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(e){return p||(p=r(33).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var E=8388608;function x(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=E?e=E:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function j(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?a.nextTick(I,e):I(e))}function I(e){h("emit readable"),e.emit("readable"),P(e)}function A(e,t){t.readingMore||(t.readingMore=!0,a.nextTick(T,e,t))}function T(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function S(e){h("readable nexttick read 0"),e.read(0)}function k(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),P(e),t.flowing&&!t.reading&&e.read(0)}function P(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function O(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,a=r.data;for(e-=a.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(o===i.length?a+=i:a+=i.slice(0,e),0==(e-=o)){o===i.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=i.slice(o));break}++n}return t.length-=n,a}(e,t):function(e,t){var r=l.allocUnsafe(e),n=t.head,a=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(i.copy(r,r.length-e,0,o),0==(e-=o)){o===i.length?(++a,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=i.slice(o));break}++a}return t.length-=a,r}(e,t),n}(e,t.buffer,t.decoder),r);var r}function D(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,a.nextTick(L,t,e))}function L(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function C(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}y.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?D(this):j(this),null;if(0===(e=x(e,t))&&t.ended)return 0===t.length&&D(this),null;var n,a=t.needReadable;return h("need readable",a),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",a=!0),t.ended||t.reading?h("reading or ended",a=!1):a&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=x(r,t))),null===(n=e>0?O(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&D(this)),null!==n&&this.emit("data",n),n},y.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,h("pipe count=%d opts=%j",i.pipesCount,t);var u=t&&!1===t.end||e===n.stdout||e===n.stderr?y:f;function l(t,n){h("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,h("cleanup"),e.removeListener("close",_),e.removeListener("finish",m),e.removeListener("drain",c),e.removeListener("error",v),e.removeListener("unpipe",l),r.removeListener("end",f),r.removeListener("end",y),r.removeListener("data",g),d=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}function f(){h("onend"),e.end()}i.endEmitted?a.nextTick(u):r.once("end",u),e.on("unpipe",l);var c=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,P(e))}}(r);e.on("drain",c);var d=!1,p=!1;function g(t){h("ondata"),p=!1,!1!==e.write(t)||p||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==C(i.pipes,e))&&!d&&(h("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,p=!0),r.pause())}function v(t){h("onerror",t),y(),e.removeListener("error",v),0===s(e,"error")&&e.emit("error",t)}function _(){e.removeListener("finish",m),y()}function m(){h("onfinish"),e.removeListener("close",_),y()}function y(){h("unpipe"),r.unpipe(e)}return r.on("data",g),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",v),e.once("close",_),e.once("finish",m),e.emit("pipe",r),i.flowing||(h("pipe resume"),r.resume()),e},y.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,a=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<a;i++)n[i].emit("unpipe",this,r);return this}var o=C(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},y.prototype.on=function(e,t){var r=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&j(this):a.nextTick(S,this))}return r},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,a.nextTick(k,e,t))}(this,e)),this},y.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var a in e.on("end",(function(){if(h("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(a){h("wrapped data"),r.decoder&&(a=r.decoder.write(a)),(!r.objectMode||null!=a)&&(r.objectMode||a&&a.length)&&(t.push(a)||(n=!0,e.pause()))})),e)void 0===this[a]&&"function"==typeof e[a]&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));for(var i=0;i<_.length;i++)e.on(_[i],this.emit.bind(this,_[i]));return this._read=function(t){h("wrapped _read",t),n&&(n=!1,e.resume())},this},y._fromList=O}).call(this,r(0),r(3))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(void 0===e)throw"dicomParser.readPart10Header: missing required parameter 'byteArray'";var r=new n.default(i.default,e);return function(){!function(){if(r.seek(128),"DICM"!==r.readFixedString(4))throw"dicomParser.readPart10Header: DICM prefix not found at location 132 - this is not a valid DICOM P10 file."}();for(var e=[],t={};r.position<r.byteArray.length;){var n=r.position,s=(0,o.default)(r,e);if(s.tag>"x0002ffff"){r.position=n;break}s.parser=i.default,t[s.tag]=s}var u=new a.default(r.byteArrayParser,r.byteArray,t);return u.warnings=r.warnings,u.position=r.position,u}()};var n=s(r(12)),a=s(r(7)),i=s(r(22)),o=s(r(15));function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={readUint16:function(e,t){if(t<0)throw"bigEndianByteArrayParser.readUint16: position cannot be less than 0";if(t+2>e.length)throw"bigEndianByteArrayParser.readUint16: attempt to read past end of buffer";return(e[t]<<8)+e[t+1]},readInt16:function(e,t){if(t<0)throw"bigEndianByteArrayParser.readInt16: position cannot be less than 0";if(t+2>e.length)throw"bigEndianByteArrayParser.readInt16: attempt to read past end of buffer";var r=(e[t]<<8)+e[t+1];return 32768&r&&(r=r-65535-1),r},readUint32:function(e,t){if(t<0)throw"bigEndianByteArrayParser.readUint32: position cannot be less than 0";if(t+4>e.length)throw"bigEndianByteArrayParser.readUint32: attempt to read past end of buffer";return 256*(256*(256*e[t]+e[t+1])+e[t+2])+e[t+3]},readInt32:function(e,t){if(t<0)throw"bigEndianByteArrayParser.readInt32: position cannot be less than 0";if(t+4>e.length)throw"bigEndianByteArrayParser.readInt32: attempt to read past end of buffer";return(e[t]<<24)+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3]},readFloat:function(e,t){if(t<0)throw"bigEndianByteArrayParser.readFloat: position cannot be less than 0";if(t+4>e.length)throw"bigEndianByteArrayParser.readFloat: attempt to read past end of buffer";var r=new Uint8Array(4);return r[3]=e[t],r[2]=e[t+1],r[1]=e[t+2],r[0]=e[t+3],new Float32Array(r.buffer)[0]},readDouble:function(e,t){if(t<0)throw"bigEndianByteArrayParser.readDouble: position cannot be less than 0";if(t+8>e.length)throw"bigEndianByteArrayParser.readDouble: attempt to read past end of buffer";var r=new Uint8Array(8);return r[7]=e[t],r[6]=e[t+1],r[5]=e[t+2],r[4]=e[t+3],r[3]=e[t+4],r[2]=e[t+5],r[1]=e[t+6],r[0]=e[t+7],new Float64Array(r.buffer)[0]}}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){if(void 0===e)throw"dicomParser.readSequenceItemsExplicit: missing required parameter 'byteStream'";if(void 0===t)throw"dicomParser.readSequenceItemsExplicit: missing required parameter 'element'";t.items=[],4294967295===t.length?function(e,t,r){for(;e.position+4<=e.byteArray.length;){var n=(0,o.default)(e);if(e.seek(-4),"xfffee0dd"===n)return t.length=e.position-t.dataOffset,e.seek(8),t;var a=l(e,r);t.items.push(a)}r.push("eof encountered before finding sequence delimitation tag while reading sequence of undefined length"),t.length=e.position-t.dataOffset}(e,t,r):function(e,t,r){for(var n=t.dataOffset+t.length;e.position<n;){var a=l(e,r);t.items.push(a)}}(e,t,r)};var n=u(r(7)),a=u(r(15)),i=u(r(13)),o=u(r(4)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(16));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var r=(0,i.default)(e);return 4294967295===r.length?(r.hadUndefinedLength=!0,r.dataSet=function(e,t){for(var r={};e.position<e.byteArray.length;){var i=(0,a.default)(e,t);if(r[i.tag]=i,"xfffee00d"===i.tag)return new n.default(e.byteArrayParser,e.byteArray,r)}return t.push("eof encountered before finding item delimiter tag while reading sequence item of undefined length"),new n.default(e.byteArrayParser,e.byteArray,r)}(e,t),r.length=e.position-r.dataOffset):(r.dataSet=new n.default(e.byteArrayParser,e.byteArray,{}),s.parseDicomDataSetExplicit(r.dataSet,e,e.position+r.length)),r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(void 0===e)throw"dicomParser.findAndSetUNElementLength: missing required parameter 'byteStream'";for(var r=e.byteArray.length-8;e.position<=r;)if(65534===e.readUint16()&&57565===e.readUint16())return 0!==e.readUint32()&&e.warnings("encountered non zero length following item delimiter at position "+(e.position-4)+" while reading element of undefined length with tag "+t.tag),void(t.length=e.position-t.dataOffset);t.length=e.byteArray.length-t.dataOffset,e.seek(e.byteArray.length-e.position)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){if(void 0===e)throw"dicomParser.findEndOfEncapsulatedElement: missing required parameter 'byteStream'";if(void 0===t)throw"dicomParser.findEndOfEncapsulatedElement: missing required parameter 'element'";if(t.encapsulatedPixelData=!0,t.basicOffsetTable=[],t.fragments=[],"xfffee000"!==(0,a.default)(e))throw"dicomParser.findEndOfEncapsulatedElement: basic offset table not found";for(var n=e.readUint32()/4,i=0;i<n;i++){var o=e.readUint32();t.basicOffsetTable.push(o)}for(var s=e.position;e.position<e.byteArray.length;){var u=(0,a.default)(e),l=e.readUint32();if("xfffee0dd"===u)return e.seek(l),void(t.length=e.position-t.dataOffset);if("xfffee000"!==u)return r&&r.push("unexpected tag "+u+" while searching for end of pixel data element with undefined length"),l>e.byteArray.length-e.position&&(l=e.byteArray.length-e.position),t.fragments.push({offset:e.position-s-8,position:e.position,length:l}),e.seek(l),void(t.length=e.position-t.dataOffset);t.fragments.push({offset:e.position-s-8,position:e.position,length:l}),e.seek(l)}r&&r.push("pixel data element "+t.tag+" missing sequence delimiter tag xfffee0dd")};var n,a=(n=r(4))&&n.__esModule?n:{default:n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(void 0===e||void 0===t)throw"dicomParser.explicitElementToString: missing required parameters";if(void 0===t.vr)throw"dicomParser.explicitElementToString: cannot convert implicit element to string";var r,a=t.vr,i=t.tag;function o(t,r){for(var n="",a=0;a<t;a++)0!==a&&(n+="/"),n+=r.call(e,i,a).toString();return n}if(!0===n.isStringVr(a))r=e.string(i);else{if("AT"===a){var s=e.uint32(i);if(void 0===s)return;return s<0&&(s=4294967295+s+1),"x"+s.toString(16).toUpperCase()}"US"===a?r=o(t.length/2,e.uint16):"SS"===a?r=o(t.length/2,e.int16):"UL"===a?r=o(t.length/4,e.uint32):"SL"===a?r=o(t.length/4,e.int32):"FD"===a?r=o(t.length/8,e.double):"FL"===a&&(r=o(t.length/4,e.float))}return r};var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(17))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){if(o||(o=!0,console&&console.log&&console.log("WARNING: dicomParser.readEncapsulatedPixelData() has been deprecated")),void 0===e)throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'dataSet'";if(void 0===t)throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'element'";if(void 0===r)throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'frame'";if("x7fe00010"!==t.tag)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to non pixel data tag (expected tag = x7fe00010)";if(!0!==t.encapsulatedPixelData)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data";if(!0!==t.hadUndefinedLength)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data";if(void 0===t.basicOffsetTable)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data";if(void 0===t.fragments)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data";if(r<0)throw"dicomParser.readEncapsulatedPixelData: parameter 'frame' must be >= 0";return 0!==t.basicOffsetTable.length?(0,n.default)(e,t,r):(0,a.default)(e,t,0,t.fragments.length)};var n=i(r(27)),a=i(r(18));function i(e){return e&&e.__esModule?e:{default:e}}var o=!1},function(e,t,r){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,r){"use strict";var n=r(8),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,r,u,l,f,c,d){var h,p,g,v,_,m,y,b,w,E=d.bits,x=0,j=0,I=0,A=0,T=0,S=0,k=0,P=0,O=0,D=0,L=null,C=0,R=new n.Buf16(16),M=new n.Buf16(16),U=null,B=0;for(x=0;x<=15;x++)R[x]=0;for(j=0;j<u;j++)R[t[r+j]]++;for(T=E,A=15;A>=1&&0===R[A];A--);if(T>A&&(T=A),0===A)return l[f++]=20971520,l[f++]=20971520,d.bits=1,0;for(I=1;I<A&&0===R[I];I++);for(T<I&&(T=I),P=1,x=1;x<=15;x++)if(P<<=1,(P-=R[x])<0)return-1;if(P>0&&(0===e||1!==A))return-1;for(M[1]=0,x=1;x<15;x++)M[x+1]=M[x]+R[x];for(j=0;j<u;j++)0!==t[r+j]&&(c[M[t[r+j]]++]=j);if(0===e?(L=U=c,m=19):1===e?(L=a,C-=257,U=i,B-=257,m=256):(L=o,U=s,m=-1),D=0,j=0,x=I,_=f,S=T,k=0,g=-1,v=(O=1<<T)-1,1===e&&O>852||2===e&&O>592)return 1;for(;;){y=x-k,c[j]<m?(b=0,w=c[j]):c[j]>m?(b=U[B+c[j]],w=L[C+c[j]]):(b=96,w=0),h=1<<x-k,I=p=1<<S;do{l[_+(D>>k)+(p-=h)]=y<<24|b<<16|w|0}while(0!==p);for(h=1<<x-1;D&h;)h>>=1;if(0!==h?(D&=h-1,D+=h):D=0,j++,0==--R[x]){if(x===A)break;x=t[r+c[j]]}if(x>T&&(D&v)!==g){for(0===k&&(k=T),_+=I,P=1<<(S=x-k);S+k<A&&!((P-=R[S+k])<=0);)S++,P<<=1;if(O+=1<<S,1===e&&O>852||2===e&&O>592)return 1;l[g=D&v]=T<<24|S<<16|_-f|0}}return 0!==D&&(l[_+D]=x-k<<24|64<<16|0),d.bits=T,0}},function(e,t,r){"use strict";e.exports=function(e,t){var r,n,a,i,o,s,u,l,f,c,d,h,p,g,v,_,m,y,b,w,E,x,j,I,A;r=e.state,n=e.next_in,I=e.input,a=n+(e.avail_in-5),i=e.next_out,A=e.output,o=i-(t-e.avail_out),s=i+(e.avail_out-257),u=r.dmax,l=r.wsize,f=r.whave,c=r.wnext,d=r.window,h=r.hold,p=r.bits,g=r.lencode,v=r.distcode,_=(1<<r.lenbits)-1,m=(1<<r.distbits)-1;e:do{p<15&&(h+=I[n++]<<p,p+=8,h+=I[n++]<<p,p+=8),y=g[h&_];t:for(;;){if(h>>>=b=y>>>24,p-=b,0==(b=y>>>16&255))A[i++]=65535&y;else{if(!(16&b)){if(0==(64&b)){y=g[(65535&y)+(h&(1<<b)-1)];continue t}if(32&b){r.mode=12;break e}e.msg="invalid literal/length code",r.mode=30;break e}w=65535&y,(b&=15)&&(p<b&&(h+=I[n++]<<p,p+=8),w+=h&(1<<b)-1,h>>>=b,p-=b),p<15&&(h+=I[n++]<<p,p+=8,h+=I[n++]<<p,p+=8),y=v[h&m];r:for(;;){if(h>>>=b=y>>>24,p-=b,!(16&(b=y>>>16&255))){if(0==(64&b)){y=v[(65535&y)+(h&(1<<b)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(E=65535&y,p<(b&=15)&&(h+=I[n++]<<p,(p+=8)<b&&(h+=I[n++]<<p,p+=8)),(E+=h&(1<<b)-1)>u){e.msg="invalid distance too far back",r.mode=30;break e}if(h>>>=b,p-=b,E>(b=i-o)){if((b=E-b)>f&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(x=0,j=d,0===c){if(x+=l-b,b<w){w-=b;do{A[i++]=d[x++]}while(--b);x=i-E,j=A}}else if(c<b){if(x+=l+c-b,(b-=c)<w){w-=b;do{A[i++]=d[x++]}while(--b);if(x=0,c<w){w-=b=c;do{A[i++]=d[x++]}while(--b);x=i-E,j=A}}}else if(x+=c-b,b<w){w-=b;do{A[i++]=d[x++]}while(--b);x=i-E,j=A}for(;w>2;)A[i++]=j[x++],A[i++]=j[x++],A[i++]=j[x++],w-=3;w&&(A[i++]=j[x++],w>1&&(A[i++]=j[x++]))}else{x=i-E;do{A[i++]=A[x++],A[i++]=A[x++],A[i++]=A[x++],w-=3}while(w>2);w&&(A[i++]=A[x++],w>1&&(A[i++]=A[x++]))}break}}break}}while(n<a&&i<s);n-=w=p>>3,h&=(1<<(p-=w<<3))-1,e.next_in=n,e.next_out=i,e.avail_in=n<a?a-n+5:5-(n-a),e.avail_out=i<s?s-i+257:257-(i-s),r.hold=h,r.bits=p}},function(e,t,r){"use strict";var n=r(8),a=r(29),i=r(28),o=r(47),s=r(46),u=0,l=1,f=2,c=4,d=5,h=6,p=0,g=1,v=2,_=-2,m=-3,y=-4,b=-5,w=8,E=1,x=2,j=3,I=4,A=5,T=6,S=7,k=8,P=9,O=10,D=11,L=12,C=13,R=14,M=15,U=16,B=17,N=18,F=19,V=20,z=21,q=22,W=23,Z=24,G=25,H=26,Y=27,X=28,$=29,J=30,K=31,Q=32,ee=852,te=592,re=15;function ne(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function ae(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=E,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new n.Buf32(ee),t.distcode=t.distdyn=new n.Buf32(te),t.sane=1,t.back=-1,p):_}function ie(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,ae(e)):_}function oe(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?_:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,ie(e))):_}function se(e,t){var r,a;return e?(a=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},e.state=a,a.window=null,(r=oe(e,t))!==p&&(e.state=null),r):_}var ue,le,fe=!0;function ce(e){if(fe){var t;for(ue=new n.Buf32(512),le=new n.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(l,e.lens,0,288,ue,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(f,e.lens,0,32,le,0,e.work,{bits:5}),fe=!1}e.lencode=ue,e.lenbits=9,e.distcode=le,e.distbits=5}function de(e,t,r,a){var i,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new n.Buf8(o.wsize)),a>=o.wsize?(n.arraySet(o.window,t,r-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((i=o.wsize-o.wnext)>a&&(i=a),n.arraySet(o.window,t,r-a,i,o.wnext),(a-=i)?(n.arraySet(o.window,t,r-a,a,0),o.wnext=a,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}t.inflateReset=ie,t.inflateReset2=oe,t.inflateResetKeep=ae,t.inflateInit=function(e){return se(e,re)},t.inflateInit2=se,t.inflate=function(e,t){var r,ee,te,re,ae,ie,oe,se,ue,le,fe,he,pe,ge,ve,_e,me,ye,be,we,Ee,xe,je,Ie,Ae=0,Te=new n.Buf8(4),Se=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return _;(r=e.state).mode===L&&(r.mode=C),ae=e.next_out,te=e.output,oe=e.avail_out,re=e.next_in,ee=e.input,ie=e.avail_in,se=r.hold,ue=r.bits,le=ie,fe=oe,xe=p;e:for(;;)switch(r.mode){case E:if(0===r.wrap){r.mode=C;break}for(;ue<16;){if(0===ie)break e;ie--,se+=ee[re++]<<ue,ue+=8}if(2&r.wrap&&35615===se){r.check=0,Te[0]=255&se,Te[1]=se>>>8&255,r.check=i(r.check,Te,2,0),se=0,ue=0,r.mode=x;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&se)<<8)+(se>>8))%31){e.msg="incorrect header check",r.mode=J;break}if((15&se)!==w){e.msg="unknown compression method",r.mode=J;break}if(ue-=4,Ee=8+(15&(se>>>=4)),0===r.wbits)r.wbits=Ee;else if(Ee>r.wbits){e.msg="invalid window size",r.mode=J;break}r.dmax=1<<Ee,e.adler=r.check=1,r.mode=512&se?O:L,se=0,ue=0;break;case x:for(;ue<16;){if(0===ie)break e;ie--,se+=ee[re++]<<ue,ue+=8}if(r.flags=se,(255&r.flags)!==w){e.msg="unknown compression method",r.mode=J;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=J;break}r.head&&(r.head.text=se>>8&1),512&r.flags&&(Te[0]=255&se,Te[1]=se>>>8&255,r.check=i(r.check,Te,2,0)),se=0,ue=0,r.mode=j;case j:for(;ue<32;){if(0===ie)break e;ie--,se+=ee[re++]<<ue,ue+=8}r.head&&(r.head.time=se),512&r.flags&&(Te[0]=255&se,Te[1]=se>>>8&255,Te[2]=se>>>16&255,Te[3]=se>>>24&255,r.check=i(r.check,Te,4,0)),se=0,ue=0,r.mode=I;case I:for(;ue<16;){if(0===ie)break e;ie--,se+=ee[re++]<<ue,ue+=8}r.head&&(r.head.xflags=255&se,r.head.os=se>>8),512&r.flags&&(Te[0]=255&se,Te[1]=se>>>8&255,r.check=i(r.check,Te,2,0)),se=0,ue=0,r.mode=A;case A:if(1024&r.flags){for(;ue<16;){if(0===ie)break e;ie--,se+=ee[re++]<<ue,ue+=8}r.length=se,r.head&&(r.head.extra_len=se),512&r.flags&&(Te[0]=255&se,Te[1]=se>>>8&255,r.check=i(r.check,Te,2,0)),se=0,ue=0}else r.head&&(r.head.extra=null);r.mode=T;case T:if(1024&r.flags&&((he=r.length)>ie&&(he=ie),he&&(r.head&&(Ee=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,ee,re,he,Ee)),512&r.flags&&(r.check=i(r.check,ee,he,re)),ie-=he,re+=he,r.length-=he),r.length))break e;r.length=0,r.mode=S;case S:if(2048&r.flags){if(0===ie)break e;he=0;do{Ee=ee[re+he++],r.head&&Ee&&r.length<65536&&(r.head.name+=String.fromCharCode(Ee))}while(Ee&&he<ie);if(512&r.flags&&(r.check=i(r.check,ee,he,re)),ie-=he,re+=he,Ee)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=k;case k:if(4096&r.flags){if(0===ie)break e;he=0;do{Ee=ee[re+he++],r.head&&Ee&&r.length<65536&&(r.head.comment+=String.fromCharCode(Ee))}while(Ee&&he<ie);if(512&r.flags&&(r.check=i(r.check,ee,he,re)),ie-=he,re+=he,Ee)break e}else r.head&&(r.head.comment=null);r.mode=P;case P:if(512&r.flags){for(;ue<16;){if(0===ie)break e;ie--,se+=ee[re++]<<ue,ue+=8}if(se!==(65535&r.check)){e.msg="header crc mismatch",r.mode=J;break}se=0,ue=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=L;break;case O:for(;ue<32;){if(0===ie)break e;ie--,se+=ee[re++]<<ue,ue+=8}e.adler=r.check=ne(se),se=0,ue=0,r.mode=D;case D:if(0===r.havedict)return e.next_out=ae,e.avail_out=oe,e.next_in=re,e.avail_in=ie,r.hold=se,r.bits=ue,v;e.adler=r.check=1,r.mode=L;case L:if(t===d||t===h)break e;case C:if(r.last){se>>>=7&ue,ue-=7&ue,r.mode=Y;break}for(;ue<3;){if(0===ie)break e;ie--,se+=ee[re++]<<ue,ue+=8}switch(r.last=1&se,ue-=1,3&(se>>>=1)){case 0:r.mode=R;break;case 1:if(ce(r),r.mode=V,t===h){se>>>=2,ue-=2;break e}break;case 2:r.mode=B;break;case 3:e.msg="invalid block type",r.mode=J}se>>>=2,ue-=2;break;case R:for(se>>>=7&ue,ue-=7&ue;ue<32;){if(0===ie)break e;ie--,se+=ee[re++]<<ue,ue+=8}if((65535&se)!=(se>>>16^65535)){e.msg="invalid stored block lengths",r.mode=J;break}if(r.length=65535&se,se=0,ue=0,r.mode=M,t===h)break e;case M:r.mode=U;case U:if(he=r.length){if(he>ie&&(he=ie),he>oe&&(he=oe),0===he)break e;n.arraySet(te,ee,re,he,ae),ie-=he,re+=he,oe-=he,ae+=he,r.length-=he;break}r.mode=L;break;case B:for(;ue<14;){if(0===ie)break e;ie--,se+=ee[re++]<<ue,ue+=8}if(r.nlen=257+(31&se),se>>>=5,ue-=5,r.ndist=1+(31&se),se>>>=5,ue-=5,r.ncode=4+(15&se),se>>>=4,ue-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=J;break}r.have=0,r.mode=N;case N:for(;r.have<r.ncode;){for(;ue<3;){if(0===ie)break e;ie--,se+=ee[re++]<<ue,ue+=8}r.lens[Se[r.have++]]=7&se,se>>>=3,ue-=3}for(;r.have<19;)r.lens[Se[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,je={bits:r.lenbits},xe=s(u,r.lens,0,19,r.lencode,0,r.work,je),r.lenbits=je.bits,xe){e.msg="invalid code lengths set",r.mode=J;break}r.have=0,r.mode=F;case F:for(;r.have<r.nlen+r.ndist;){for(;_e=(Ae=r.lencode[se&(1<<r.lenbits)-1])>>>16&255,me=65535&Ae,!((ve=Ae>>>24)<=ue);){if(0===ie)break e;ie--,se+=ee[re++]<<ue,ue+=8}if(me<16)se>>>=ve,ue-=ve,r.lens[r.have++]=me;else{if(16===me){for(Ie=ve+2;ue<Ie;){if(0===ie)break e;ie--,se+=ee[re++]<<ue,ue+=8}if(se>>>=ve,ue-=ve,0===r.have){e.msg="invalid bit length repeat",r.mode=J;break}Ee=r.lens[r.have-1],he=3+(3&se),se>>>=2,ue-=2}else if(17===me){for(Ie=ve+3;ue<Ie;){if(0===ie)break e;ie--,se+=ee[re++]<<ue,ue+=8}ue-=ve,Ee=0,he=3+(7&(se>>>=ve)),se>>>=3,ue-=3}else{for(Ie=ve+7;ue<Ie;){if(0===ie)break e;ie--,se+=ee[re++]<<ue,ue+=8}ue-=ve,Ee=0,he=11+(127&(se>>>=ve)),se>>>=7,ue-=7}if(r.have+he>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=J;break}for(;he--;)r.lens[r.have++]=Ee}}if(r.mode===J)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=J;break}if(r.lenbits=9,je={bits:r.lenbits},xe=s(l,r.lens,0,r.nlen,r.lencode,0,r.work,je),r.lenbits=je.bits,xe){e.msg="invalid literal/lengths set",r.mode=J;break}if(r.distbits=6,r.distcode=r.distdyn,je={bits:r.distbits},xe=s(f,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,je),r.distbits=je.bits,xe){e.msg="invalid distances set",r.mode=J;break}if(r.mode=V,t===h)break e;case V:r.mode=z;case z:if(ie>=6&&oe>=258){e.next_out=ae,e.avail_out=oe,e.next_in=re,e.avail_in=ie,r.hold=se,r.bits=ue,o(e,fe),ae=e.next_out,te=e.output,oe=e.avail_out,re=e.next_in,ee=e.input,ie=e.avail_in,se=r.hold,ue=r.bits,r.mode===L&&(r.back=-1);break}for(r.back=0;_e=(Ae=r.lencode[se&(1<<r.lenbits)-1])>>>16&255,me=65535&Ae,!((ve=Ae>>>24)<=ue);){if(0===ie)break e;ie--,se+=ee[re++]<<ue,ue+=8}if(_e&&0==(240&_e)){for(ye=ve,be=_e,we=me;_e=(Ae=r.lencode[we+((se&(1<<ye+be)-1)>>ye)])>>>16&255,me=65535&Ae,!(ye+(ve=Ae>>>24)<=ue);){if(0===ie)break e;ie--,se+=ee[re++]<<ue,ue+=8}se>>>=ye,ue-=ye,r.back+=ye}if(se>>>=ve,ue-=ve,r.back+=ve,r.length=me,0===_e){r.mode=H;break}if(32&_e){r.back=-1,r.mode=L;break}if(64&_e){e.msg="invalid literal/length code",r.mode=J;break}r.extra=15&_e,r.mode=q;case q:if(r.extra){for(Ie=r.extra;ue<Ie;){if(0===ie)break e;ie--,se+=ee[re++]<<ue,ue+=8}r.length+=se&(1<<r.extra)-1,se>>>=r.extra,ue-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=W;case W:for(;_e=(Ae=r.distcode[se&(1<<r.distbits)-1])>>>16&255,me=65535&Ae,!((ve=Ae>>>24)<=ue);){if(0===ie)break e;ie--,se+=ee[re++]<<ue,ue+=8}if(0==(240&_e)){for(ye=ve,be=_e,we=me;_e=(Ae=r.distcode[we+((se&(1<<ye+be)-1)>>ye)])>>>16&255,me=65535&Ae,!(ye+(ve=Ae>>>24)<=ue);){if(0===ie)break e;ie--,se+=ee[re++]<<ue,ue+=8}se>>>=ye,ue-=ye,r.back+=ye}if(se>>>=ve,ue-=ve,r.back+=ve,64&_e){e.msg="invalid distance code",r.mode=J;break}r.offset=me,r.extra=15&_e,r.mode=Z;case Z:if(r.extra){for(Ie=r.extra;ue<Ie;){if(0===ie)break e;ie--,se+=ee[re++]<<ue,ue+=8}r.offset+=se&(1<<r.extra)-1,se>>>=r.extra,ue-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=J;break}r.mode=G;case G:if(0===oe)break e;if(he=fe-oe,r.offset>he){if((he=r.offset-he)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=J;break}he>r.wnext?(he-=r.wnext,pe=r.wsize-he):pe=r.wnext-he,he>r.length&&(he=r.length),ge=r.window}else ge=te,pe=ae-r.offset,he=r.length;he>oe&&(he=oe),oe-=he,r.length-=he;do{te[ae++]=ge[pe++]}while(--he);0===r.length&&(r.mode=z);break;case H:if(0===oe)break e;te[ae++]=r.length,oe--,r.mode=z;break;case Y:if(r.wrap){for(;ue<32;){if(0===ie)break e;ie--,se|=ee[re++]<<ue,ue+=8}if(fe-=oe,e.total_out+=fe,r.total+=fe,fe&&(e.adler=r.check=r.flags?i(r.check,te,fe,ae-fe):a(r.check,te,fe,ae-fe)),fe=oe,(r.flags?se:ne(se))!==r.check){e.msg="incorrect data check",r.mode=J;break}se=0,ue=0}r.mode=X;case X:if(r.wrap&&r.flags){for(;ue<32;){if(0===ie)break e;ie--,se+=ee[re++]<<ue,ue+=8}if(se!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=J;break}se=0,ue=0}r.mode=$;case $:xe=g;break e;case J:xe=m;break e;case K:return y;case Q:default:return _}return e.next_out=ae,e.avail_out=oe,e.next_in=re,e.avail_in=ie,r.hold=se,r.bits=ue,(r.wsize||fe!==e.avail_out&&r.mode<J&&(r.mode<Y||t!==c))&&de(e,e.output,e.next_out,fe-e.avail_out)?(r.mode=K,y):(le-=e.avail_in,fe-=e.avail_out,e.total_in+=le,e.total_out+=fe,r.total+=fe,r.wrap&&fe&&(e.adler=r.check=r.flags?i(r.check,te,fe,e.next_out-fe):a(r.check,te,fe,e.next_out-fe)),e.data_type=r.bits+(r.last?64:0)+(r.mode===L?128:0)+(r.mode===V||r.mode===M?256:0),(0===le&&0===fe||t===c)&&xe===p&&(xe=b),xe)},t.inflateEnd=function(e){if(!e||!e.state)return _;var t=e.state;return t.window&&(t.window=null),e.state=null,p},t.inflateGetHeader=function(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?_:(r.head=t,t.done=!1,p):_},t.inflateSetDictionary=function(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&r.mode!==D?_:r.mode===D&&a(1,t,n,0)!==r.check?m:de(e,t,n,n)?(r.mode=K,y):(r.havedict=1,p):_},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,r){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,r){"use strict";var n=r(8),a=4,i=0,o=1,s=2;function u(e){for(var t=e.length;--t>=0;)e[t]=0}var l=0,f=1,c=2,d=29,h=256,p=h+1+d,g=30,v=19,_=2*p+1,m=15,y=16,b=7,w=256,E=16,x=17,j=18,I=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],A=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],k=new Array(2*(p+2));u(k);var P=new Array(2*g);u(P);var O=new Array(512);u(O);var D=new Array(256);u(D);var L=new Array(d);u(L);var C,R,M,U=new Array(g);function B(e,t,r,n,a){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=a,this.has_stree=e&&e.length}function N(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function F(e){return e<256?O[e]:O[256+(e>>>7)]}function V(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function z(e,t,r){e.bi_valid>y-r?(e.bi_buf|=t<<e.bi_valid&65535,V(e,e.bi_buf),e.bi_buf=t>>y-e.bi_valid,e.bi_valid+=r-y):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function q(e,t,r){z(e,r[2*t],r[2*t+1])}function W(e,t){var r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1}function Z(e,t,r){var n,a,i=new Array(m+1),o=0;for(n=1;n<=m;n++)i[n]=o=o+r[n-1]<<1;for(a=0;a<=t;a++){var s=e[2*a+1];0!==s&&(e[2*a]=W(i[s]++,s))}}function G(e){var t;for(t=0;t<p;t++)e.dyn_ltree[2*t]=0;for(t=0;t<g;t++)e.dyn_dtree[2*t]=0;for(t=0;t<v;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*w]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function H(e){e.bi_valid>8?V(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function Y(e,t,r,n){var a=2*t,i=2*r;return e[a]<e[i]||e[a]===e[i]&&n[t]<=n[r]}function X(e,t,r){for(var n=e.heap[r],a=r<<1;a<=e.heap_len&&(a<e.heap_len&&Y(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!Y(t,n,e.heap[a],e.depth));)e.heap[r]=e.heap[a],r=a,a<<=1;e.heap[r]=n}function $(e,t,r){var n,a,i,o,s=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],a=e.pending_buf[e.l_buf+s],s++,0===n?q(e,a,t):(q(e,(i=D[a])+h+1,t),0!==(o=I[i])&&z(e,a-=L[i],o),q(e,i=F(--n),r),0!==(o=A[i])&&z(e,n-=U[i],o))}while(s<e.last_lit);q(e,w,t)}function J(e,t){var r,n,a,i=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,u=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=_,r=0;r<u;r++)0!==i[2*r]?(e.heap[++e.heap_len]=l=r,e.depth[r]=0):i[2*r+1]=0;for(;e.heap_len<2;)i[2*(a=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[a]=0,e.opt_len--,s&&(e.static_len-=o[2*a+1]);for(t.max_code=l,r=e.heap_len>>1;r>=1;r--)X(e,i,r);a=u;do{r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],X(e,i,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,i[2*a]=i[2*r]+i[2*n],e.depth[a]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,i[2*r+1]=i[2*n+1]=a,e.heap[1]=a++,X(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,a,i,o,s,u=t.dyn_tree,l=t.max_code,f=t.stat_desc.static_tree,c=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,p=t.stat_desc.max_length,g=0;for(i=0;i<=m;i++)e.bl_count[i]=0;for(u[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<_;r++)(i=u[2*u[2*(n=e.heap[r])+1]+1]+1)>p&&(i=p,g++),u[2*n+1]=i,n>l||(e.bl_count[i]++,o=0,n>=h&&(o=d[n-h]),s=u[2*n],e.opt_len+=s*(i+o),c&&(e.static_len+=s*(f[2*n+1]+o)));if(0!==g){do{for(i=p-1;0===e.bl_count[i];)i--;e.bl_count[i]--,e.bl_count[i+1]+=2,e.bl_count[p]--,g-=2}while(g>0);for(i=p;0!==i;i--)for(n=e.bl_count[i];0!==n;)(a=e.heap[--r])>l||(u[2*a+1]!==i&&(e.opt_len+=(i-u[2*a+1])*u[2*a],u[2*a+1]=i),n--)}}(e,t),Z(i,l,e.bl_count)}function K(e,t,r){var n,a,i=-1,o=t[1],s=0,u=7,l=4;for(0===o&&(u=138,l=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)a=o,o=t[2*(n+1)+1],++s<u&&a===o||(s<l?e.bl_tree[2*a]+=s:0!==a?(a!==i&&e.bl_tree[2*a]++,e.bl_tree[2*E]++):s<=10?e.bl_tree[2*x]++:e.bl_tree[2*j]++,s=0,i=a,0===o?(u=138,l=3):a===o?(u=6,l=3):(u=7,l=4))}function Q(e,t,r){var n,a,i=-1,o=t[1],s=0,u=7,l=4;for(0===o&&(u=138,l=3),n=0;n<=r;n++)if(a=o,o=t[2*(n+1)+1],!(++s<u&&a===o)){if(s<l)do{q(e,a,e.bl_tree)}while(0!=--s);else 0!==a?(a!==i&&(q(e,a,e.bl_tree),s--),q(e,E,e.bl_tree),z(e,s-3,2)):s<=10?(q(e,x,e.bl_tree),z(e,s-3,3)):(q(e,j,e.bl_tree),z(e,s-11,7));s=0,i=a,0===o?(u=138,l=3):a===o?(u=6,l=3):(u=7,l=4)}}u(U);var ee=!1;function te(e,t,r,a){z(e,(l<<1)+(a?1:0),3),function(e,t,r,a){H(e),a&&(V(e,r),V(e,~r)),n.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r,!0)}t._tr_init=function(e){ee||(function(){var e,t,r,n,a,i=new Array(m+1);for(r=0,n=0;n<d-1;n++)for(L[n]=r,e=0;e<1<<I[n];e++)D[r++]=n;for(D[r-1]=n,a=0,n=0;n<16;n++)for(U[n]=a,e=0;e<1<<A[n];e++)O[a++]=n;for(a>>=7;n<g;n++)for(U[n]=a<<7,e=0;e<1<<A[n]-7;e++)O[256+a++]=n;for(t=0;t<=m;t++)i[t]=0;for(e=0;e<=143;)k[2*e+1]=8,e++,i[8]++;for(;e<=255;)k[2*e+1]=9,e++,i[9]++;for(;e<=279;)k[2*e+1]=7,e++,i[7]++;for(;e<=287;)k[2*e+1]=8,e++,i[8]++;for(Z(k,p+1,i),e=0;e<g;e++)P[2*e+1]=5,P[2*e]=W(e,5);C=new B(k,I,h+1,p,m),R=new B(P,A,0,g,m),M=new B(new Array(0),T,0,v,b)}(),ee=!0),e.l_desc=new N(e.dyn_ltree,C),e.d_desc=new N(e.dyn_dtree,R),e.bl_desc=new N(e.bl_tree,M),e.bi_buf=0,e.bi_valid=0,G(e)},t._tr_stored_block=te,t._tr_flush_block=function(e,t,r,n){var u,l,d=0;e.level>0?(e.strm.data_type===s&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return i;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return o;for(t=32;t<h;t++)if(0!==e.dyn_ltree[2*t])return o;return i}(e)),J(e,e.l_desc),J(e,e.d_desc),d=function(e){var t;for(K(e,e.dyn_ltree,e.l_desc.max_code),K(e,e.dyn_dtree,e.d_desc.max_code),J(e,e.bl_desc),t=v-1;t>=3&&0===e.bl_tree[2*S[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),u=e.opt_len+3+7>>>3,(l=e.static_len+3+7>>>3)<=u&&(u=l)):u=l=r+5,r+4<=u&&-1!==t?te(e,t,r,n):e.strategy===a||l===u?(z(e,(f<<1)+(n?1:0),3),$(e,k,P)):(z(e,(c<<1)+(n?1:0),3),function(e,t,r,n){var a;for(z(e,t-257,5),z(e,r-1,5),z(e,n-4,4),a=0;a<n;a++)z(e,e.bl_tree[2*S[a]+1],3);Q(e,e.dyn_ltree,t-1),Q(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,d+1),$(e,e.dyn_ltree,e.dyn_dtree)),G(e),n&&H(e)},t._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(D[r]+h+1)]++,e.dyn_dtree[2*F(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){z(e,f<<1,3),q(e,w,k),function(e){16===e.bi_valid?(V(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,r){"use strict";var n,a=r(8),i=r(50),o=r(29),s=r(28),u=r(49),l=0,f=1,c=3,d=4,h=5,p=0,g=1,v=-2,_=-3,m=-5,y=-1,b=1,w=2,E=3,x=4,j=0,I=2,A=8,T=9,S=15,k=8,P=286,O=30,D=19,L=2*P+1,C=15,R=3,M=258,U=M+R+1,B=32,N=42,F=69,V=73,z=91,q=103,W=113,Z=666,G=1,H=2,Y=3,X=4,$=3;function J(e,t){return e.msg=u[t],t}function K(e){return(e<<1)-(e>4?9:0)}function Q(e){for(var t=e.length;--t>=0;)e[t]=0}function ee(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(a.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function te(e,t){i._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ee(e.strm)}function re(e,t){e.pending_buf[e.pending++]=t}function ne(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function ae(e,t){var r,n,a=e.max_chain_length,i=e.strstart,o=e.prev_length,s=e.nice_match,u=e.strstart>e.w_size-U?e.strstart-(e.w_size-U):0,l=e.window,f=e.w_mask,c=e.prev,d=e.strstart+M,h=l[i+o-1],p=l[i+o];e.prev_length>=e.good_match&&(a>>=2),s>e.lookahead&&(s=e.lookahead);do{if(l[(r=t)+o]===p&&l[r+o-1]===h&&l[r]===l[i]&&l[++r]===l[i+1]){i+=2,r++;do{}while(l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&l[++i]===l[++r]&&i<d);if(n=M-(d-i),i=d-M,n>o){if(e.match_start=t,o=n,n>=s)break;h=l[i+o-1],p=l[i+o]}}}while((t=c[t&f])>u&&0!=--a);return o<=e.lookahead?o:e.lookahead}function ie(e){var t,r,n,i,u,l,f,c,d,h,p=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-U)){a.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=r=e.hash_size;do{n=e.head[--t],e.head[t]=n>=p?n-p:0}while(--r);t=r=p;do{n=e.prev[--t],e.prev[t]=n>=p?n-p:0}while(--r);i+=p}if(0===e.strm.avail_in)break;if(l=e.strm,f=e.window,c=e.strstart+e.lookahead,d=i,h=void 0,(h=l.avail_in)>d&&(h=d),r=0===h?0:(l.avail_in-=h,a.arraySet(f,l.input,l.next_in,h,c),1===l.state.wrap?l.adler=o(l.adler,f,h,c):2===l.state.wrap&&(l.adler=s(l.adler,f,h,c)),l.next_in+=h,l.total_in+=h,h),e.lookahead+=r,e.lookahead+e.insert>=R)for(u=e.strstart-e.insert,e.ins_h=e.window[u],e.ins_h=(e.ins_h<<e.hash_shift^e.window[u+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[u+R-1])&e.hash_mask,e.prev[u&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=u,u++,e.insert--,!(e.lookahead+e.insert<R)););}while(e.lookahead<U&&0!==e.strm.avail_in)}function oe(e,t){for(var r,n;;){if(e.lookahead<U){if(ie(e),e.lookahead<U&&t===l)return G;if(0===e.lookahead)break}if(r=0,e.lookahead>=R&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+R-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-U&&(e.match_length=ae(e,r)),e.match_length>=R)if(n=i._tr_tally(e,e.strstart-e.match_start,e.match_length-R),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=R){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+R-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(te(e,!1),0===e.strm.avail_out))return G}return e.insert=e.strstart<R-1?e.strstart:R-1,t===d?(te(e,!0),0===e.strm.avail_out?Y:X):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?G:H}function se(e,t){for(var r,n,a;;){if(e.lookahead<U){if(ie(e),e.lookahead<U&&t===l)return G;if(0===e.lookahead)break}if(r=0,e.lookahead>=R&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+R-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=R-1,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-U&&(e.match_length=ae(e,r),e.match_length<=5&&(e.strategy===b||e.match_length===R&&e.strstart-e.match_start>4096)&&(e.match_length=R-1)),e.prev_length>=R&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-R,n=i._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-R),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=a&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+R-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=R-1,e.strstart++,n&&(te(e,!1),0===e.strm.avail_out))return G}else if(e.match_available){if((n=i._tr_tally(e,0,e.window[e.strstart-1]))&&te(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return G}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=i._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<R-1?e.strstart:R-1,t===d?(te(e,!0),0===e.strm.avail_out?Y:X):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?G:H}function ue(e,t,r,n,a){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=a}function le(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=I,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?N:W,e.adler=2===t.wrap?0:1,t.last_flush=l,i._tr_init(t),p):J(e,v)}function fe(e){var t,r=le(e);return r===p&&((t=e.state).window_size=2*t.w_size,Q(t.head),t.max_lazy_match=n[t.level].max_lazy,t.good_match=n[t.level].good_length,t.nice_match=n[t.level].nice_length,t.max_chain_length=n[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=R-1,t.match_available=0,t.ins_h=0),r}function ce(e,t,r,n,i,o){if(!e)return v;var s=1;if(t===y&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),i<1||i>T||r!==A||n<8||n>15||t<0||t>9||o<0||o>x)return J(e,v);8===n&&(n=9);var u=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=A,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*L),this.dyn_dtree=new a.Buf16(2*(2*O+1)),this.bl_tree=new a.Buf16(2*(2*D+1)),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(C+1),this.heap=new a.Buf16(2*P+1),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*P+1),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return e.state=u,u.strm=e,u.wrap=s,u.gzhead=null,u.w_bits=n,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=i+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+R-1)/R),u.window=new a.Buf8(2*u.w_size),u.head=new a.Buf16(u.hash_size),u.prev=new a.Buf16(u.w_size),u.lit_bufsize=1<<i+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new a.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=t,u.strategy=o,u.method=r,fe(e)}n=[new ue(0,0,0,0,(function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(ie(e),0===e.lookahead&&t===l)return G;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,te(e,!1),0===e.strm.avail_out))return G;if(e.strstart-e.block_start>=e.w_size-U&&(te(e,!1),0===e.strm.avail_out))return G}return e.insert=0,t===d?(te(e,!0),0===e.strm.avail_out?Y:X):(e.strstart>e.block_start&&(te(e,!1),e.strm.avail_out),G)})),new ue(4,4,8,4,oe),new ue(4,5,16,8,oe),new ue(4,6,32,32,oe),new ue(4,4,16,16,se),new ue(8,16,32,32,se),new ue(8,16,128,128,se),new ue(8,32,128,256,se),new ue(32,128,258,1024,se),new ue(32,258,258,4096,se)],t.deflateInit=function(e,t){return ce(e,t,A,S,k,j)},t.deflateInit2=ce,t.deflateReset=fe,t.deflateResetKeep=le,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?v:(e.state.gzhead=t,p):v},t.deflate=function(e,t){var r,a,o,u;if(!e||!e.state||t>h||t<0)return e?J(e,v):v;if(a=e.state,!e.output||!e.input&&0!==e.avail_in||a.status===Z&&t!==d)return J(e,0===e.avail_out?m:v);if(a.strm=e,r=a.last_flush,a.last_flush=t,a.status===N)if(2===a.wrap)e.adler=0,re(a,31),re(a,139),re(a,8),a.gzhead?(re(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),re(a,255&a.gzhead.time),re(a,a.gzhead.time>>8&255),re(a,a.gzhead.time>>16&255),re(a,a.gzhead.time>>24&255),re(a,9===a.level?2:a.strategy>=w||a.level<2?4:0),re(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(re(a,255&a.gzhead.extra.length),re(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(e.adler=s(e.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=F):(re(a,0),re(a,0),re(a,0),re(a,0),re(a,0),re(a,9===a.level?2:a.strategy>=w||a.level<2?4:0),re(a,$),a.status=W);else{var _=A+(a.w_bits-8<<4)<<8;_|=(a.strategy>=w||a.level<2?0:a.level<6?1:6===a.level?2:3)<<6,0!==a.strstart&&(_|=B),_+=31-_%31,a.status=W,ne(a,_),0!==a.strstart&&(ne(a,e.adler>>>16),ne(a,65535&e.adler)),e.adler=1}if(a.status===F)if(a.gzhead.extra){for(o=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>o&&(e.adler=s(e.adler,a.pending_buf,a.pending-o,o)),ee(e),o=a.pending,a.pending!==a.pending_buf_size));)re(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>o&&(e.adler=s(e.adler,a.pending_buf,a.pending-o,o)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=V)}else a.status=V;if(a.status===V)if(a.gzhead.name){o=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>o&&(e.adler=s(e.adler,a.pending_buf,a.pending-o,o)),ee(e),o=a.pending,a.pending===a.pending_buf_size)){u=1;break}u=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,re(a,u)}while(0!==u);a.gzhead.hcrc&&a.pending>o&&(e.adler=s(e.adler,a.pending_buf,a.pending-o,o)),0===u&&(a.gzindex=0,a.status=z)}else a.status=z;if(a.status===z)if(a.gzhead.comment){o=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>o&&(e.adler=s(e.adler,a.pending_buf,a.pending-o,o)),ee(e),o=a.pending,a.pending===a.pending_buf_size)){u=1;break}u=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,re(a,u)}while(0!==u);a.gzhead.hcrc&&a.pending>o&&(e.adler=s(e.adler,a.pending_buf,a.pending-o,o)),0===u&&(a.status=q)}else a.status=q;if(a.status===q&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&ee(e),a.pending+2<=a.pending_buf_size&&(re(a,255&e.adler),re(a,e.adler>>8&255),e.adler=0,a.status=W)):a.status=W),0!==a.pending){if(ee(e),0===e.avail_out)return a.last_flush=-1,p}else if(0===e.avail_in&&K(t)<=K(r)&&t!==d)return J(e,m);if(a.status===Z&&0!==e.avail_in)return J(e,m);if(0!==e.avail_in||0!==a.lookahead||t!==l&&a.status!==Z){var y=a.strategy===w?function(e,t){for(var r;;){if(0===e.lookahead&&(ie(e),0===e.lookahead)){if(t===l)return G;break}if(e.match_length=0,r=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(te(e,!1),0===e.strm.avail_out))return G}return e.insert=0,t===d?(te(e,!0),0===e.strm.avail_out?Y:X):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?G:H}(a,t):a.strategy===E?function(e,t){for(var r,n,a,o,s=e.window;;){if(e.lookahead<=M){if(ie(e),e.lookahead<=M&&t===l)return G;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=R&&e.strstart>0&&(n=s[a=e.strstart-1])===s[++a]&&n===s[++a]&&n===s[++a]){o=e.strstart+M;do{}while(n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&a<o);e.match_length=M-(o-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=R?(r=i._tr_tally(e,1,e.match_length-R),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=i._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(te(e,!1),0===e.strm.avail_out))return G}return e.insert=0,t===d?(te(e,!0),0===e.strm.avail_out?Y:X):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?G:H}(a,t):n[a.level].func(a,t);if(y!==Y&&y!==X||(a.status=Z),y===G||y===Y)return 0===e.avail_out&&(a.last_flush=-1),p;if(y===H&&(t===f?i._tr_align(a):t!==h&&(i._tr_stored_block(a,0,0,!1),t===c&&(Q(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),ee(e),0===e.avail_out))return a.last_flush=-1,p}return t!==d?p:a.wrap<=0?g:(2===a.wrap?(re(a,255&e.adler),re(a,e.adler>>8&255),re(a,e.adler>>16&255),re(a,e.adler>>24&255),re(a,255&e.total_in),re(a,e.total_in>>8&255),re(a,e.total_in>>16&255),re(a,e.total_in>>24&255)):(ne(a,e.adler>>>16),ne(a,65535&e.adler)),ee(e),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?p:g)},t.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==N&&t!==F&&t!==V&&t!==z&&t!==q&&t!==W&&t!==Z?J(e,v):(e.state=null,t===W?J(e,_):p):v},t.deflateSetDictionary=function(e,t){var r,n,i,s,u,l,f,c,d=t.length;if(!e||!e.state)return v;if(2===(s=(r=e.state).wrap)||1===s&&r.status!==N||r.lookahead)return v;for(1===s&&(e.adler=o(e.adler,t,d,0)),r.wrap=0,d>=r.w_size&&(0===s&&(Q(r.head),r.strstart=0,r.block_start=0,r.insert=0),c=new a.Buf8(r.w_size),a.arraySet(c,t,d-r.w_size,r.w_size,0),t=c,d=r.w_size),u=e.avail_in,l=e.next_in,f=e.input,e.avail_in=d,e.next_in=0,e.input=t,ie(r);r.lookahead>=R;){n=r.strstart,i=r.lookahead-(R-1);do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+R-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++}while(--i);r.strstart=n,r.lookahead=R-1,ie(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=R-1,r.match_available=0,e.next_in=l,e.input=f,e.avail_in=u,r.wrap=s,p},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,r){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t,r){"use strict";(function(e,n){var a=r(31),i=r(52),o=r(51),s=r(48),u=r(45);for(var l in u)t[l]=u[l];function f(e){if("number"!=typeof e||e<t.DEFLATE||e>t.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=e,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}t.NONE=0,t.DEFLATE=1,t.INFLATE=2,t.GZIP=3,t.GUNZIP=4,t.DEFLATERAW=5,t.INFLATERAW=6,t.UNZIP=7,f.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,a(this.init_done,"close before init"),a(this.mode<=t.UNZIP),this.mode===t.DEFLATE||this.mode===t.GZIP||this.mode===t.DEFLATERAW?o.deflateEnd(this.strm):this.mode!==t.INFLATE&&this.mode!==t.GUNZIP&&this.mode!==t.INFLATERAW&&this.mode!==t.UNZIP||s.inflateEnd(this.strm),this.mode=t.NONE,this.dictionary=null)},f.prototype.write=function(e,t,r,n,a,i,o){return this._write(!0,e,t,r,n,a,i,o)},f.prototype.writeSync=function(e,t,r,n,a,i,o){return this._write(!1,e,t,r,n,a,i,o)},f.prototype._write=function(r,i,o,s,u,l,f,c){if(a.equal(arguments.length,8),a(this.init_done,"write before init"),a(this.mode!==t.NONE,"already finalized"),a.equal(!1,this.write_in_progress,"write already in progress"),a.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,a.equal(!1,void 0===i,"must provide flush value"),this.write_in_progress=!0,i!==t.Z_NO_FLUSH&&i!==t.Z_PARTIAL_FLUSH&&i!==t.Z_SYNC_FLUSH&&i!==t.Z_FULL_FLUSH&&i!==t.Z_FINISH&&i!==t.Z_BLOCK)throw new Error("Invalid flush value");if(null==o&&(o=e.alloc(0),u=0,s=0),this.strm.avail_in=u,this.strm.input=o,this.strm.next_in=s,this.strm.avail_out=c,this.strm.output=l,this.strm.next_out=f,this.flush=i,!r)return this._process(),this._checkError()?this._afterSync():void 0;var d=this;return n.nextTick((function(){d._process(),d._after()})),this},f.prototype._afterSync=function(){var e=this.strm.avail_out,t=this.strm.avail_in;return this.write_in_progress=!1,[t,e]},f.prototype._process=function(){var e=null;switch(this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=o.deflate(this.strm,this.flush);break;case t.UNZIP:switch(this.strm.avail_in>0&&(e=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===e)break;if(31!==this.strm.input[e]){this.mode=t.INFLATE;break}if(this.gzip_id_bytes_read=1,e++,1===this.strm.avail_in)break;case 1:if(null===e)break;139===this.strm.input[e]?(this.gzip_id_bytes_read=2,this.mode=t.GUNZIP):this.mode=t.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:for(this.err=s.inflate(this.strm,this.flush),this.err===t.Z_NEED_DICT&&this.dictionary&&(this.err=s.inflateSetDictionary(this.strm,this.dictionary),this.err===t.Z_OK?this.err=s.inflate(this.strm,this.flush):this.err===t.Z_DATA_ERROR&&(this.err=t.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===t.GUNZIP&&this.err===t.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=s.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},f.prototype._checkError=function(){switch(this.err){case t.Z_OK:case t.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===t.Z_FINISH)return this._error("unexpected end of file"),!1;break;case t.Z_STREAM_END:break;case t.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},f.prototype._after=function(){if(this._checkError()){var e=this.strm.avail_out,t=this.strm.avail_in;this.write_in_progress=!1,this.callback(t,e),this.pending_close&&this.close()}},f.prototype._error=function(e){this.strm.msg&&(e=this.strm.msg),this.onerror(e,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},f.prototype.init=function(e,r,n,i,o){a(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),a(e>=8&&e<=15,"invalid windowBits"),a(r>=-1&&r<=9,"invalid compression level"),a(n>=1&&n<=9,"invalid memlevel"),a(i===t.Z_FILTERED||i===t.Z_HUFFMAN_ONLY||i===t.Z_RLE||i===t.Z_FIXED||i===t.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(r,e,n,i,o),this._setDictionary()},f.prototype.params=function(){throw new Error("deflateParams Not supported")},f.prototype.reset=function(){this._reset(),this._setDictionary()},f.prototype._init=function(e,r,n,a,u){switch(this.level=e,this.windowBits=r,this.memLevel=n,this.strategy=a,this.flush=t.Z_NO_FLUSH,this.err=t.Z_OK,this.mode!==t.GZIP&&this.mode!==t.GUNZIP||(this.windowBits+=16),this.mode===t.UNZIP&&(this.windowBits+=32),this.mode!==t.DEFLATERAW&&this.mode!==t.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new i,this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=o.deflateInit2(this.strm,this.level,t.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:case t.UNZIP:this.err=s.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==t.Z_OK&&this._error("Init error"),this.dictionary=u,this.write_in_progress=!1,this.init_done=!0},f.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:this.err=o.deflateSetDictionary(this.strm,this.dictionary)}this.err!==t.Z_OK&&this._error("Failed to set dictionary")}},f.prototype._reset=function(){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:case t.GZIP:this.err=o.deflateReset(this.strm);break;case t.INFLATE:case t.INFLATERAW:case t.GUNZIP:this.err=s.inflateReset(this.strm)}this.err!==t.Z_OK&&this._error("Failed to reset stream")},t.Zlib=f}).call(this,r(1).Buffer,r(3))},function(e,t,r){e.exports=r(20).PassThrough},function(e,t,r){e.exports=r(20).Transform},function(e,t,r){e.exports=r(2)},function(e,t,r){e.exports=r(19)},function(e,t,r){"use strict";e.exports=i;var n=r(32),a=r(6);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}a.inherits=r(5),a.inherits(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){(function(t){function r(e){try{if(!t.localStorage)return!1}catch(e){return!1}var r=t.localStorage[e];return null!=r&&"true"===String(r).toLowerCase()}e.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(this,r(0))},function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,a,i,o,s,u=1,l={},f=!1,c=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick((function(){p(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?(o="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&p(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),n=function(t){e.postMessage(o+t,"*")}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){p(e.data)},n=function(e){i.port2.postMessage(e)}):c&&"onreadystatechange"in c.createElement("script")?(a=c.documentElement,n=function(e){var t=c.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,a.removeChild(t),t=null},a.appendChild(t)}):n=function(e){setTimeout(p,0,e)},d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var a={callback:e,args:t};return l[u]=a,n(u),u++},d.clearImmediate=h}function h(e){delete l[e]}function p(e){if(f)setTimeout(p,0,e);else{var t=l[e];if(t){f=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}(t)}finally{h(e),f=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r(0),r(3))},function(e,t,r){(function(e){var n=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new a(n.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new a(n.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},r(62),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(0))},function(e,t){},function(e,t,r){"use strict";var n=r(9).Buffer,a=r(64);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,a=n.allocUnsafe(e>>>0),i=this.head,o=0;i;)t=a,r=o,i.data.copy(t,r),o+=i.data.length,i=i.next;return a},e}(),a&&a.inspect&&a.inspect.custom&&(e.exports.prototype[a.inspect.custom]=function(){var e=a.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,r){e.exports=a;var n=r(21).EventEmitter;function a(){n.call(this)}r(5)(a,n),a.Readable=r(20),a.Writable=r(59),a.Duplex=r(58),a.Transform=r(57),a.PassThrough=r(56),a.Stream=a,a.prototype.pipe=function(e,t){var r=this;function a(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",a),e.on("drain",i),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",u));var o=!1;function s(){o||(o=!0,e.end())}function u(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function l(e){if(f(),0===n.listenerCount(this,"error"))throw e}function f(){r.removeListener("data",a),e.removeListener("drain",i),r.removeListener("end",s),r.removeListener("close",u),r.removeListener("error",l),e.removeListener("error",l),r.removeListener("end",f),r.removeListener("close",f),e.removeListener("close",f)}return r.on("error",l),e.on("error",l),r.on("end",f),r.on("close",f),e.on("close",f),e.emit("pipe",r),e}},function(e,t,r){"use strict";(function(e){var n=r(1).Buffer,a=r(67).Transform,i=r(55),o=r(30),s=r(31).ok,u=r(1).kMaxLength,l="Cannot create final Buffer. It would be larger than 0x"+u.toString(16)+" bytes";i.Z_MIN_WINDOWBITS=8,i.Z_MAX_WINDOWBITS=15,i.Z_DEFAULT_WINDOWBITS=15,i.Z_MIN_CHUNK=64,i.Z_MAX_CHUNK=1/0,i.Z_DEFAULT_CHUNK=16384,i.Z_MIN_MEMLEVEL=1,i.Z_MAX_MEMLEVEL=9,i.Z_DEFAULT_MEMLEVEL=8,i.Z_MIN_LEVEL=-1,i.Z_MAX_LEVEL=9,i.Z_DEFAULT_LEVEL=i.Z_DEFAULT_COMPRESSION;for(var f=Object.keys(i),c=0;c<f.length;c++){var d=f[c];d.match(/^Z/)&&Object.defineProperty(t,d,{enumerable:!0,value:i[d],writable:!1})}for(var h={Z_OK:i.Z_OK,Z_STREAM_END:i.Z_STREAM_END,Z_NEED_DICT:i.Z_NEED_DICT,Z_ERRNO:i.Z_ERRNO,Z_STREAM_ERROR:i.Z_STREAM_ERROR,Z_DATA_ERROR:i.Z_DATA_ERROR,Z_MEM_ERROR:i.Z_MEM_ERROR,Z_BUF_ERROR:i.Z_BUF_ERROR,Z_VERSION_ERROR:i.Z_VERSION_ERROR},p=Object.keys(h),g=0;g<p.length;g++){var v=p[g];h[h[v]]=v}function _(e,t,r){var a=[],i=0;function o(){for(var t;null!==(t=e.read());)a.push(t),i+=t.length;e.once("readable",o)}function s(){var t,o=null;i>=u?o=new RangeError(l):t=n.concat(a,i),a=[],e.close(),r(o,t)}e.on("error",(function(t){e.removeListener("end",s),e.removeListener("readable",o),r(t)})),e.on("end",s),e.end(t),o()}function m(e,t){if("string"==typeof t&&(t=n.from(t)),!n.isBuffer(t))throw new TypeError("Not a string or buffer");var r=e._finishFlushFlag;return e._processChunk(t,r)}function y(e){if(!(this instanceof y))return new y(e);T.call(this,e,i.DEFLATE)}function b(e){if(!(this instanceof b))return new b(e);T.call(this,e,i.INFLATE)}function w(e){if(!(this instanceof w))return new w(e);T.call(this,e,i.GZIP)}function E(e){if(!(this instanceof E))return new E(e);T.call(this,e,i.GUNZIP)}function x(e){if(!(this instanceof x))return new x(e);T.call(this,e,i.DEFLATERAW)}function j(e){if(!(this instanceof j))return new j(e);T.call(this,e,i.INFLATERAW)}function I(e){if(!(this instanceof I))return new I(e);T.call(this,e,i.UNZIP)}function A(e){return e===i.Z_NO_FLUSH||e===i.Z_PARTIAL_FLUSH||e===i.Z_SYNC_FLUSH||e===i.Z_FULL_FLUSH||e===i.Z_FINISH||e===i.Z_BLOCK}function T(e,r){var o=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||t.Z_DEFAULT_CHUNK,a.call(this,e),e.flush&&!A(e.flush))throw new Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!A(e.finishFlush))throw new Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||i.Z_NO_FLUSH,this._finishFlushFlag=void 0!==e.finishFlush?e.finishFlush:i.Z_FINISH,e.chunkSize&&(e.chunkSize<t.Z_MIN_CHUNK||e.chunkSize>t.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<t.Z_MIN_WINDOWBITS||e.windowBits>t.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<t.Z_MIN_LEVEL||e.level>t.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<t.Z_MIN_MEMLEVEL||e.memLevel>t.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=t.Z_FILTERED&&e.strategy!=t.Z_HUFFMAN_ONLY&&e.strategy!=t.Z_RLE&&e.strategy!=t.Z_FIXED&&e.strategy!=t.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!n.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new i.Zlib(r);var s=this;this._hadError=!1,this._handle.onerror=function(e,r){S(s),s._hadError=!0;var n=new Error(e);n.errno=r,n.code=t.codes[r],s.emit("error",n)};var u=t.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(u=e.level);var l=t.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(l=e.strategy),this._handle.init(e.windowBits||t.Z_DEFAULT_WINDOWBITS,u,e.memLevel||t.Z_DEFAULT_MEMLEVEL,l,e.dictionary),this._buffer=n.allocUnsafe(this._chunkSize),this._offset=0,this._level=u,this._strategy=l,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!o._handle},configurable:!0,enumerable:!0})}function S(t,r){r&&e.nextTick(r),t._handle&&(t._handle.close(),t._handle=null)}function k(e){e.emit("close")}Object.defineProperty(t,"codes",{enumerable:!0,value:Object.freeze(h),writable:!1}),t.Deflate=y,t.Inflate=b,t.Gzip=w,t.Gunzip=E,t.DeflateRaw=x,t.InflateRaw=j,t.Unzip=I,t.createDeflate=function(e){return new y(e)},t.createInflate=function(e){return new b(e)},t.createDeflateRaw=function(e){return new x(e)},t.createInflateRaw=function(e){return new j(e)},t.createGzip=function(e){return new w(e)},t.createGunzip=function(e){return new E(e)},t.createUnzip=function(e){return new I(e)},t.deflate=function(e,t,r){return"function"==typeof t&&(r=t,t={}),_(new y(t),e,r)},t.deflateSync=function(e,t){return m(new y(t),e)},t.gzip=function(e,t,r){return"function"==typeof t&&(r=t,t={}),_(new w(t),e,r)},t.gzipSync=function(e,t){return m(new w(t),e)},t.deflateRaw=function(e,t,r){return"function"==typeof t&&(r=t,t={}),_(new x(t),e,r)},t.deflateRawSync=function(e,t){return m(new x(t),e)},t.unzip=function(e,t,r){return"function"==typeof t&&(r=t,t={}),_(new I(t),e,r)},t.unzipSync=function(e,t){return m(new I(t),e)},t.inflate=function(e,t,r){return"function"==typeof t&&(r=t,t={}),_(new b(t),e,r)},t.inflateSync=function(e,t){return m(new b(t),e)},t.gunzip=function(e,t,r){return"function"==typeof t&&(r=t,t={}),_(new E(t),e,r)},t.gunzipSync=function(e,t){return m(new E(t),e)},t.inflateRaw=function(e,t,r){return"function"==typeof t&&(r=t,t={}),_(new j(t),e,r)},t.inflateRawSync=function(e,t){return m(new j(t),e)},o.inherits(T,a),T.prototype.params=function(r,n,a){if(r<t.Z_MIN_LEVEL||r>t.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+r);if(n!=t.Z_FILTERED&&n!=t.Z_HUFFMAN_ONLY&&n!=t.Z_RLE&&n!=t.Z_FIXED&&n!=t.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+n);if(this._level!==r||this._strategy!==n){var o=this;this.flush(i.Z_SYNC_FLUSH,(function(){s(o._handle,"zlib binding closed"),o._handle.params(r,n),o._hadError||(o._level=r,o._strategy=n,a&&a())}))}else e.nextTick(a)},T.prototype.reset=function(){return s(this._handle,"zlib binding closed"),this._handle.reset()},T.prototype._flush=function(e){this._transform(n.alloc(0),"",e)},T.prototype.flush=function(t,r){var a=this,o=this._writableState;("function"==typeof t||void 0===t&&!r)&&(r=t,t=i.Z_FULL_FLUSH),o.ended?r&&e.nextTick(r):o.ending?r&&this.once("end",r):o.needDrain?r&&this.once("drain",(function(){return a.flush(t,r)})):(this._flushFlag=t,this.write(n.alloc(0),"",r))},T.prototype.close=function(t){S(this,t),e.nextTick(k,this)},T.prototype._transform=function(e,t,r){var a,o=this._writableState,s=(o.ending||o.ended)&&(!e||o.length===e.length);return null===e||n.isBuffer(e)?this._handle?(s?a=this._finishFlushFlag:(a=this._flushFlag,e.length>=o.length&&(this._flushFlag=this._opts.flush||i.Z_NO_FLUSH)),void this._processChunk(e,a,r)):r(new Error("zlib binding closed")):r(new Error("invalid input"))},T.prototype._processChunk=function(e,t,r){var a=e&&e.length,i=this._chunkSize-this._offset,o=0,f=this,c="function"==typeof r;if(!c){var d,h=[],p=0;this.on("error",(function(e){d=e})),s(this._handle,"zlib binding closed");do{var g=this._handle.writeSync(t,e,o,a,this._buffer,this._offset,i)}while(!this._hadError&&m(g[0],g[1]));if(this._hadError)throw d;if(p>=u)throw S(this),new RangeError(l);var v=n.concat(h,p);return S(this),v}s(this._handle,"zlib binding closed");var _=this._handle.write(t,e,o,a,this._buffer,this._offset,i);function m(u,l){if(this&&(this.buffer=null,this.callback=null),!f._hadError){var d=i-l;if(s(d>=0,"have should not go down"),d>0){var g=f._buffer.slice(f._offset,f._offset+d);f._offset+=d,c?f.push(g):(h.push(g),p+=g.length)}if((0===l||f._offset>=f._chunkSize)&&(i=f._chunkSize,f._offset=0,f._buffer=n.allocUnsafe(f._chunkSize)),0===l){if(o+=a-u,a=u,!c)return!0;var v=f._handle.write(t,e,o,a,f._buffer,f._offset,f._chunkSize);return v.callback=m,void(v.buffer=e)}if(!c)return!1;r()}}_.buffer=e,_.callback=m},o.inherits(y,T),o.inherits(b,T),o.inherits(w,T),o.inherits(E,T),o.inherits(x,T),o.inherits(j,T),o.inherits(I,T)}).call(this,r(3))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t,d){if(void 0===t)throw"dicomParser.parseDicom: missing required parameter 'byteArray'";function h(u){var h=function(e){if(void 0===e.elements.x00020010)throw"dicomParser.parseDicom: missing required meta header attribute 0002,0010";var r=e.elements.x00020010;return f.readFixedString(t,r.dataOffset,r.length)}(u),p=function(e){return"1.2.840.10008.1.2"!==e}(h),g=function(o,u){if("1.2.840.10008.1.2.1.99"===o){if(d&&d.inflater){var f=d.inflater(t,u);return new i.default(s.default,f,0)}if(void 0!==e&&this.module!==e){var c=r(68),h=(0,l.default)(t,u,t.length-u),p=c.inflateRawSync(h),g=(0,n.default)(t,p.length+u);return t.copy(g,0,0,u),p.copy(g,u),new i.default(s.default,g,0)}if("undefined"!=typeof pako){var v=t.slice(u),_=pako.inflateRaw(v),m=(0,n.default)(t,_.length+u);return m.set(t.slice(0,u),0),m.set(_,u),new i.default(s.default,m,0)}throw"dicomParser.parseDicom: no inflater available to handle deflate transfer syntax"}return"1.2.840.10008.1.2.2"===o?new i.default(a.default,t,u):new i.default(s.default,t,u)}(h,u.position),v=new o.default(g.byteArrayParser,g.byteArray,{});v.warnings=g.warnings;try{p?c.parseDicomDataSetExplicit(v,g,g.byteArray.length,d):c.parseDicomDataSetImplicit(v,g,g.byteArray.length,d)}catch(e){throw{exception:e,dataSet:v}}return v}return function(e,t){for(var r in e.elements)e.elements.hasOwnProperty(r)&&(t.elements[r]=e.elements[r]);return void 0!==e.warnings&&(t.warnings=e.warnings.concat(t.warnings)),t}(p=(0,u.default)(t,d),h(p));var p};var n=h(r(23)),a=h(r(38)),i=h(r(12)),o=h(r(7)),s=h(r(22)),u=h(r(37)),l=h(r(11)),f=d(r(14)),c=d(r(16));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function h(e){return e&&e.__esModule?e:{default:e}}}).call(this,r(69)(e))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="1.8.5"},function(e,t){t.read=function(e,t,r,n,a){var i,o,s=8*a-n-1,u=(1<<s)-1,l=u>>1,f=-7,c=r?a-1:0,d=r?-1:1,h=e[t+c];for(c+=d,i=h&(1<<-f)-1,h>>=-f,f+=s;f>0;i=256*i+e[t+c],c+=d,f-=8);for(o=i&(1<<-f)-1,i>>=-f,f+=n;f>0;o=256*o+e[t+c],c+=d,f-=8);if(0===i)i=1-l;else{if(i===u)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,n),i-=l}return(h?-1:1)*o*Math.pow(2,i-n)},t.write=function(e,t,r,n,a,i){var o,s,u,l=8*i-a-1,f=(1<<l)-1,c=f>>1,d=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:i-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=f):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+c>=1?d/u:d*Math.pow(2,1-c))*u>=2&&(o++,u/=2),o+c>=f?(s=0,o=f):o+c>=1?(s=(t*u-1)*Math.pow(2,a),o+=c):(s=t*Math.pow(2,c-1)*Math.pow(2,a),o=0));a>=8;e[r+h]=255&s,h+=p,s/=256,a-=8);for(o=o<<a|s,l+=a;l>0;e[r+h]=255&o,h+=p,o/=256,l-=8);e[r+h-p]|=128*g}},function(e,t,r){"use strict";t.byteLength=function(e){return 3*e.length/4-l(e)},t.toByteArray=function(e){var t,r,n,o,s,u=e.length;o=l(e),s=new i(3*u/4-o),r=o>0?u-4:u;var f=0;for(t=0;t<r;t+=4)n=a[e.charCodeAt(t)]<<18|a[e.charCodeAt(t+1)]<<12|a[e.charCodeAt(t+2)]<<6|a[e.charCodeAt(t+3)],s[f++]=n>>16&255,s[f++]=n>>8&255,s[f++]=255&n;return 2===o?(n=a[e.charCodeAt(t)]<<2|a[e.charCodeAt(t+1)]>>4,s[f++]=255&n):1===o&&(n=a[e.charCodeAt(t)]<<10|a[e.charCodeAt(t+1)]<<4|a[e.charCodeAt(t+2)]>>2,s[f++]=n>>8&255,s[f++]=255&n),s},t.fromByteArray=function(e){for(var t,r=e.length,a=r%3,i="",o=[],s=0,u=r-a;s<u;s+=16383)o.push(f(e,s,s+16383>u?u:s+16383));return 1===a?(t=e[r-1],i+=n[t>>2],i+=n[t<<4&63],i+="=="):2===a&&(t=(e[r-2]<<8)+e[r-1],i+=n[t>>10],i+=n[t>>4&63],i+=n[t<<2&63],i+="="),o.push(i),o.join("")};for(var n=[],a=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=o.length;s<u;++s)n[s]=o[s],a[o.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function f(e,t,r){for(var a,i,o=[],s=t;s<r;s+=3)a=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(n[(i=a)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return o.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},function(e,t,r){"use strict";function n(e,t){return 255===e.byteArray[t]&&217===e.byteArray[t+1]}function a(e,t,r){var a=t.fragments[r];return!(!n(e,a.position+a.length-2)&&!n(e,a.position+a.length-3))}function i(e,t,r){for(var n=r;n<t.fragments.length;n++)if(a(e,t,n))return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){if(void 0===e)throw"dicomParser.createJPEGBasicOffsetTable: missing required parameter dataSet";if(void 0===t)throw"dicomParser.createJPEGBasicOffsetTable: missing required parameter pixelDataElement";if("x7fe00010"!==t.tag)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010'";if(!0!==t.encapsulatedPixelData)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(!0!==t.hadUndefinedLength)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(void 0===t.basicOffsetTable)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(void 0===t.fragments)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(t.fragments.length<=0)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(r&&r.length<=0)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'fragments' must not be zero length";r=r||t.fragments;for(var n=[],a=0;;){n.push(t.fragments[a].offset);var o=i(e,t,a);if(void 0===o||o===t.fragments.length-1)return n;a=o+1}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,r){if(void 0===t)throw"dicomParser.explicitDataSetToJS: missing required parameter dataSet";r=r||{omitPrivateAttibutes:!0,maxElementLength:128};var n={};for(var o in t.elements){var s=t.elements[o];if(!0!==r.omitPrivateAttibutes||!i.isPrivateTag(o))if(s.items){for(var u=[],l=0;l<s.items.length;l++)u.push(e(s.items[l].dataSet,r));n[o]=u}else{var f;f=void 0,s.length<r.maxElementLength&&(f=(0,a.default)(t,s)),n[o]=void 0!==f?f:{dataOffset:s.dataOffset,length:s.length}}}return n};var n,a=(n=r(43))&&n.__esModule?n:{default:n},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(17))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e&&8===e.length){var r=parseInt(e.substring(0,4),10),n=parseInt(e.substring(4,6),10),a=parseInt(e.substring(6,8),10);if(t&&!0!==function(e,t,r){return!isNaN(r)&&t>0&&t<=12&&e>0&&e<=function(e,t){switch(e){case 2:return t%4==0&&t%100||t%400==0?29:28;case 9:case 4:case 6:case 11:return 30;default:return 31}}(t,r)}(a,n,r))throw"invalid DA '"+e+"'";return{year:r,month:n,day:a}}if(t)throw"invalid DA '"+e+"'"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e.length>=2){var r=parseInt(e.substring(0,2),10),n=e.length>=4?parseInt(e.substring(2,4),10):void 0,a=e.length>=6?parseInt(e.substring(4,6),10):void 0,i=e.length>=8?e.substring(7,13):void 0,o=i?parseInt(i,10)*Math.pow(10,6-i.length):void 0;if(t&&(isNaN(r)||void 0!==n&&isNaN(n)||void 0!==a&&isNaN(a)||void 0!==o&&isNaN(o)||r<0||r>23||n&&(n<0||n>59)||a&&(a<0||a>59)||o&&(o<0||o>999999)))throw"invalid TM '"+e+"'";return{hours:r,minutes:n,seconds:a,fractionalSeconds:o}}if(t)throw"invalid TM '"+e+"'"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createJPEGBasicOffsetTable=t.explicitDataSetToJS=t.explicitElementToString=t.parseDA=t.parseTM=t.parsePN=t.isPrivateTag=t.isStringVr=void 0;var n=r(17),a=l(r(77)),i=l(r(76)),o=l(r(43)),s=l(r(75)),u=l(r(74));function l(e){return e&&e.__esModule?e:{default:e}}t.isStringVr=n.isStringVr,t.isPrivateTag=n.isPrivateTag,t.parsePN=n.parsePN,t.parseTM=a.default,t.parseDA=i.default,t.explicitElementToString=o.default,t.explicitDataSetToJS=s.default,t.createJPEGBasicOffsetTable=u.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readTag=t.readSequenceItem=t.readSequenceItemsImplicit=t.readSequenceItemsExplicit=t.readPart10Header=t.readEncapsulatedPixelDataFromFragments=t.readEncapsulatedPixelData=t.readEncapsulatedImageFrame=t.readDicomElementImplicit=t.readDicomElementExplicit=t.parseDicom=t.littleEndianByteArrayParser=t.findItemDelimitationItemAndSetElementLength=t.findEndOfEncapsulatedElement=t.findAndSetUNElementLength=t.DataSet=t.sharedCopy=t.ByteStream=t.bigEndianByteArrayParser=t.version=t.alloc=t.readFixedString=t.parseDicomDataSetImplicit=t.parseDicomDataSetExplicit=t.createJPEGBasicOffsetTable=t.explicitDataSetToJS=t.explicitElementToString=t.parseDA=t.parseTM=t.parsePN=t.isPrivateTag=t.isStringVr=void 0;var n=r(78),a=r(16),i=r(14),o=T(r(23)),s=T(r(71)),u=T(r(38)),l=T(r(12)),f=T(r(11)),c=T(r(7)),d=T(r(41)),h=T(r(42)),p=T(r(24)),g=T(r(22)),v=T(r(70)),_=T(r(15)),m=T(r(25)),y=T(r(27)),b=T(r(44)),w=T(r(18)),E=T(r(37)),x=T(r(40)),j=T(r(26)),I=T(r(13)),A=T(r(4));function T(e){return e&&e.__esModule?e:{default:e}}var S={isStringVr:n.isStringVr,isPrivateTag:n.isPrivateTag,parsePN:n.parsePN,parseTM:n.parseTM,parseDA:n.parseDA,explicitElementToString:n.explicitElementToString,explicitDataSetToJS:n.explicitDataSetToJS,createJPEGBasicOffsetTable:n.createJPEGBasicOffsetTable,parseDicomDataSetExplicit:a.parseDicomDataSetExplicit,parseDicomDataSetImplicit:a.parseDicomDataSetImplicit,readFixedString:i.readFixedString,alloc:o.default,version:s.default,bigEndianByteArrayParser:u.default,ByteStream:l.default,sharedCopy:f.default,DataSet:c.default,findAndSetUNElementLength:d.default,findEndOfEncapsulatedElement:h.default,findItemDelimitationItemAndSetElementLength:p.default,littleEndianByteArrayParser:g.default,parseDicom:v.default,readDicomElementExplicit:_.default,readDicomElementImplicit:m.default,readEncapsulatedImageFrame:y.default,readEncapsulatedPixelData:b.default,readEncapsulatedPixelDataFromFragments:w.default,readPart10Header:E.default,readSequenceItemsExplicit:x.default,readSequenceItemsImplicit:j.default,readSequenceItem:I.default,readTag:A.default};t.isStringVr=n.isStringVr,t.isPrivateTag=n.isPrivateTag,t.parsePN=n.parsePN,t.parseTM=n.parseTM,t.parseDA=n.parseDA,t.explicitElementToString=n.explicitElementToString,t.explicitDataSetToJS=n.explicitDataSetToJS,t.createJPEGBasicOffsetTable=n.createJPEGBasicOffsetTable,t.parseDicomDataSetExplicit=a.parseDicomDataSetExplicit,t.parseDicomDataSetImplicit=a.parseDicomDataSetImplicit,t.readFixedString=i.readFixedString,t.alloc=o.default,t.version=s.default,t.bigEndianByteArrayParser=u.default,t.ByteStream=l.default,t.sharedCopy=f.default,t.DataSet=c.default,t.findAndSetUNElementLength=d.default,t.findEndOfEncapsulatedElement=h.default,t.findItemDelimitationItemAndSetElementLength=p.default,t.littleEndianByteArrayParser=g.default,t.parseDicom=v.default,t.readDicomElementExplicit=_.default,t.readDicomElementImplicit=m.default,t.readEncapsulatedImageFrame=y.default,t.readEncapsulatedPixelData=b.default,t.readEncapsulatedPixelDataFromFragments=w.default,t.readPart10Header=E.default,t.readSequenceItemsExplicit=x.default,t.readSequenceItemsImplicit=j.default,t.readSequenceItem=I.default,t.readTag=A.default,t.default=S}])},711:(e,t,r)=>{var n;e.exports=function(){function e(t,r,n){function a(o,s){if(!r[o]){if(!t[o]){if(i)return i(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var l=r[o]={exports:{}};t[o][0].call(l.exports,(function(e){return a(t[o][1][e]||e)}),l,l.exports,e,t,r,n)}return r[o].exports}for(var i=void 0,o=0;o<n.length;o++)a(n[o]);return a}return e}()({1:[function(e,t,r){"use strict";r.byteLength=f,r.toByteArray=d,r.fromByteArray=g;for(var n=[],a=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=o.length;s<u;++s)n[s]=o[s],a[o.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function f(e){var t=l(e),r=t[0],n=t[1];return 3*(r+n)/4-n}function c(e,t,r){return 3*(t+r)/4-r}function d(e){for(var t,r=l(e),n=r[0],o=r[1],s=new i(c(e,n,o)),u=0,f=o>0?n-4:n,d=0;d<f;d+=4)t=a[e.charCodeAt(d)]<<18|a[e.charCodeAt(d+1)]<<12|a[e.charCodeAt(d+2)]<<6|a[e.charCodeAt(d+3)],s[u++]=t>>16&255,s[u++]=t>>8&255,s[u++]=255&t;return 2===o&&(t=a[e.charCodeAt(d)]<<2|a[e.charCodeAt(d+1)]>>4,s[u++]=255&t),1===o&&(t=a[e.charCodeAt(d)]<<10|a[e.charCodeAt(d+1)]<<4|a[e.charCodeAt(d+2)]>>2,s[u++]=t>>8&255,s[u++]=255&t),s}function h(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function p(e,t,r){for(var n,a=[],i=t;i<r;i+=3)n=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),a.push(h(n));return a.join("")}function g(e){for(var t,r=e.length,a=r%3,i=[],o=16383,s=0,u=r-a;s<u;s+=o)i.push(p(e,s,s+o>u?u:s+o));return 1===a?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===a&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),i.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},{}],2:[function(e,t,r){"use strict";var n=32;function a(e){var t=32;return(e&=-e)&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&(t-=1),t}r.INT_BITS=n,r.INT_MAX=2147483647,r.INT_MIN=-1<<n-1,r.sign=function(e){return(e>0)-(e<0)},r.abs=function(e){var t=e>>n-1;return(e^t)-t},r.min=function(e,t){return t^(e^t)&-(e<t)},r.max=function(e,t){return e^(e^t)&-(e<t)},r.isPow2=function(e){return!(e&e-1||!e)},r.log2=function(e){var t,r;return t=(e>65535)<<4,t|=r=((e>>>=t)>255)<<3,t|=r=((e>>>=r)>15)<<2,(t|=r=((e>>>=r)>3)<<1)|(e>>>=r)>>1},r.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},r.popCount=function(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24},r.countTrailingZeros=a,r.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,1+(e|=e>>>16)},r.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)-(e>>>1)},r.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,27030>>>(e&=15)&1};var i=new Array(256);!function(e){for(var t=0;t<256;++t){var r=t,n=t,a=7;for(r>>>=1;r;r>>>=1)n<<=1,n|=1&r,--a;e[t]=n<<a&255}}(i),r.reverse=function(e){return i[255&e]<<24|i[e>>>8&255]<<16|i[e>>>16&255]<<8|i[e>>>24&255]},r.interleave2=function(e,t){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))<<1},r.deinterleave2=function(e,t){return(e=65535&((e=16711935&((e=252645135&((e=858993459&((e=e>>>t&1431655765)|e>>>1))|e>>>2))|e>>>4))|e>>>16))<<16>>16},r.interleave3=function(e,t,r){return e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2),(e|=(t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2))<<1)|(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<2},r.deinterleave3=function(e,t){return(e=1023&((e=4278190335&((e=251719695&((e=3272356035&((e=e>>>t&1227133513)|e>>>2))|e>>>4))|e>>>8))|e>>>16))<<22>>22},r.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>a(e)+1}},{}],3:[function(e,t,r){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
"use strict";var n=e("base64-js"),a=e("ieee754");r.Buffer=u,r.SlowBuffer=m,r.INSPECT_MAX_BYTES=50;var i=2147483647;function o(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}function s(e){if(e>i)throw new RangeError("Invalid typed array length");var t=new Uint8Array(e);return t.__proto__=u.prototype,t}function u(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(e)}return l(e,t,r)}function l(e,t,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return J(e)||e&&J(e.buffer)?g(e,t,r):"string"==typeof e?h(e,t):v(e)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('"size" argument must not be negative')}function c(e,t,r){return f(e),e<=0?s(e):void 0!==t?"string"==typeof r?s(e).fill(t,r):s(e).fill(t):s(e)}function d(e){return f(e),s(e<0?0:0|_(e))}function h(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|y(e,t),n=s(r),a=n.write(e,t);return a!==r&&(n=n.slice(0,a)),n}function p(e){for(var t=e.length<0?0:0|_(e.length),r=s(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function g(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r)).__proto__=u.prototype,n}function v(e){if(u.isBuffer(e)){var t=0|_(e.length),r=s(t);return 0===r.length||e.copy(r,0,0,t),r}if(e){if(ArrayBuffer.isView(e)||"length"in e)return"number"!=typeof e.length||K(e.length)?s(0):p(e);if("Buffer"===e.type&&Array.isArray(e.data))return p(e.data)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object.")}function _(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function m(e){return+e!=e&&(e=0),u.alloc(+e)}function y(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||J(e))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return X(e).length;default:if(n)return G(e).length;t=(""+t).toLowerCase(),n=!0}}function b(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return M(this,t,r);case"utf8":case"utf-8":return O(this,t,r);case"ascii":return C(this,t,r);case"latin1":case"binary":return R(this,t,r);case"base64":return P(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function w(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function E(e,t,r,n,a){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),K(r=+r)&&(r=a?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(a)return-1;r=e.length-1}else if(r<0){if(!a)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:x(e,t,r,n,a);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):x(e,[t],r,n,a);throw new TypeError("val must be string, number or Buffer")}function x(e,t,r,n,a){var i,o=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,r/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(a){var f=-1;for(i=r;i<s;i++)if(l(e,i)===l(t,-1===f?0:i-f)){if(-1===f&&(f=i),i-f+1===u)return f*o}else-1!==f&&(i-=i-f),f=-1}else for(r+u>s&&(r=s-u),i=r;i>=0;i--){for(var c=!0,d=0;d<u;d++)if(l(e,i+d)!==l(t,d)){c=!1;break}if(c)return i}return-1}function j(e,t,r,n){r=Number(r)||0;var a=e.length-r;n?(n=Number(n))>a&&(n=a):n=a;var i=t.length;n>i/2&&(n=i/2);for(var o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(K(s))return o;e[r+o]=s}return o}function I(e,t,r,n){return $(G(t,e.length-r),e,r,n)}function A(e,t,r,n){return $(H(t),e,r,n)}function T(e,t,r,n){return A(e,t,r,n)}function S(e,t,r,n){return $(X(t),e,r,n)}function k(e,t,r,n){return $(Y(t,e.length-r),e,r,n)}function P(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function O(e,t,r){r=Math.min(e.length,r);for(var n=[],a=t;a<r;){var i,o,s,u,l=e[a],f=null,c=l>239?4:l>223?3:l>191?2:1;if(a+c<=r)switch(c){case 1:l<128&&(f=l);break;case 2:128==(192&(i=e[a+1]))&&(u=(31&l)<<6|63&i)>127&&(f=u);break;case 3:i=e[a+1],o=e[a+2],128==(192&i)&&128==(192&o)&&(u=(15&l)<<12|(63&i)<<6|63&o)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:i=e[a+1],o=e[a+2],s=e[a+3],128==(192&i)&&128==(192&o)&&128==(192&s)&&(u=(15&l)<<18|(63&i)<<12|(63&o)<<6|63&s)>65535&&u<1114112&&(f=u)}null===f?(f=65533,c=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),a+=c}return L(n)}r.kMaxLength=i,u.TYPED_ARRAY_SUPPORT=o(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{get:function(){if(this instanceof u)return this.buffer}}),Object.defineProperty(u.prototype,"offset",{get:function(){if(this instanceof u)return this.byteOffset}}),"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),u.poolSize=8192,u.from=function(e,t,r){return l(e,t,r)},u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,u.alloc=function(e,t,r){return c(e,t,r)},u.allocUnsafe=function(e){return d(e)},u.allocUnsafeSlow=function(e){return d(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,a=0,i=Math.min(r,n);a<i;++a)if(e[a]!==t[a]){r=e[a],n=t[a];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),a=0;for(r=0;r<e.length;++r){var i=e[r];if(ArrayBuffer.isView(i)&&(i=u.from(i)),!u.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,a),a+=i.length}return n},u.byteLength=y,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)w(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)w(this,t,t+3),w(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)w(this,t,t+7),w(this,t+1,t+6),w(this,t+2,t+5),w(this,t+3,t+4);return this},u.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?O(this,0,e):b.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,a){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===a&&(a=this.length),t<0||r>e.length||n<0||a>this.length)throw new RangeError("out of range index");if(n>=a&&t>=r)return 0;if(n>=a)return-1;if(t>=r)return 1;if(this===e)return 0;for(var i=(a>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),s=Math.min(i,o),l=this.slice(n,a),f=e.slice(t,r),c=0;c<s;++c)if(l[c]!==f[c]){i=l[c],o=f[c];break}return i<o?-1:o<i?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return E(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return E(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var a=this.length-t;if((void 0===r||r>a)&&(r=a),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return j(this,e,t,r);case"utf8":case"utf-8":return I(this,e,t,r);case"ascii":return A(this,e,t,r);case"latin1":case"binary":return T(this,e,t,r);case"base64":return S(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var D=4096;function L(e){var t=e.length;if(t<=D)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=D));return r}function C(e,t,r){var n="";r=Math.min(e.length,r);for(var a=t;a<r;++a)n+=String.fromCharCode(127&e[a]);return n}function R(e,t,r){var n="";r=Math.min(e.length,r);for(var a=t;a<r;++a)n+=String.fromCharCode(e[a]);return n}function M(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var a="",i=t;i<r;++i)a+=Z(e[i]);return a}function U(e,t,r){for(var n=e.slice(t,r),a="",i=0;i<n.length;i+=2)a+=String.fromCharCode(n[i]+256*n[i+1]);return a}function B(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,r,n,a,i){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function F(e,t,r,n,a,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function V(e,t,r,n,i){return t=+t,r>>>=0,i||F(e,t,r,4,34028234663852886e22,-34028234663852886e22),a.write(e,t,r,n,23,4),r+4}function z(e,t,r,n,i){return t=+t,r>>>=0,i||F(e,t,r,8,17976931348623157e292,-17976931348623157e292),a.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return n.__proto__=u.prototype,n},u.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);for(var n=this[e],a=1,i=0;++i<t&&(a*=256);)n+=this[e+i]*a;return n},u.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);for(var n=this[e+--t],a=1;t>0&&(a*=256);)n+=this[e+--t]*a;return n},u.prototype.readUInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);for(var n=this[e],a=1,i=0;++i<t&&(a*=256);)n+=this[e+i]*a;return n>=(a*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||B(e,t,this.length);for(var n=t,a=1,i=this[e+--n];n>0&&(a*=256);)i+=this[e+--n]*a;return i>=(a*=128)&&(i-=Math.pow(2,8*t)),i},u.prototype.readInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||B(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){e>>>=0,t||B(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return e>>>=0,t||B(e,4,this.length),a.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||B(e,4,this.length),a.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||B(e,8,this.length),a.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||B(e,8,this.length),a.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||N(this,e,t,r,Math.pow(2,8*r)-1,0);var a=1,i=0;for(this[t]=255&e;++i<r&&(a*=256);)this[t+i]=e/a&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||N(this,e,t,r,Math.pow(2,8*r)-1,0);var a=r-1,i=1;for(this[t+a]=255&e;--a>=0&&(i*=256);)this[t+a]=e/i&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var a=Math.pow(2,8*r-1);N(this,e,t,r,a-1,-a)}var i=0,o=1,s=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var a=Math.pow(2,8*r-1);N(this,e,t,r,a-1,-a)}var i=r-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeFloatLE=function(e,t,r){return V(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return V(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return z(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return z(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var a=n-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var i=a-1;i>=0;--i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return a},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var a=e.charCodeAt(0);("utf8"===n&&a<128||"latin1"===n)&&(e=a)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var o=u.isBuffer(e)?e:new u(e,n),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%s]}return this};var q=/[^+/0-9A-Za-z-_]/g;function W(e){if((e=(e=e.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function Z(e){return e<16?"0"+e.toString(16):e.toString(16)}function G(e,t){var r;t=t||1/0;for(var n=e.length,a=null,i=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!a){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&i.push(239,191,189);continue}a=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),a=r;continue}r=65536+(a-55296<<10|r-56320)}else a&&(t-=3)>-1&&i.push(239,191,189);if(a=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function H(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function Y(e,t){for(var r,n,a,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,a=r%256,i.push(a),i.push(n);return i}function X(e){return n.toByteArray(W(e))}function $(e,t,r,n){for(var a=0;a<n&&!(a+r>=t.length||a>=e.length);++a)t[a+r]=e[a];return a}function J(e){return e instanceof ArrayBuffer||null!=e&&null!=e.constructor&&"ArrayBuffer"===e.constructor.name&&"number"==typeof e.byteLength}function K(e){return e!=e}},{"base64-js":1,ieee754:9}],4:[function(e,t,r){"use strict";var n=e("./lib/thunk.js");function a(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function i(e){var t=new a;t.pre=e.pre,t.body=e.body,t.post=e.post;var r=e.args.slice(0);t.argTypes=r;for(var i=0;i<r.length;++i){var o=r[i];if("array"===o||"object"==typeof o&&o.blockIndices){if(t.argTypes[i]="array",t.arrayArgs.push(i),t.arrayBlockIndices.push(o.blockIndices?o.blockIndices:0),t.shimArgs.push("array"+i),i<t.pre.args.length&&t.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array args");if(i<t.post.args.length&&t.post.args[i].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===o)t.scalarArgs.push(i),t.shimArgs.push("scalar"+i);else if("index"===o){if(t.indexArgs.push(i),i<t.pre.args.length&&t.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array index");if(i<t.body.args.length&&t.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array index");if(i<t.post.args.length&&t.post.args[i].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===o){if(t.shapeArgs.push(i),i<t.pre.args.length&&t.pre.args[i].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(i<t.body.args.length&&t.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array shape");if(i<t.post.args.length&&t.post.args[i].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof o||!o.offset)throw new Error("cwise: Unknown argument type "+r[i]);t.argTypes[i]="offset",t.offsetArgs.push({array:o.array,offset:o.offset}),t.offsetArgIndex.push(i)}}if(t.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(t.pre.args.length>r.length)throw new Error("cwise: Too many arguments in pre() block");if(t.body.args.length>r.length)throw new Error("cwise: Too many arguments in body() block");if(t.post.args.length>r.length)throw new Error("cwise: Too many arguments in post() block");return t.debug=!!e.printCode||!!e.debug,t.funcName=e.funcName||"cwise",t.blockSize=e.blockSize||64,n(t)}t.exports=i},{"./lib/thunk.js":6}],5:[function(e,t,r){"use strict";var n=e("uniq");function a(e,t,r){var n,a,i=e.length,o=t.arrayArgs.length,s=t.indexArgs.length>0,u=[],l=[],f=0,c=0;for(n=0;n<i;++n)l.push(["i",n,"=0"].join(""));for(a=0;a<o;++a)for(n=0;n<i;++n)c=f,f=e[n],0===n?l.push(["d",a,"s",n,"=t",a,"p",f].join("")):l.push(["d",a,"s",n,"=(t",a,"p",f,"-s",c,"*t",a,"p",c,")"].join(""));for(l.length>0&&u.push("var "+l.join(",")),n=i-1;n>=0;--n)f=e[n],u.push(["for(i",n,"=0;i",n,"<s",f,";++i",n,"){"].join(""));for(u.push(r),n=0;n<i;++n){for(c=f,f=e[n],a=0;a<o;++a)u.push(["p",a,"+=d",a,"s",n].join(""));s&&(n>0&&u.push(["index[",c,"]-=s",c].join("")),u.push(["++index[",f,"]"].join(""))),u.push("}")}return u.join("\n")}function i(e,t,r,n){for(var i=t.length,o=r.arrayArgs.length,s=r.blockSize,u=r.indexArgs.length>0,l=[],f=0;f<o;++f)l.push(["var offset",f,"=p",f].join(""));for(f=e;f<i;++f)l.push(["for(var j"+f+"=SS[",t[f],"]|0;j",f,">0;){"].join("")),l.push(["if(j",f,"<",s,"){"].join("")),l.push(["s",t[f],"=j",f].join("")),l.push(["j",f,"=0"].join("")),l.push(["}else{s",t[f],"=",s].join("")),l.push(["j",f,"-=",s,"}"].join("")),u&&l.push(["index[",t[f],"]=j",f].join(""));for(f=0;f<o;++f){for(var c=["offset"+f],d=e;d<i;++d)c.push(["j",d,"*t",f,"p",t[d]].join(""));l.push(["p",f,"=(",c.join("+"),")"].join(""))}for(l.push(a(t,r,n)),f=e;f<i;++f)l.push("}");return l.join("\n")}function o(e){for(var t=0,r=e[0].length;t<r;){for(var n=1;n<e.length;++n)if(e[n][t]!==e[0][t])return t;++t}return t}function s(e,t,r){for(var n=e.body,a=[],i=[],o=0;o<e.args.length;++o){var s=e.args[o];if(!(s.count<=0)){var u=new RegExp(s.name,"g"),l="",f=t.arrayArgs.indexOf(o);switch(t.argTypes[o]){case"offset":var c=t.offsetArgIndex.indexOf(o);f=t.offsetArgs[c].array,l="+q"+c;case"array":l="p"+f+l;var d="l"+o,h="a"+f;if(0===t.arrayBlockIndices[f])1===s.count?"generic"===r[f]?s.lvalue?(a.push(["var ",d,"=",h,".get(",l,")"].join("")),n=n.replace(u,d),i.push([h,".set(",l,",",d,")"].join(""))):n=n.replace(u,[h,".get(",l,")"].join("")):n=n.replace(u,[h,"[",l,"]"].join("")):"generic"===r[f]?(a.push(["var ",d,"=",h,".get(",l,")"].join("")),n=n.replace(u,d),s.lvalue&&i.push([h,".set(",l,",",d,")"].join(""))):(a.push(["var ",d,"=",h,"[",l,"]"].join("")),n=n.replace(u,d),s.lvalue&&i.push([h,"[",l,"]=",d].join("")));else{for(var p=[s.name],g=[l],v=0;v<Math.abs(t.arrayBlockIndices[f]);v++)p.push("\\s*\\[([^\\]]+)\\]"),g.push("$"+(v+1)+"*t"+f+"b"+v);if(u=new RegExp(p.join(""),"g"),l=g.join("+"),"generic"===r[f])throw new Error("cwise: Generic arrays not supported in combination with blocks!");n=n.replace(u,[h,"[",l,"]"].join(""))}break;case"scalar":n=n.replace(u,"Y"+t.scalarArgs.indexOf(o));break;case"index":n=n.replace(u,"index");break;case"shape":n=n.replace(u,"shape")}}}return[a.join("\n"),n,i.join("\n")].join("\n").trim()}function u(e){for(var t=new Array(e.length),r=!0,n=0;n<e.length;++n){var a=e[n],i=a.match(/\d+/);i=i?i[0]:"",0===a.charAt(0)?t[n]="u"+a.charAt(1)+i:t[n]=a.charAt(0)+i,n>0&&(r=r&&t[n]===t[n-1])}return r?t[0]:t.join("")}function l(e,t){for(var r=t[1].length-Math.abs(e.arrayBlockIndices[0])|0,l=new Array(e.arrayArgs.length),f=new Array(e.arrayArgs.length),c=0;c<e.arrayArgs.length;++c)f[c]=t[2*c],l[c]=t[2*c+1];var d=[],h=[],p=[],g=[],v=[];for(c=0;c<e.arrayArgs.length;++c){e.arrayBlockIndices[c]<0?(p.push(0),g.push(r),d.push(r),h.push(r+e.arrayBlockIndices[c])):(p.push(e.arrayBlockIndices[c]),g.push(e.arrayBlockIndices[c]+r),d.push(0),h.push(e.arrayBlockIndices[c]));for(var _=[],m=0;m<l[c].length;m++)p[c]<=l[c][m]&&l[c][m]<g[c]&&_.push(l[c][m]-p[c]);v.push(_)}var y=["SS"],b=["'use strict'"],w=[];for(m=0;m<r;++m)w.push(["s",m,"=SS[",m,"]"].join(""));for(c=0;c<e.arrayArgs.length;++c){for(y.push("a"+c),y.push("t"+c),y.push("p"+c),m=0;m<r;++m)w.push(["t",c,"p",m,"=t",c,"[",p[c]+m,"]"].join(""));for(m=0;m<Math.abs(e.arrayBlockIndices[c]);++m)w.push(["t",c,"b",m,"=t",c,"[",d[c]+m,"]"].join(""))}for(c=0;c<e.scalarArgs.length;++c)y.push("Y"+c);if(e.shapeArgs.length>0&&w.push("shape=SS.slice(0)"),e.indexArgs.length>0){var E=new Array(r);for(c=0;c<r;++c)E[c]="0";w.push(["index=[",E.join(","),"]"].join(""))}for(c=0;c<e.offsetArgs.length;++c){var x=e.offsetArgs[c],j=[];for(m=0;m<x.offset.length;++m)0!==x.offset[m]&&(1===x.offset[m]?j.push(["t",x.array,"p",m].join("")):j.push([x.offset[m],"*t",x.array,"p",m].join("")));0===j.length?w.push("q"+c+"=0"):w.push(["q",c,"=",j.join("+")].join(""))}var I=n([].concat(e.pre.thisVars).concat(e.body.thisVars).concat(e.post.thisVars));for((w=w.concat(I)).length>0&&b.push("var "+w.join(",")),c=0;c<e.arrayArgs.length;++c)b.push("p"+c+"|=0");e.pre.body.length>3&&b.push(s(e.pre,e,f));var A=s(e.body,e,f),T=o(v);T<r?b.push(i(T,v[0],e,A)):b.push(a(v[0],e,A)),e.post.body.length>3&&b.push(s(e.post,e,f)),e.debug&&console.log("-----Generated cwise routine for ",t,":\n"+b.join("\n")+"\n----------");var S=[e.funcName||"unnamed","_cwise_loop_",l[0].join("s"),"m",T,u(f)].join("");return new Function(["function ",S,"(",y.join(","),"){",b.join("\n"),"} return ",S].join(""))()}t.exports=l},{uniq:22}],6:[function(e,t,r){"use strict";var n=e("./compile.js");function a(e){var t=["'use strict'","var CACHED={}"],r=[],a=e.funcName+"_cwise_thunk";t.push(["return function ",a,"(",e.shimArgs.join(","),"){"].join(""));for(var i=[],o=[],s=[["array",e.arrayArgs[0],".shape.slice(",Math.max(0,e.arrayBlockIndices[0]),e.arrayBlockIndices[0]<0?","+e.arrayBlockIndices[0]+")":")"].join("")],u=[],l=[],f=0;f<e.arrayArgs.length;++f){var c=e.arrayArgs[f];r.push(["t",c,"=array",c,".dtype,","r",c,"=array",c,".order"].join("")),i.push("t"+c),i.push("r"+c),o.push("t"+c),o.push("r"+c+".join()"),s.push("array"+c+".data"),s.push("array"+c+".stride"),s.push("array"+c+".offset|0"),f>0&&(u.push("array"+e.arrayArgs[0]+".shape.length===array"+c+".shape.length+"+(Math.abs(e.arrayBlockIndices[0])-Math.abs(e.arrayBlockIndices[f]))),l.push("array"+e.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[0])+"]===array"+c+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[f])+"]"))}for(e.arrayArgs.length>1&&(t.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),t.push("for(var shapeIndex=array"+e.arrayArgs[0]+".shape.length-"+Math.abs(e.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),t.push("if (!("+l.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),t.push("}")),f=0;f<e.scalarArgs.length;++f)s.push("scalar"+e.scalarArgs[f]);return r.push(["type=[",o.join(","),"].join()"].join("")),r.push("proc=CACHED[type]"),t.push("var "+r.join(",")),t.push(["if(!proc){","CACHED[type]=proc=compile([",i.join(","),"])}","return proc(",s.join(","),")}"].join("")),e.debug&&console.log("-----Generated thunk:\n"+t.join("\n")+"\n----------"),new Function("compile",t.join("\n"))(n.bind(void 0,e))}t.exports=a},{"./compile.js":5}],7:[function(e,t,r){t.exports=e("cwise-compiler")},{"cwise-compiler":4}],8:[function(e,t,r){"use strict";function n(e,t,r){var a=0|e[r];if(a<=0)return[];var i,o=new Array(a);if(r===e.length-1)for(i=0;i<a;++i)o[i]=t;else for(i=0;i<a;++i)o[i]=n(e,t,r+1);return o}function a(e,t){var r,n;for(r=new Array(e),n=0;n<e;++n)r[n]=t;return r}function i(e,t){switch(void 0===t&&(t=0),typeof e){case"number":if(e>0)return a(0|e,t);break;case"object":if("number"==typeof e.length)return n(e,t,0)}return[]}t.exports=i},{}],9:[function(e,t,r){r.read=function(e,t,r,n,a){var i,o,s=8*a-n-1,u=(1<<s)-1,l=u>>1,f=-7,c=r?a-1:0,d=r?-1:1,h=e[t+c];for(c+=d,i=h&(1<<-f)-1,h>>=-f,f+=s;f>0;i=256*i+e[t+c],c+=d,f-=8);for(o=i&(1<<-f)-1,i>>=-f,f+=n;f>0;o=256*o+e[t+c],c+=d,f-=8);if(0===i)i=1-l;else{if(i===u)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,n),i-=l}return(h?-1:1)*o*Math.pow(2,i-n)},r.write=function(e,t,r,n,a,i){var o,s,u,l=8*i-a-1,f=(1<<l)-1,c=f>>1,d=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:i-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=f):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+c>=1?d/u:d*Math.pow(2,1-c))*u>=2&&(o++,u/=2),o+c>=f?(s=0,o=f):o+c>=1?(s=(t*u-1)*Math.pow(2,a),o+=c):(s=t*Math.pow(2,c-1)*Math.pow(2,a),o=0));a>=8;e[r+h]=255&s,h+=p,s/=256,a-=8);for(o=o<<a|s,l+=a;l>0;e[r+h]=255&o,h+=p,o/=256,l-=8);e[r+h-p]|=128*g}},{}],10:[function(e,t,r){"use strict";function n(e){for(var t=new Array(e),r=0;r<e;++r)t[r]=r;return t}t.exports=n},{}],11:[function(e,t,r){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function a(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(e){return null!=e&&(n(e)||a(e)||!!e._isBuffer)}},{}],12:[function(e,t,a){(function(e){(function(){var r,i="4.17.10",o=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",l="__lodash_hash_undefined__",f=500,c="__lodash_placeholder__",d=1,h=2,p=4,g=1,v=2,_=1,m=2,y=4,b=8,w=16,E=32,x=64,j=128,I=256,A=512,T=30,S="...",k=800,P=16,O=1,D=2,L=3,C=1/0,R=9007199254740991,M=17976931348623157e292,U=NaN,B=4294967295,N=B-1,F=B>>>1,V=[["ary",j],["bind",_],["bindKey",m],["curry",b],["curryRight",w],["flip",A],["partial",E],["partialRight",x],["rearg",I]],z="[object Arguments]",q="[object Array]",W="[object AsyncFunction]",Z="[object Boolean]",G="[object Date]",H="[object DOMException]",Y="[object Error]",X="[object Function]",$="[object GeneratorFunction]",J="[object Map]",K="[object Number]",Q="[object Null]",ee="[object Object]",te="[object Promise]",re="[object Proxy]",ne="[object RegExp]",ae="[object Set]",ie="[object String]",oe="[object Symbol]",se="[object Undefined]",ue="[object WeakMap]",le="[object WeakSet]",fe="[object ArrayBuffer]",ce="[object DataView]",de="[object Float32Array]",he="[object Float64Array]",pe="[object Int8Array]",ge="[object Int16Array]",ve="[object Int32Array]",_e="[object Uint8Array]",me="[object Uint8ClampedArray]",ye="[object Uint16Array]",be="[object Uint32Array]",we=/\b__p \+= '';/g,Ee=/\b(__p \+=) '' \+/g,xe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,je=/&(?:amp|lt|gt|quot|#39);/g,Ie=/[&<>"']/g,Ae=RegExp(je.source),Te=RegExp(Ie.source),Se=/<%-([\s\S]+?)%>/g,ke=/<%([\s\S]+?)%>/g,Pe=/<%=([\s\S]+?)%>/g,Oe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,De=/^\w*$/,Le=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ce=/[\\^$.*+?()[\]{}|]/g,Re=RegExp(Ce.source),Me=/^\s+|\s+$/g,Ue=/^\s+/,Be=/\s+$/,Ne=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Fe=/\{\n\/\* \[wrapped with (.+)\] \*/,Ve=/,? & /,ze=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,qe=/\\(\\)?/g,We=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ze=/\w*$/,Ge=/^[-+]0x[0-9a-f]+$/i,He=/^0b[01]+$/i,Ye=/^\[object .+?Constructor\]$/,Xe=/^0o[0-7]+$/i,$e=/^(?:0|[1-9]\d*)$/,Je=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ke=/($^)/,Qe=/['\n\r\u2028\u2029\\]/g,et="\\ud800-\\udfff",tt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",rt="\\u2700-\\u27bf",nt="a-z\\xdf-\\xf6\\xf8-\\xff",at="A-Z\\xc0-\\xd6\\xd8-\\xde",it="\\ufe0e\\ufe0f",ot="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",st="['’]",ut="["+et+"]",lt="["+ot+"]",ft="["+tt+"]",ct="\\d+",dt="["+rt+"]",ht="["+nt+"]",pt="[^"+et+ot+ct+rt+nt+at+"]",gt="\\ud83c[\\udffb-\\udfff]",vt="[^"+et+"]",_t="(?:\\ud83c[\\udde6-\\uddff]){2}",mt="[\\ud800-\\udbff][\\udc00-\\udfff]",yt="["+at+"]",bt="\\u200d",wt="(?:"+ht+"|"+pt+")",Et="(?:"+yt+"|"+pt+")",xt="(?:"+st+"(?:d|ll|m|re|s|t|ve))?",jt="(?:"+st+"(?:D|LL|M|RE|S|T|VE))?",It="(?:"+ft+"|"+gt+")?",At="["+it+"]?",Tt="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",St="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",kt=At+It+"(?:"+bt+"(?:"+[vt,_t,mt].join("|")+")"+At+It+")*",Pt="(?:"+[dt,_t,mt].join("|")+")"+kt,Ot="(?:"+[vt+ft+"?",ft,_t,mt,ut].join("|")+")",Dt=RegExp(st,"g"),Lt=RegExp(ft,"g"),Ct=RegExp(gt+"(?="+gt+")|"+Ot+kt,"g"),Rt=RegExp([yt+"?"+ht+"+"+xt+"(?="+[lt,yt,"$"].join("|")+")",Et+"+"+jt+"(?="+[lt,yt+wt,"$"].join("|")+")",yt+"?"+wt+"+"+xt,yt+"+"+jt,St,Tt,ct,Pt].join("|"),"g"),Mt=RegExp("["+bt+et+tt+it+"]"),Ut=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Bt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Nt=-1,Ft={};Ft[de]=Ft[he]=Ft[pe]=Ft[ge]=Ft[ve]=Ft[_e]=Ft[me]=Ft[ye]=Ft[be]=!0,Ft[z]=Ft[q]=Ft[fe]=Ft[Z]=Ft[ce]=Ft[G]=Ft[Y]=Ft[X]=Ft[J]=Ft[K]=Ft[ee]=Ft[ne]=Ft[ae]=Ft[ie]=Ft[ue]=!1;var Vt={};Vt[z]=Vt[q]=Vt[fe]=Vt[ce]=Vt[Z]=Vt[G]=Vt[de]=Vt[he]=Vt[pe]=Vt[ge]=Vt[ve]=Vt[J]=Vt[K]=Vt[ee]=Vt[ne]=Vt[ae]=Vt[ie]=Vt[oe]=Vt[_e]=Vt[me]=Vt[ye]=Vt[be]=!0,Vt[Y]=Vt[X]=Vt[ue]=!1;var zt={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},qt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Wt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Zt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Gt=parseFloat,Ht=parseInt,Yt="object"==typeof e&&e&&e.Object===Object&&e,Xt="object"==typeof self&&self&&self.Object===Object&&self,$t=Yt||Xt||Function("return this")(),Jt="object"==typeof a&&a&&!a.nodeType&&a,Kt=Jt&&"object"==typeof t&&t&&!t.nodeType&&t,Qt=Kt&&Kt.exports===Jt,er=Qt&&Yt.process,tr=function(){try{var e=Kt&&Kt.require&&Kt.require("util").types;return e||er&&er.binding&&er.binding("util")}catch(e){}}(),rr=tr&&tr.isArrayBuffer,nr=tr&&tr.isDate,ar=tr&&tr.isMap,ir=tr&&tr.isRegExp,or=tr&&tr.isSet,sr=tr&&tr.isTypedArray;function ur(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function lr(e,t,r,n){for(var a=-1,i=null==e?0:e.length;++a<i;){var o=e[a];t(n,o,r(o),e)}return n}function fr(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function cr(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function dr(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function hr(e,t){for(var r=-1,n=null==e?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}function pr(e,t){return!(null==e||!e.length)&&Ar(e,t,0)>-1}function gr(e,t,r){for(var n=-1,a=null==e?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}function vr(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}function _r(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}function mr(e,t,r,n){var a=-1,i=null==e?0:e.length;for(n&&i&&(r=e[++a]);++a<i;)r=t(r,e[a],a,e);return r}function yr(e,t,r,n){var a=null==e?0:e.length;for(n&&a&&(r=e[--a]);a--;)r=t(r,e[a],a,e);return r}function br(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var wr=Pr("length");function Er(e){return e.split("")}function xr(e){return e.match(ze)||[]}function jr(e,t,r){var n;return r(e,(function(e,r,a){if(t(e,r,a))return n=r,!1})),n}function Ir(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}function Ar(e,t,r){return t==t?rn(e,t,r):Ir(e,Sr,r)}function Tr(e,t,r,n){for(var a=r-1,i=e.length;++a<i;)if(n(e[a],t))return a;return-1}function Sr(e){return e!=e}function kr(e,t){var r=null==e?0:e.length;return r?Cr(e,t)/r:U}function Pr(e){return function(t){return null==t?r:t[e]}}function Or(e){return function(t){return null==e?r:e[t]}}function Dr(e,t,r,n,a){return a(e,(function(e,a,i){r=n?(n=!1,e):t(r,e,a,i)})),r}function Lr(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}function Cr(e,t){for(var n,a=-1,i=e.length;++a<i;){var o=t(e[a]);o!==r&&(n=n===r?o:n+o)}return n}function Rr(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Mr(e,t){return vr(t,(function(t){return[t,e[t]]}))}function Ur(e){return function(t){return e(t)}}function Br(e,t){return vr(t,(function(t){return e[t]}))}function Nr(e,t){return e.has(t)}function Fr(e,t){for(var r=-1,n=e.length;++r<n&&Ar(t,e[r],0)>-1;);return r}function Vr(e,t){for(var r=e.length;r--&&Ar(t,e[r],0)>-1;);return r}function zr(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}var qr=Or(zt),Wr=Or(qt);function Zr(e){return"\\"+Zt[e]}function Gr(e,t){return null==e?r:e[t]}function Hr(e){return Mt.test(e)}function Yr(e){return Ut.test(e)}function Xr(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}function $r(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function Jr(e,t){return function(r){return e(t(r))}}function Kr(e,t){for(var r=-1,n=e.length,a=0,i=[];++r<n;){var o=e[r];o!==t&&o!==c||(e[r]=c,i[a++]=r)}return i}function Qr(e,t){return"__proto__"==t?r:e[t]}function en(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function tn(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}function rn(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}function nn(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}function an(e){return Hr(e)?un(e):wr(e)}function on(e){return Hr(e)?ln(e):Er(e)}var sn=Or(Wt);function un(e){for(var t=Ct.lastIndex=0;Ct.test(e);)++t;return t}function ln(e){return e.match(Ct)||[]}function fn(e){return e.match(Rt)||[]}var cn=function e(t){var n,a=(t=null==t?$t:cn.defaults($t.Object(),t,cn.pick($t,Bt))).Array,ze=t.Date,et=t.Error,tt=t.Function,rt=t.Math,nt=t.Object,at=t.RegExp,it=t.String,ot=t.TypeError,st=a.prototype,ut=tt.prototype,lt=nt.prototype,ft=t["__core-js_shared__"],ct=ut.toString,dt=lt.hasOwnProperty,ht=0,pt=(n=/[^.]+$/.exec(ft&&ft.keys&&ft.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",gt=lt.toString,vt=ct.call(nt),_t=$t._,mt=at("^"+ct.call(dt).replace(Ce,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yt=Qt?t.Buffer:r,bt=t.Symbol,wt=t.Uint8Array,Et=yt?yt.allocUnsafe:r,xt=Jr(nt.getPrototypeOf,nt),jt=nt.create,It=lt.propertyIsEnumerable,At=st.splice,Tt=bt?bt.isConcatSpreadable:r,St=bt?bt.iterator:r,kt=bt?bt.toStringTag:r,Pt=function(){try{var e=Ho(nt,"defineProperty");return e({},"",{}),e}catch(e){}}(),Ot=t.clearTimeout!==$t.clearTimeout&&t.clearTimeout,Ct=ze&&ze.now!==$t.Date.now&&ze.now,Rt=t.setTimeout!==$t.setTimeout&&t.setTimeout,Mt=rt.ceil,Ut=rt.floor,zt=nt.getOwnPropertySymbols,qt=yt?yt.isBuffer:r,Wt=t.isFinite,Zt=st.join,Yt=Jr(nt.keys,nt),Xt=rt.max,Jt=rt.min,Kt=ze.now,er=t.parseInt,tr=rt.random,wr=st.reverse,Er=Ho(t,"DataView"),Or=Ho(t,"Map"),rn=Ho(t,"Promise"),un=Ho(t,"Set"),ln=Ho(t,"WeakMap"),dn=Ho(nt,"create"),hn=ln&&new ln,pn={},gn=Os(Er),vn=Os(Or),_n=Os(rn),mn=Os(un),yn=Os(ln),bn=bt?bt.prototype:r,wn=bn?bn.valueOf:r,En=bn?bn.toString:r;function xn(e){if(If(e)&&!uf(e)&&!(e instanceof Tn)){if(e instanceof An)return e;if(dt.call(e,"__wrapped__"))return Ls(e)}return new An(e)}var jn=function(){function e(){}return function(t){if(!jf(t))return{};if(jt)return jt(t);e.prototype=t;var n=new e;return e.prototype=r,n}}();function In(){}function An(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}function Tn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=B,this.__views__=[]}function Sn(){var e=new Tn(this.__wrapped__);return e.__actions__=no(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=no(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=no(this.__views__),e}function kn(){if(this.__filtered__){var e=new Tn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e}function Pn(){var e=this.__wrapped__.value(),t=this.__dir__,r=uf(e),n=t<0,a=r?e.length:0,i=Ko(0,a,this.__views__),o=i.start,s=i.end,u=s-o,l=n?s:o-1,f=this.__iteratees__,c=f.length,d=0,h=Jt(u,this.__takeCount__);if(!r||!n&&a==u&&h==u)return Bi(e,this.__actions__);var p=[];e:for(;u--&&d<h;){for(var g=-1,v=e[l+=t];++g<c;){var _=f[g],m=_.iteratee,y=_.type,b=m(v);if(y==D)v=b;else if(!b){if(y==O)continue e;break e}}p[d++]=v}return p}function On(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Dn(){this.__data__=dn?dn(null):{},this.size=0}function Ln(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Cn(e){var t=this.__data__;if(dn){var n=t[e];return n===l?r:n}return dt.call(t,e)?t[e]:r}function Rn(e){var t=this.__data__;return dn?t[e]!==r:dt.call(t,e)}function Mn(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=dn&&t===r?l:t,this}function Un(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Bn(){this.__data__=[],this.size=0}function Nn(e){var t=this.__data__,r=fa(t,e);return!(r<0||(r==t.length-1?t.pop():At.call(t,r,1),--this.size,0))}function Fn(e){var t=this.__data__,n=fa(t,e);return n<0?r:t[n][1]}function Vn(e){return fa(this.__data__,e)>-1}function zn(e,t){var r=this.__data__,n=fa(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function qn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Wn(){this.size=0,this.__data__={hash:new On,map:new(Or||Un),string:new On}}function Zn(e){var t=Zo(this,e).delete(e);return this.size-=t?1:0,t}function Gn(e){return Zo(this,e).get(e)}function Hn(e){return Zo(this,e).has(e)}function Yn(e,t){var r=Zo(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function Xn(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new qn;++t<r;)this.add(e[t])}function $n(e){return this.__data__.set(e,l),this}function Jn(e){return this.__data__.has(e)}function Kn(e){var t=this.__data__=new Un(e);this.size=t.size}function Qn(){this.__data__=new Un,this.size=0}function ea(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function ta(e){return this.__data__.get(e)}function ra(e){return this.__data__.has(e)}function na(e,t){var r=this.__data__;if(r instanceof Un){var n=r.__data__;if(!Or||n.length<o-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new qn(n)}return r.set(e,t),this.size=r.size,this}function aa(e,t){var r=uf(e),n=!r&&sf(e),a=!r&&!n&&hf(e),i=!r&&!n&&!a&&Ff(e),o=r||n||a||i,s=o?Rr(e.length,it):[],u=s.length;for(var l in e)!t&&!dt.call(e,l)||o&&("length"==l||a&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||os(l,u))||s.push(l);return s}function ia(e){var t=e.length;return t?e[_i(0,t-1)]:r}function oa(e,t){return Ss(no(e),va(t,0,e.length))}function sa(e){return Ss(no(e))}function ua(e,t,n){(n!==r&&!nf(e[t],n)||n===r&&!(t in e))&&pa(e,t,n)}function la(e,t,n){var a=e[t];dt.call(e,t)&&nf(a,n)&&(n!==r||t in e)||pa(e,t,n)}function fa(e,t){for(var r=e.length;r--;)if(nf(e[r][0],t))return r;return-1}function ca(e,t,r,n){return Ea(e,(function(e,a,i){t(n,e,r(e),i)})),n}function da(e,t){return e&&ao(t,Ec(t),e)}function ha(e,t){return e&&ao(t,xc(t),e)}function pa(e,t,r){"__proto__"==t&&Pt?Pt(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function ga(e,t){for(var n=-1,i=t.length,o=a(i),s=null==e;++n<i;)o[n]=s?r:vc(e,t[n]);return o}function va(e,t,n){return e==e&&(n!==r&&(e=e<=n?e:n),t!==r&&(e=e>=t?e:t)),e}function _a(e,t,n,a,i,o){var s,u=t&d,l=t&h,f=t&p;if(n&&(s=i?n(e,a,i,o):n(e)),s!==r)return s;if(!jf(e))return e;var c=uf(e);if(c){if(s=ts(e),!u)return no(e,s)}else{var g=Jo(e),v=g==X||g==$;if(hf(e))return Hi(e,u);if(g==ee||g==z||v&&!i){if(s=l||v?{}:rs(e),!u)return l?oo(e,ha(s,e)):io(e,da(s,e))}else{if(!Vt[g])return i?e:{};s=ns(e,g,u)}}o||(o=new Kn);var _=o.get(e);if(_)return _;if(o.set(e,s),Uf(e))return e.forEach((function(r){s.add(_a(r,t,n,r,e,o))})),s;if(Af(e))return e.forEach((function(r,a){s.set(a,_a(r,t,n,a,e,o))})),s;var m=c?r:(f?l?Fo:No:l?xc:Ec)(e);return fr(m||e,(function(r,a){m&&(r=e[a=r]),la(s,a,_a(r,t,n,a,e,o))})),s}function ma(e){var t=Ec(e);return function(r){return ya(r,e,t)}}function ya(e,t,n){var a=n.length;if(null==e)return!a;for(e=nt(e);a--;){var i=n[a],o=t[i],s=e[i];if(s===r&&!(i in e)||!o(s))return!1}return!0}function ba(e,t,n){if("function"!=typeof e)throw new ot(u);return js((function(){e.apply(r,n)}),t)}function wa(e,t,r,n){var a=-1,i=pr,s=!0,u=e.length,l=[],f=t.length;if(!u)return l;r&&(t=vr(t,Ur(r))),n?(i=gr,s=!1):t.length>=o&&(i=Nr,s=!1,t=new Xn(t));e:for(;++a<u;){var c=e[a],d=null==r?c:r(c);if(c=n||0!==c?c:0,s&&d==d){for(var h=f;h--;)if(t[h]===d)continue e;l.push(c)}else i(t,d,n)||l.push(c)}return l}xn.templateSettings={escape:Se,evaluate:ke,interpolate:Pe,variable:"",imports:{_:xn}},xn.prototype=In.prototype,xn.prototype.constructor=xn,An.prototype=jn(In.prototype),An.prototype.constructor=An,Tn.prototype=jn(In.prototype),Tn.prototype.constructor=Tn,On.prototype.clear=Dn,On.prototype.delete=Ln,On.prototype.get=Cn,On.prototype.has=Rn,On.prototype.set=Mn,Un.prototype.clear=Bn,Un.prototype.delete=Nn,Un.prototype.get=Fn,Un.prototype.has=Vn,Un.prototype.set=zn,qn.prototype.clear=Wn,qn.prototype.delete=Zn,qn.prototype.get=Gn,qn.prototype.has=Hn,qn.prototype.set=Yn,Xn.prototype.add=Xn.prototype.push=$n,Xn.prototype.has=Jn,Kn.prototype.clear=Qn,Kn.prototype.delete=ea,Kn.prototype.get=ta,Kn.prototype.has=ra,Kn.prototype.set=na;var Ea=lo(Oa),xa=lo(Da,!0);function ja(e,t){var r=!0;return Ea(e,(function(e,n,a){return r=!!t(e,n,a)})),r}function Ia(e,t,n){for(var a=-1,i=e.length;++a<i;){var o=e[a],s=t(o);if(null!=s&&(u===r?s==s&&!Nf(s):n(s,u)))var u=s,l=o}return l}function Aa(e,t,n,a){var i=e.length;for((n=Yf(n))<0&&(n=-n>i?0:i+n),(a=a===r||a>i?i:Yf(a))<0&&(a+=i),a=n>a?0:Xf(a);n<a;)e[n++]=t;return e}function Ta(e,t){var r=[];return Ea(e,(function(e,n,a){t(e,n,a)&&r.push(e)})),r}function Sa(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=is),a||(a=[]);++i<o;){var s=e[i];t>0&&r(s)?t>1?Sa(s,t-1,r,n,a):_r(a,s):n||(a[a.length]=s)}return a}var ka=fo(),Pa=fo(!0);function Oa(e,t){return e&&ka(e,t,Ec)}function Da(e,t){return e&&Pa(e,t,Ec)}function La(e,t){return hr(t,(function(t){return wf(e[t])}))}function Ca(e,t){for(var n=0,a=(t=qi(t,e)).length;null!=e&&n<a;)e=e[Ps(t[n++])];return n&&n==a?e:r}function Ra(e,t,r){var n=t(e);return uf(e)?n:_r(n,r(e))}function Ma(e){return null==e?e===r?se:Q:kt&&kt in nt(e)?Yo(e):ys(e)}function Ua(e,t){return e>t}function Ba(e,t){return null!=e&&dt.call(e,t)}function Na(e,t){return null!=e&&t in nt(e)}function Fa(e,t,r){return e>=Jt(t,r)&&e<Xt(t,r)}function Va(e,t,n){for(var i=n?gr:pr,o=e[0].length,s=e.length,u=s,l=a(s),f=1/0,c=[];u--;){var d=e[u];u&&t&&(d=vr(d,Ur(t))),f=Jt(d.length,f),l[u]=!n&&(t||o>=120&&d.length>=120)?new Xn(u&&d):r}d=e[0];var h=-1,p=l[0];e:for(;++h<o&&c.length<f;){var g=d[h],v=t?t(g):g;if(g=n||0!==g?g:0,!(p?Nr(p,v):i(c,v,n))){for(u=s;--u;){var _=l[u];if(!(_?Nr(_,v):i(e[u],v,n)))continue e}p&&p.push(v),c.push(g)}}return c}function za(e,t,r,n){return Oa(e,(function(e,a,i){t(n,r(e),a,i)})),n}function qa(e,t,n){var a=null==(e=ws(e,t=qi(t,e)))?e:e[Ps(au(t))];return null==a?r:ur(a,e,n)}function Wa(e){return If(e)&&Ma(e)==z}function Za(e){return If(e)&&Ma(e)==fe}function Ga(e){return If(e)&&Ma(e)==G}function Ha(e,t,r,n,a){return e===t||(null==e||null==t||!If(e)&&!If(t)?e!=e&&t!=t:Ya(e,t,r,n,Ha,a))}function Ya(e,t,r,n,a,i){var o=uf(e),s=uf(t),u=o?q:Jo(e),l=s?q:Jo(t),f=(u=u==z?ee:u)==ee,c=(l=l==z?ee:l)==ee,d=u==l;if(d&&hf(e)){if(!hf(t))return!1;o=!0,f=!1}if(d&&!f)return i||(i=new Kn),o||Ff(e)?Ro(e,t,r,n,a,i):Mo(e,t,u,r,n,a,i);if(!(r&g)){var h=f&&dt.call(e,"__wrapped__"),p=c&&dt.call(t,"__wrapped__");if(h||p){var v=h?e.value():e,_=p?t.value():t;return i||(i=new Kn),a(v,_,r,n,i)}}return!!d&&(i||(i=new Kn),Uo(e,t,r,n,a,i))}function Xa(e){return If(e)&&Jo(e)==J}function $a(e,t,n,a){var i=n.length,o=i,s=!a;if(null==e)return!o;for(e=nt(e);i--;){var u=n[i];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<o;){var l=(u=n[i])[0],f=e[l],c=u[1];if(s&&u[2]){if(f===r&&!(l in e))return!1}else{var d=new Kn;if(a)var h=a(f,c,l,e,t,d);if(!(h===r?Ha(c,f,g|v,a,d):h))return!1}}return!0}function Ja(e){return!(!jf(e)||cs(e))&&(wf(e)?mt:Ye).test(Os(e))}function Ka(e){return If(e)&&Ma(e)==ne}function Qa(e){return If(e)&&Jo(e)==ae}function ei(e){return If(e)&&xf(e.length)&&!!Ft[Ma(e)]}function ti(e){return"function"==typeof e?e:null==e?Pd:"object"==typeof e?uf(e)?si(e[0],e[1]):oi(e):qd(e)}function ri(e){if(!hs(e))return Yt(e);var t=[];for(var r in nt(e))dt.call(e,r)&&"constructor"!=r&&t.push(r);return t}function ni(e){if(!jf(e))return ms(e);var t=hs(e),r=[];for(var n in e)("constructor"!=n||!t&&dt.call(e,n))&&r.push(n);return r}function ai(e,t){return e<t}function ii(e,t){var r=-1,n=ff(e)?a(e.length):[];return Ea(e,(function(e,a,i){n[++r]=t(e,a,i)})),n}function oi(e){var t=Go(e);return 1==t.length&&t[0][2]?gs(t[0][0],t[0][1]):function(r){return r===e||$a(r,e,t)}}function si(e,t){return us(e)&&ps(t)?gs(Ps(e),t):function(n){var a=vc(n,e);return a===r&&a===t?mc(n,e):Ha(t,a,g|v)}}function ui(e,t,n,a,i){e!==t&&ka(t,(function(o,s){if(jf(o))i||(i=new Kn),li(e,t,s,n,ui,a,i);else{var u=a?a(Qr(e,s),o,s+"",e,t,i):r;u===r&&(u=o),ua(e,s,u)}}),xc)}function li(e,t,n,a,i,o,s){var u=Qr(e,n),l=Qr(t,n),f=s.get(l);if(f)ua(e,n,f);else{var c=o?o(u,l,n+"",e,t,s):r,d=c===r;if(d){var h=uf(l),p=!h&&hf(l),g=!h&&!p&&Ff(l);c=l,h||p||g?uf(u)?c=u:cf(u)?c=no(u):p?(d=!1,c=Hi(l,!0)):g?(d=!1,c=Ki(l,!0)):c=[]:Cf(l)||sf(l)?(c=u,sf(u)?c=Jf(u):(!jf(u)||a&&wf(u))&&(c=rs(l))):d=!1}d&&(s.set(l,c),i(c,l,a,o,s),s.delete(l)),ua(e,n,c)}}function fi(e,t){var n=e.length;if(n)return os(t+=t<0?n:0,n)?e[t]:r}function ci(e,t,r){var n=-1;return t=vr(t.length?t:[Pd],Ur(Wo())),Lr(ii(e,(function(e,r,a){return{criteria:vr(t,(function(t){return t(e)})),index:++n,value:e}})),(function(e,t){return eo(e,t,r)}))}function di(e,t){return hi(e,t,(function(t,r){return mc(e,r)}))}function hi(e,t,r){for(var n=-1,a=t.length,i={};++n<a;){var o=t[n],s=Ca(e,o);r(s,o)&&xi(i,qi(o,e),s)}return i}function pi(e){return function(t){return Ca(t,e)}}function gi(e,t,r,n){var a=n?Tr:Ar,i=-1,o=t.length,s=e;for(e===t&&(t=no(t)),r&&(s=vr(e,Ur(r)));++i<o;)for(var u=0,l=t[i],f=r?r(l):l;(u=a(s,f,u,n))>-1;)s!==e&&At.call(s,u,1),At.call(e,u,1);return e}function vi(e,t){for(var r=e?t.length:0,n=r-1;r--;){var a=t[r];if(r==n||a!==i){var i=a;os(a)?At.call(e,a,1):Ri(e,a)}}return e}function _i(e,t){return e+Ut(tr()*(t-e+1))}function mi(e,t,r,n){for(var i=-1,o=Xt(Mt((t-e)/(r||1)),0),s=a(o);o--;)s[n?o:++i]=e,e+=r;return s}function yi(e,t){var r="";if(!e||t<1||t>R)return r;do{t%2&&(r+=e),(t=Ut(t/2))&&(e+=e)}while(t);return r}function bi(e,t){return Is(bs(e,t,Pd),e+"")}function wi(e){return ia(Vc(e))}function Ei(e,t){var r=Vc(e);return Ss(r,va(t,0,r.length))}function xi(e,t,n,a){if(!jf(e))return e;for(var i=-1,o=(t=qi(t,e)).length,s=o-1,u=e;null!=u&&++i<o;){var l=Ps(t[i]),f=n;if(i!=s){var c=u[l];(f=a?a(c,l,u):r)===r&&(f=jf(c)?c:os(t[i+1])?[]:{})}la(u,l,f),u=u[l]}return e}var ji=hn?function(e,t){return hn.set(e,t),e}:Pd,Ii=Pt?function(e,t){return Pt(e,"toString",{configurable:!0,enumerable:!1,value:Ad(t),writable:!0})}:Pd;function Ai(e){return Ss(Vc(e))}function Ti(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=a(i);++n<i;)o[n]=e[n+t];return o}function Si(e,t){var r;return Ea(e,(function(e,n,a){return!(r=t(e,n,a))})),!!r}function ki(e,t,r){var n=0,a=null==e?n:e.length;if("number"==typeof t&&t==t&&a<=F){for(;n<a;){var i=n+a>>>1,o=e[i];null!==o&&!Nf(o)&&(r?o<=t:o<t)?n=i+1:a=i}return a}return Pi(e,t,Pd,r)}function Pi(e,t,n,a){t=n(t);for(var i=0,o=null==e?0:e.length,s=t!=t,u=null===t,l=Nf(t),f=t===r;i<o;){var c=Ut((i+o)/2),d=n(e[c]),h=d!==r,p=null===d,g=d==d,v=Nf(d);if(s)var _=a||g;else _=f?g&&(a||h):u?g&&h&&(a||!p):l?g&&h&&!p&&(a||!v):!p&&!v&&(a?d<=t:d<t);_?i=c+1:o=c}return Jt(o,N)}function Oi(e,t){for(var r=-1,n=e.length,a=0,i=[];++r<n;){var o=e[r],s=t?t(o):o;if(!r||!nf(s,u)){var u=s;i[a++]=0===o?0:o}}return i}function Di(e){return"number"==typeof e?e:Nf(e)?U:+e}function Li(e){if("string"==typeof e)return e;if(uf(e))return vr(e,Li)+"";if(Nf(e))return En?En.call(e):"";var t=e+"";return"0"==t&&1/e==-C?"-0":t}function Ci(e,t,r){var n=-1,a=pr,i=e.length,s=!0,u=[],l=u;if(r)s=!1,a=gr;else if(i>=o){var f=t?null:ko(e);if(f)return en(f);s=!1,a=Nr,l=new Xn}else l=t?[]:u;e:for(;++n<i;){var c=e[n],d=t?t(c):c;if(c=r||0!==c?c:0,s&&d==d){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),u.push(c)}else a(l,d,r)||(l!==u&&l.push(d),u.push(c))}return u}function Ri(e,t){return null==(e=ws(e,t=qi(t,e)))||delete e[Ps(au(t))]}function Mi(e,t,r,n){return xi(e,t,r(Ca(e,t)),n)}function Ui(e,t,r,n){for(var a=e.length,i=n?a:-1;(n?i--:++i<a)&&t(e[i],i,e););return r?Ti(e,n?0:i,n?i+1:a):Ti(e,n?i+1:0,n?a:i)}function Bi(e,t){var r=e;return r instanceof Tn&&(r=r.value()),mr(t,(function(e,t){return t.func.apply(t.thisArg,_r([e],t.args))}),r)}function Ni(e,t,r){var n=e.length;if(n<2)return n?Ci(e[0]):[];for(var i=-1,o=a(n);++i<n;)for(var s=e[i],u=-1;++u<n;)u!=i&&(o[i]=wa(o[i]||s,e[u],t,r));return Ci(Sa(o,1),t,r)}function Fi(e,t,n){for(var a=-1,i=e.length,o=t.length,s={};++a<i;){var u=a<o?t[a]:r;n(s,e[a],u)}return s}function Vi(e){return cf(e)?e:[]}function zi(e){return"function"==typeof e?e:Pd}function qi(e,t){return uf(e)?e:us(e,t)?[e]:ks(Qf(e))}var Wi=bi;function Zi(e,t,n){var a=e.length;return n=n===r?a:n,!t&&n>=a?e:Ti(e,t,n)}var Gi=Ot||function(e){return $t.clearTimeout(e)};function Hi(e,t){if(t)return e.slice();var r=e.length,n=Et?Et(r):new e.constructor(r);return e.copy(n),n}function Yi(e){var t=new e.constructor(e.byteLength);return new wt(t).set(new wt(e)),t}function Xi(e,t){var r=t?Yi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}function $i(e){var t=new e.constructor(e.source,Ze.exec(e));return t.lastIndex=e.lastIndex,t}function Ji(e){return wn?nt(wn.call(e)):{}}function Ki(e,t){var r=t?Yi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Qi(e,t){if(e!==t){var n=e!==r,a=null===e,i=e==e,o=Nf(e),s=t!==r,u=null===t,l=t==t,f=Nf(t);if(!u&&!f&&!o&&e>t||o&&s&&l&&!u&&!f||a&&s&&l||!n&&l||!i)return 1;if(!a&&!o&&!f&&e<t||f&&n&&i&&!a&&!o||u&&n&&i||!s&&i||!l)return-1}return 0}function eo(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,s=r.length;++n<o;){var u=Qi(a[n],i[n]);if(u)return n>=s?u:u*("desc"==r[n]?-1:1)}return e.index-t.index}function to(e,t,r,n){for(var i=-1,o=e.length,s=r.length,u=-1,l=t.length,f=Xt(o-s,0),c=a(l+f),d=!n;++u<l;)c[u]=t[u];for(;++i<s;)(d||i<o)&&(c[r[i]]=e[i]);for(;f--;)c[u++]=e[i++];return c}function ro(e,t,r,n){for(var i=-1,o=e.length,s=-1,u=r.length,l=-1,f=t.length,c=Xt(o-u,0),d=a(c+f),h=!n;++i<c;)d[i]=e[i];for(var p=i;++l<f;)d[p+l]=t[l];for(;++s<u;)(h||i<o)&&(d[p+r[s]]=e[i++]);return d}function no(e,t){var r=-1,n=e.length;for(t||(t=a(n));++r<n;)t[r]=e[r];return t}function ao(e,t,n,a){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var u=t[o],l=a?a(n[u],e[u],u,n,e):r;l===r&&(l=e[u]),i?pa(n,u,l):la(n,u,l)}return n}function io(e,t){return ao(e,Xo(e),t)}function oo(e,t){return ao(e,$o(e),t)}function so(e,t){return function(r,n){var a=uf(r)?lr:ca,i=t?t():{};return a(r,e,Wo(n,2),i)}}function uo(e){return bi((function(t,n){var a=-1,i=n.length,o=i>1?n[i-1]:r,s=i>2?n[2]:r;for(o=e.length>3&&"function"==typeof o?(i--,o):r,s&&ss(n[0],n[1],s)&&(o=i<3?r:o,i=1),t=nt(t);++a<i;){var u=n[a];u&&e(t,u,a,o)}return t}))}function lo(e,t){return function(r,n){if(null==r)return r;if(!ff(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=nt(r);(t?i--:++i<a)&&!1!==n(o[i],i,o););return r}}function fo(e){return function(t,r,n){for(var a=-1,i=nt(t),o=n(t),s=o.length;s--;){var u=o[e?s:++a];if(!1===r(i[u],u,i))break}return t}}function co(e,t,r){var n=t&_,a=go(e);function i(){return(this&&this!==$t&&this instanceof i?a:e).apply(n?r:this,arguments)}return i}function ho(e){return function(t){var n=Hr(t=Qf(t))?on(t):r,a=n?n[0]:t.charAt(0),i=n?Zi(n,1).join(""):t.slice(1);return a[e]()+i}}function po(e){return function(t){return mr(wd(Yc(t).replace(Dt,"")),e,"")}}function go(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=jn(e.prototype),n=e.apply(r,t);return jf(n)?n:r}}function vo(e,t,n){var i=go(e);function o(){for(var s=arguments.length,u=a(s),l=s,f=qo(o);l--;)u[l]=arguments[l];var c=s<3&&u[0]!==f&&u[s-1]!==f?[]:Kr(u,f);return(s-=c.length)<n?To(e,t,yo,o.placeholder,r,u,c,r,r,n-s):ur(this&&this!==$t&&this instanceof o?i:e,this,u)}return o}function _o(e){return function(t,n,a){var i=nt(t);if(!ff(t)){var o=Wo(n,3);t=Ec(t),n=function(e){return o(i[e],e,i)}}var s=e(t,n,a);return s>-1?i[o?t[s]:s]:r}}function mo(e){return Bo((function(t){var n=t.length,a=n,i=An.prototype.thru;for(e&&t.reverse();a--;){var o=t[a];if("function"!=typeof o)throw new ot(u);if(i&&!s&&"wrapper"==zo(o))var s=new An([],!0)}for(a=s?a:n;++a<n;){var l=zo(o=t[a]),f="wrapper"==l?Vo(o):r;s=f&&fs(f[0])&&f[1]==(j|b|E|I)&&!f[4].length&&1==f[9]?s[zo(f[0])].apply(s,f[3]):1==o.length&&fs(o)?s[l]():s.thru(o)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&uf(r))return s.plant(r).value();for(var a=0,i=n?t[a].apply(this,e):r;++a<n;)i=t[a].call(this,i);return i}}))}function yo(e,t,n,i,o,s,u,l,f,c){var d=t&j,h=t&_,p=t&m,g=t&(b|w),v=t&A,y=p?r:go(e);function E(){for(var r=arguments.length,_=a(r),m=r;m--;)_[m]=arguments[m];if(g)var b=qo(E),w=zr(_,b);if(i&&(_=to(_,i,o,g)),s&&(_=ro(_,s,u,g)),r-=w,g&&r<c){var x=Kr(_,b);return To(e,t,yo,E.placeholder,n,_,x,l,f,c-r)}var j=h?n:this,I=p?j[e]:e;return r=_.length,l?_=Es(_,l):v&&r>1&&_.reverse(),d&&f<r&&(_.length=f),this&&this!==$t&&this instanceof E&&(I=y||go(I)),I.apply(j,_)}return E}function bo(e,t){return function(r,n){return za(r,e,t(n),{})}}function wo(e,t){return function(n,a){var i;if(n===r&&a===r)return t;if(n!==r&&(i=n),a!==r){if(i===r)return a;"string"==typeof n||"string"==typeof a?(n=Li(n),a=Li(a)):(n=Di(n),a=Di(a)),i=e(n,a)}return i}}function Eo(e){return Bo((function(t){return t=vr(t,Ur(Wo())),bi((function(r){var n=this;return e(t,(function(e){return ur(e,n,r)}))}))}))}function xo(e,t){var n=(t=t===r?" ":Li(t)).length;if(n<2)return n?yi(t,e):t;var a=yi(t,Mt(e/an(t)));return Hr(t)?Zi(on(a),0,e).join(""):a.slice(0,e)}function jo(e,t,r,n){var i=t&_,o=go(e);function s(){for(var t=-1,u=arguments.length,l=-1,f=n.length,c=a(f+u),d=this&&this!==$t&&this instanceof s?o:e;++l<f;)c[l]=n[l];for(;u--;)c[l++]=arguments[++t];return ur(d,i?r:this,c)}return s}function Io(e){return function(t,n,a){return a&&"number"!=typeof a&&ss(t,n,a)&&(n=a=r),t=Hf(t),n===r?(n=t,t=0):n=Hf(n),mi(t,n,a=a===r?t<n?1:-1:Hf(a),e)}}function Ao(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=$f(t),r=$f(r)),e(t,r)}}function To(e,t,n,a,i,o,s,u,l,f){var c=t&b;t|=c?E:x,(t&=~(c?x:E))&y||(t&=~(_|m));var d=[e,t,i,c?o:r,c?s:r,c?r:o,c?r:s,u,l,f],h=n.apply(r,d);return fs(e)&&xs(h,d),h.placeholder=a,As(h,e,t)}function So(e){var t=rt[e];return function(e,r){if(e=$f(e),r=null==r?0:Jt(Yf(r),292)){var n=(Qf(e)+"e").split("e");return+((n=(Qf(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var ko=un&&1/en(new un([,-0]))[1]==C?function(e){return new un(e)}:Bd;function Po(e){return function(t){var r=Jo(t);return r==J?$r(t):r==ae?tn(t):Mr(t,e(t))}}function Oo(e,t,n,a,i,o,s,l){var f=t&m;if(!f&&"function"!=typeof e)throw new ot(u);var c=a?a.length:0;if(c||(t&=~(E|x),a=i=r),s=s===r?s:Xt(Yf(s),0),l=l===r?l:Yf(l),c-=i?i.length:0,t&x){var d=a,h=i;a=i=r}var p=f?r:Vo(e),g=[e,t,n,a,i,d,h,o,s,l];if(p&&_s(g,p),e=g[0],t=g[1],n=g[2],a=g[3],i=g[4],!(l=g[9]=g[9]===r?f?0:e.length:Xt(g[9]-c,0))&&t&(b|w)&&(t&=~(b|w)),t&&t!=_)v=t==b||t==w?vo(e,t,l):t!=E&&t!=(_|E)||i.length?yo.apply(r,g):jo(e,t,n,a);else var v=co(e,t,n);return As((p?ji:xs)(v,g),e,t)}function Do(e,t,n,a){return e===r||nf(e,lt[n])&&!dt.call(a,n)?t:e}function Lo(e,t,n,a,i,o){return jf(e)&&jf(t)&&(o.set(t,e),ui(e,t,r,Lo,o),o.delete(t)),e}function Co(e){return Cf(e)?r:e}function Ro(e,t,n,a,i,o){var s=n&g,u=e.length,l=t.length;if(u!=l&&!(s&&l>u))return!1;var f=o.get(e);if(f&&o.get(t))return f==t;var c=-1,d=!0,h=n&v?new Xn:r;for(o.set(e,t),o.set(t,e);++c<u;){var p=e[c],_=t[c];if(a)var m=s?a(_,p,c,t,e,o):a(p,_,c,e,t,o);if(m!==r){if(m)continue;d=!1;break}if(h){if(!br(t,(function(e,t){if(!Nr(h,t)&&(p===e||i(p,e,n,a,o)))return h.push(t)}))){d=!1;break}}else if(p!==_&&!i(p,_,n,a,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function Mo(e,t,r,n,a,i,o){switch(r){case ce:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case fe:return!(e.byteLength!=t.byteLength||!i(new wt(e),new wt(t)));case Z:case G:case K:return nf(+e,+t);case Y:return e.name==t.name&&e.message==t.message;case ne:case ie:return e==t+"";case J:var s=$r;case ae:var u=n&g;if(s||(s=en),e.size!=t.size&&!u)return!1;var l=o.get(e);if(l)return l==t;n|=v,o.set(e,t);var f=Ro(s(e),s(t),n,a,i,o);return o.delete(e),f;case oe:if(wn)return wn.call(e)==wn.call(t)}return!1}function Uo(e,t,n,a,i,o){var s=n&g,u=No(e),l=u.length;if(l!=No(t).length&&!s)return!1;for(var f=l;f--;){var c=u[f];if(!(s?c in t:dt.call(t,c)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var h=!0;o.set(e,t),o.set(t,e);for(var p=s;++f<l;){var v=e[c=u[f]],_=t[c];if(a)var m=s?a(_,v,c,t,e,o):a(v,_,c,e,t,o);if(!(m===r?v===_||i(v,_,n,a,o):m)){h=!1;break}p||(p="constructor"==c)}if(h&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(h=!1)}return o.delete(e),o.delete(t),h}function Bo(e){return Is(bs(e,r,Hs),e+"")}function No(e){return Ra(e,Ec,Xo)}function Fo(e){return Ra(e,xc,$o)}var Vo=hn?function(e){return hn.get(e)}:Bd;function zo(e){for(var t=e.name+"",r=pn[t],n=dt.call(pn,t)?r.length:0;n--;){var a=r[n],i=a.func;if(null==i||i==e)return a.name}return t}function qo(e){return(dt.call(xn,"placeholder")?xn:e).placeholder}function Wo(){var e=xn.iteratee||Od;return e=e===Od?ti:e,arguments.length?e(arguments[0],arguments[1]):e}function Zo(e,t){var r=e.__data__;return ls(t)?r["string"==typeof t?"string":"hash"]:r.map}function Go(e){for(var t=Ec(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,ps(a)]}return t}function Ho(e,t){var n=Gr(e,t);return Ja(n)?n:r}function Yo(e){var t=dt.call(e,kt),n=e[kt];try{e[kt]=r;var a=!0}catch(e){}var i=gt.call(e);return a&&(t?e[kt]=n:delete e[kt]),i}var Xo=zt?function(e){return null==e?[]:(e=nt(e),hr(zt(e),(function(t){return It.call(e,t)})))}:Hd,$o=zt?function(e){for(var t=[];e;)_r(t,Xo(e)),e=xt(e);return t}:Hd,Jo=Ma;function Ko(e,t,r){for(var n=-1,a=r.length;++n<a;){var i=r[n],o=i.size;switch(i.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=Jt(t,e+o);break;case"takeRight":e=Xt(e,t-o)}}return{start:e,end:t}}function Qo(e){var t=e.match(Fe);return t?t[1].split(Ve):[]}function es(e,t,r){for(var n=-1,a=(t=qi(t,e)).length,i=!1;++n<a;){var o=Ps(t[n]);if(!(i=null!=e&&r(e,o)))break;e=e[o]}return i||++n!=a?i:!!(a=null==e?0:e.length)&&xf(a)&&os(o,a)&&(uf(e)||sf(e))}function ts(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&dt.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function rs(e){return"function"!=typeof e.constructor||hs(e)?{}:jn(xt(e))}function ns(e,t,r){var n=e.constructor;switch(t){case fe:return Yi(e);case Z:case G:return new n(+e);case ce:return Xi(e,r);case de:case he:case pe:case ge:case ve:case _e:case me:case ye:case be:return Ki(e,r);case J:return new n;case K:case ie:return new n(e);case ne:return $i(e);case ae:return new n;case oe:return Ji(e)}}function as(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(Ne,"{\n/* [wrapped with "+t+"] */\n")}function is(e){return uf(e)||sf(e)||!!(Tt&&e&&e[Tt])}function os(e,t){var r=typeof e;return!!(t=null==t?R:t)&&("number"==r||"symbol"!=r&&$e.test(e))&&e>-1&&e%1==0&&e<t}function ss(e,t,r){if(!jf(r))return!1;var n=typeof t;return!!("number"==n?ff(r)&&os(t,r.length):"string"==n&&t in r)&&nf(r[t],e)}function us(e,t){if(uf(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!Nf(e))||De.test(e)||!Oe.test(e)||null!=t&&e in nt(t)}function ls(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function fs(e){var t=zo(e),r=xn[t];if("function"!=typeof r||!(t in Tn.prototype))return!1;if(e===r)return!0;var n=Vo(r);return!!n&&e===n[0]}function cs(e){return!!pt&&pt in e}(Er&&Jo(new Er(new ArrayBuffer(1)))!=ce||Or&&Jo(new Or)!=J||rn&&Jo(rn.resolve())!=te||un&&Jo(new un)!=ae||ln&&Jo(new ln)!=ue)&&(Jo=function(e){var t=Ma(e),n=t==ee?e.constructor:r,a=n?Os(n):"";if(a)switch(a){case gn:return ce;case vn:return J;case _n:return te;case mn:return ae;case yn:return ue}return t});var ds=ft?wf:Yd;function hs(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||lt)}function ps(e){return e==e&&!jf(e)}function gs(e,t){return function(n){return null!=n&&n[e]===t&&(t!==r||e in nt(n))}}function vs(e){var t=Nl(e,(function(e){return r.size===f&&r.clear(),e})),r=t.cache;return t}function _s(e,t){var r=e[1],n=t[1],a=r|n,i=a<(_|m|j),o=n==j&&r==b||n==j&&r==I&&e[7].length<=t[8]||n==(j|I)&&t[7].length<=t[8]&&r==b;if(!i&&!o)return e;n&_&&(e[2]=t[2],a|=r&_?0:y);var s=t[3];if(s){var u=e[3];e[3]=u?to(u,s,t[4]):s,e[4]=u?Kr(e[3],c):t[4]}return(s=t[5])&&(u=e[5],e[5]=u?ro(u,s,t[6]):s,e[6]=u?Kr(e[5],c):t[6]),(s=t[7])&&(e[7]=s),n&j&&(e[8]=null==e[8]?t[8]:Jt(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=a,e}function ms(e){var t=[];if(null!=e)for(var r in nt(e))t.push(r);return t}function ys(e){return gt.call(e)}function bs(e,t,n){return t=Xt(t===r?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=Xt(r.length-t,0),s=a(o);++i<o;)s[i]=r[t+i];i=-1;for(var u=a(t+1);++i<t;)u[i]=r[i];return u[t]=n(s),ur(e,this,u)}}function ws(e,t){return t.length<2?e:Ca(e,Ti(t,0,-1))}function Es(e,t){for(var n=e.length,a=Jt(t.length,n),i=no(e);a--;){var o=t[a];e[a]=os(o,n)?i[o]:r}return e}var xs=Ts(ji),js=Rt||function(e,t){return $t.setTimeout(e,t)},Is=Ts(Ii);function As(e,t,r){var n=t+"";return Is(e,as(n,Ds(Qo(n),r)))}function Ts(e){var t=0,n=0;return function(){var a=Kt(),i=P-(a-n);if(n=a,i>0){if(++t>=k)return arguments[0]}else t=0;return e.apply(r,arguments)}}function Ss(e,t){var n=-1,a=e.length,i=a-1;for(t=t===r?a:t;++n<t;){var o=_i(n,i),s=e[o];e[o]=e[n],e[n]=s}return e.length=t,e}var ks=vs((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Le,(function(e,r,n,a){t.push(n?a.replace(qe,"$1"):r||e)})),t}));function Ps(e){if("string"==typeof e||Nf(e))return e;var t=e+"";return"0"==t&&1/e==-C?"-0":t}function Os(e){if(null!=e){try{return ct.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ds(e,t){return fr(V,(function(r){var n="_."+r[0];t&r[1]&&!pr(e,n)&&e.push(n)})),e.sort()}function Ls(e){if(e instanceof Tn)return e.clone();var t=new An(e.__wrapped__,e.__chain__);return t.__actions__=no(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Cs(e,t,n){t=(n?ss(e,t,n):t===r)?1:Xt(Yf(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var o=0,s=0,u=a(Mt(i/t));o<i;)u[s++]=Ti(e,o,o+=t);return u}function Rs(e){for(var t=-1,r=null==e?0:e.length,n=0,a=[];++t<r;){var i=e[t];i&&(a[n++]=i)}return a}function Ms(){var e=arguments.length;if(!e)return[];for(var t=a(e-1),r=arguments[0],n=e;n--;)t[n-1]=arguments[n];return _r(uf(r)?no(r):[r],Sa(t,1))}var Us=bi((function(e,t){return cf(e)?wa(e,Sa(t,1,cf,!0)):[]})),Bs=bi((function(e,t){var n=au(t);return cf(n)&&(n=r),cf(e)?wa(e,Sa(t,1,cf,!0),Wo(n,2)):[]})),Ns=bi((function(e,t){var n=au(t);return cf(n)&&(n=r),cf(e)?wa(e,Sa(t,1,cf,!0),r,n):[]}));function Fs(e,t,n){var a=null==e?0:e.length;return a?Ti(e,(t=n||t===r?1:Yf(t))<0?0:t,a):[]}function Vs(e,t,n){var a=null==e?0:e.length;return a?Ti(e,0,(t=a-(t=n||t===r?1:Yf(t)))<0?0:t):[]}function zs(e,t){return e&&e.length?Ui(e,Wo(t,3),!0,!0):[]}function qs(e,t){return e&&e.length?Ui(e,Wo(t,3),!0):[]}function Ws(e,t,r,n){var a=null==e?0:e.length;return a?(r&&"number"!=typeof r&&ss(e,t,r)&&(r=0,n=a),Aa(e,t,r,n)):[]}function Zs(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var a=null==r?0:Yf(r);return a<0&&(a=Xt(n+a,0)),Ir(e,Wo(t,3),a)}function Gs(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var i=a-1;return n!==r&&(i=Yf(n),i=n<0?Xt(a+i,0):Jt(i,a-1)),Ir(e,Wo(t,3),i,!0)}function Hs(e){return null!=e&&e.length?Sa(e,1):[]}function Ys(e){return null!=e&&e.length?Sa(e,C):[]}function Xs(e,t){return null!=e&&e.length?Sa(e,t=t===r?1:Yf(t)):[]}function $s(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var a=e[t];n[a[0]]=a[1]}return n}function Js(e){return e&&e.length?e[0]:r}function Ks(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var a=null==r?0:Yf(r);return a<0&&(a=Xt(n+a,0)),Ar(e,t,a)}function Qs(e){return null!=e&&e.length?Ti(e,0,-1):[]}var eu=bi((function(e){var t=vr(e,Vi);return t.length&&t[0]===e[0]?Va(t):[]})),tu=bi((function(e){var t=au(e),n=vr(e,Vi);return t===au(n)?t=r:n.pop(),n.length&&n[0]===e[0]?Va(n,Wo(t,2)):[]})),ru=bi((function(e){var t=au(e),n=vr(e,Vi);return(t="function"==typeof t?t:r)&&n.pop(),n.length&&n[0]===e[0]?Va(n,r,t):[]}));function nu(e,t){return null==e?"":Zt.call(e,t)}function au(e){var t=null==e?0:e.length;return t?e[t-1]:r}function iu(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var i=a;return n!==r&&(i=(i=Yf(n))<0?Xt(a+i,0):Jt(i,a-1)),t==t?nn(e,t,i):Ir(e,Sr,i,!0)}function ou(e,t){return e&&e.length?fi(e,Yf(t)):r}var su=bi(uu);function uu(e,t){return e&&e.length&&t&&t.length?gi(e,t):e}function lu(e,t,r){return e&&e.length&&t&&t.length?gi(e,t,Wo(r,2)):e}function fu(e,t,n){return e&&e.length&&t&&t.length?gi(e,t,r,n):e}var cu=Bo((function(e,t){var r=null==e?0:e.length,n=ga(e,t);return vi(e,vr(t,(function(e){return os(e,r)?+e:e})).sort(Qi)),n}));function du(e,t){var r=[];if(!e||!e.length)return r;var n=-1,a=[],i=e.length;for(t=Wo(t,3);++n<i;){var o=e[n];t(o,n,e)&&(r.push(o),a.push(n))}return vi(e,a),r}function hu(e){return null==e?e:wr.call(e)}function pu(e,t,n){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&ss(e,t,n)?(t=0,n=a):(t=null==t?0:Yf(t),n=n===r?a:Yf(n)),Ti(e,t,n)):[]}function gu(e,t){return ki(e,t)}function vu(e,t,r){return Pi(e,t,Wo(r,2))}function _u(e,t){var r=null==e?0:e.length;if(r){var n=ki(e,t);if(n<r&&nf(e[n],t))return n}return-1}function mu(e,t){return ki(e,t,!0)}function yu(e,t,r){return Pi(e,t,Wo(r,2),!0)}function bu(e,t){if(null!=e&&e.length){var r=ki(e,t,!0)-1;if(nf(e[r],t))return r}return-1}function wu(e){return e&&e.length?Oi(e):[]}function Eu(e,t){return e&&e.length?Oi(e,Wo(t,2)):[]}function xu(e){var t=null==e?0:e.length;return t?Ti(e,1,t):[]}function ju(e,t,n){return e&&e.length?Ti(e,0,(t=n||t===r?1:Yf(t))<0?0:t):[]}function Iu(e,t,n){var a=null==e?0:e.length;return a?Ti(e,(t=a-(t=n||t===r?1:Yf(t)))<0?0:t,a):[]}function Au(e,t){return e&&e.length?Ui(e,Wo(t,3),!1,!0):[]}function Tu(e,t){return e&&e.length?Ui(e,Wo(t,3)):[]}var Su=bi((function(e){return Ci(Sa(e,1,cf,!0))})),ku=bi((function(e){var t=au(e);return cf(t)&&(t=r),Ci(Sa(e,1,cf,!0),Wo(t,2))})),Pu=bi((function(e){var t=au(e);return t="function"==typeof t?t:r,Ci(Sa(e,1,cf,!0),r,t)}));function Ou(e){return e&&e.length?Ci(e):[]}function Du(e,t){return e&&e.length?Ci(e,Wo(t,2)):[]}function Lu(e,t){return t="function"==typeof t?t:r,e&&e.length?Ci(e,r,t):[]}function Cu(e){if(!e||!e.length)return[];var t=0;return e=hr(e,(function(e){if(cf(e))return t=Xt(e.length,t),!0})),Rr(t,(function(t){return vr(e,Pr(t))}))}function Ru(e,t){if(!e||!e.length)return[];var n=Cu(e);return null==t?n:vr(n,(function(e){return ur(t,r,e)}))}var Mu=bi((function(e,t){return cf(e)?wa(e,t):[]})),Uu=bi((function(e){return Ni(hr(e,cf))})),Bu=bi((function(e){var t=au(e);return cf(t)&&(t=r),Ni(hr(e,cf),Wo(t,2))})),Nu=bi((function(e){var t=au(e);return t="function"==typeof t?t:r,Ni(hr(e,cf),r,t)})),Fu=bi(Cu);function Vu(e,t){return Fi(e||[],t||[],la)}function zu(e,t){return Fi(e||[],t||[],xi)}var qu=bi((function(e){var t=e.length,n=t>1?e[t-1]:r;return n="function"==typeof n?(e.pop(),n):r,Ru(e,n)}));function Wu(e){var t=xn(e);return t.__chain__=!0,t}function Zu(e,t){return t(e),e}function Gu(e,t){return t(e)}var Hu=Bo((function(e){var t=e.length,n=t?e[0]:0,a=this.__wrapped__,i=function(t){return ga(t,e)};return!(t>1||this.__actions__.length)&&a instanceof Tn&&os(n)?((a=a.slice(n,+n+(t?1:0))).__actions__.push({func:Gu,args:[i],thisArg:r}),new An(a,this.__chain__).thru((function(e){return t&&!e.length&&e.push(r),e}))):this.thru(i)}));function Yu(){return Wu(this)}function Xu(){return new An(this.value(),this.__chain__)}function $u(){this.__values__===r&&(this.__values__=Gf(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?r:this.__values__[this.__index__++]}}function Ju(){return this}function Ku(e){for(var t,n=this;n instanceof In;){var a=Ls(n);a.__index__=0,a.__values__=r,t?i.__wrapped__=a:t=a;var i=a;n=n.__wrapped__}return i.__wrapped__=e,t}function Qu(){var e=this.__wrapped__;if(e instanceof Tn){var t=e;return this.__actions__.length&&(t=new Tn(this)),(t=t.reverse()).__actions__.push({func:Gu,args:[hu],thisArg:r}),new An(t,this.__chain__)}return this.thru(hu)}function el(){return Bi(this.__wrapped__,this.__actions__)}var tl=so((function(e,t,r){dt.call(e,r)?++e[r]:pa(e,r,1)}));function rl(e,t,n){var a=uf(e)?dr:ja;return n&&ss(e,t,n)&&(t=r),a(e,Wo(t,3))}function nl(e,t){return(uf(e)?hr:Ta)(e,Wo(t,3))}var al=_o(Zs),il=_o(Gs);function ol(e,t){return Sa(gl(e,t),1)}function sl(e,t){return Sa(gl(e,t),C)}function ul(e,t,n){return n=n===r?1:Yf(n),Sa(gl(e,t),n)}function ll(e,t){return(uf(e)?fr:Ea)(e,Wo(t,3))}function fl(e,t){return(uf(e)?cr:xa)(e,Wo(t,3))}var cl=so((function(e,t,r){dt.call(e,r)?e[r].push(t):pa(e,r,[t])}));function dl(e,t,r,n){e=ff(e)?e:Vc(e),r=r&&!n?Yf(r):0;var a=e.length;return r<0&&(r=Xt(a+r,0)),Bf(e)?r<=a&&e.indexOf(t,r)>-1:!!a&&Ar(e,t,r)>-1}var hl=bi((function(e,t,r){var n=-1,i="function"==typeof t,o=ff(e)?a(e.length):[];return Ea(e,(function(e){o[++n]=i?ur(t,e,r):qa(e,t,r)})),o})),pl=so((function(e,t,r){pa(e,r,t)}));function gl(e,t){return(uf(e)?vr:ii)(e,Wo(t,3))}function vl(e,t,n,a){return null==e?[]:(uf(t)||(t=null==t?[]:[t]),uf(n=a?r:n)||(n=null==n?[]:[n]),ci(e,t,n))}var _l=so((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]}));function ml(e,t,r){var n=uf(e)?mr:Dr,a=arguments.length<3;return n(e,Wo(t,4),r,a,Ea)}function yl(e,t,r){var n=uf(e)?yr:Dr,a=arguments.length<3;return n(e,Wo(t,4),r,a,xa)}function bl(e,t){return(uf(e)?hr:Ta)(e,Fl(Wo(t,3)))}function wl(e){return(uf(e)?ia:wi)(e)}function El(e,t,n){return t=(n?ss(e,t,n):t===r)?1:Yf(t),(uf(e)?oa:Ei)(e,t)}function xl(e){return(uf(e)?sa:Ai)(e)}function jl(e){if(null==e)return 0;if(ff(e))return Bf(e)?an(e):e.length;var t=Jo(e);return t==J||t==ae?e.size:ri(e).length}function Il(e,t,n){var a=uf(e)?br:Si;return n&&ss(e,t,n)&&(t=r),a(e,Wo(t,3))}var Al=bi((function(e,t){if(null==e)return[];var r=t.length;return r>1&&ss(e,t[0],t[1])?t=[]:r>2&&ss(t[0],t[1],t[2])&&(t=[t[0]]),ci(e,Sa(t,1),[])})),Tl=Ct||function(){return $t.Date.now()};function Sl(e,t){if("function"!=typeof t)throw new ot(u);return e=Yf(e),function(){if(--e<1)return t.apply(this,arguments)}}function kl(e,t,n){return t=n?r:t,t=e&&null==t?e.length:t,Oo(e,j,r,r,r,r,t)}function Pl(e,t){var n;if("function"!=typeof t)throw new ot(u);return e=Yf(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=r),n}}var Ol=bi((function(e,t,r){var n=_;if(r.length){var a=Kr(r,qo(Ol));n|=E}return Oo(e,n,t,r,a)})),Dl=bi((function(e,t,r){var n=_|m;if(r.length){var a=Kr(r,qo(Dl));n|=E}return Oo(t,n,e,r,a)}));function Ll(e,t,n){var a=Oo(e,b,r,r,r,r,r,t=n?r:t);return a.placeholder=Ll.placeholder,a}function Cl(e,t,n){var a=Oo(e,w,r,r,r,r,r,t=n?r:t);return a.placeholder=Cl.placeholder,a}function Rl(e,t,n){var a,i,o,s,l,f,c=0,d=!1,h=!1,p=!0;if("function"!=typeof e)throw new ot(u);function g(t){var n=a,o=i;return a=i=r,c=t,s=e.apply(o,n)}function v(e){return c=e,l=js(y,t),d?g(e):s}function _(e){var r=t-(e-f);return h?Jt(r,o-(e-c)):r}function m(e){var n=e-f;return f===r||n>=t||n<0||h&&e-c>=o}function y(){var e=Tl();if(m(e))return b(e);l=js(y,_(e))}function b(e){return l=r,p&&a?g(e):(a=i=r,s)}function w(){l!==r&&Gi(l),c=0,a=f=i=l=r}function E(){return l===r?s:b(Tl())}function x(){var e=Tl(),n=m(e);if(a=arguments,i=this,f=e,n){if(l===r)return v(f);if(h)return l=js(y,t),g(f)}return l===r&&(l=js(y,t)),s}return t=$f(t)||0,jf(n)&&(d=!!n.leading,o=(h="maxWait"in n)?Xt($f(n.maxWait)||0,t):o,p="trailing"in n?!!n.trailing:p),x.cancel=w,x.flush=E,x}var Ml=bi((function(e,t){return ba(e,1,t)})),Ul=bi((function(e,t,r){return ba(e,$f(t)||0,r)}));function Bl(e){return Oo(e,A)}function Nl(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ot(u);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(Nl.Cache||qn),r}function Fl(e){if("function"!=typeof e)throw new ot(u);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Vl(e){return Pl(2,e)}Nl.Cache=qn;var zl=Wi((function(e,t){var r=(t=1==t.length&&uf(t[0])?vr(t[0],Ur(Wo())):vr(Sa(t,1),Ur(Wo()))).length;return bi((function(n){for(var a=-1,i=Jt(n.length,r);++a<i;)n[a]=t[a].call(this,n[a]);return ur(e,this,n)}))})),ql=bi((function(e,t){var n=Kr(t,qo(ql));return Oo(e,E,r,t,n)})),Wl=bi((function(e,t){var n=Kr(t,qo(Wl));return Oo(e,x,r,t,n)})),Zl=Bo((function(e,t){return Oo(e,I,r,r,r,t)}));function Gl(e,t){if("function"!=typeof e)throw new ot(u);return bi(e,t=t===r?t:Yf(t))}function Hl(e,t){if("function"!=typeof e)throw new ot(u);return t=null==t?0:Xt(Yf(t),0),bi((function(r){var n=r[t],a=Zi(r,0,t);return n&&_r(a,n),ur(e,this,a)}))}function Yl(e,t,r){var n=!0,a=!0;if("function"!=typeof e)throw new ot(u);return jf(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),Rl(e,t,{leading:n,maxWait:t,trailing:a})}function Xl(e){return kl(e,1)}function $l(e,t){return ql(zi(t),e)}function Jl(){if(!arguments.length)return[];var e=arguments[0];return uf(e)?e:[e]}function Kl(e){return _a(e,p)}function Ql(e,t){return _a(e,p,t="function"==typeof t?t:r)}function ef(e){return _a(e,d|p)}function tf(e,t){return _a(e,d|p,t="function"==typeof t?t:r)}function rf(e,t){return null==t||ya(e,t,Ec(t))}function nf(e,t){return e===t||e!=e&&t!=t}var af=Ao(Ua),of=Ao((function(e,t){return e>=t})),sf=Wa(function(){return arguments}())?Wa:function(e){return If(e)&&dt.call(e,"callee")&&!It.call(e,"callee")},uf=a.isArray,lf=rr?Ur(rr):Za;function ff(e){return null!=e&&xf(e.length)&&!wf(e)}function cf(e){return If(e)&&ff(e)}function df(e){return!0===e||!1===e||If(e)&&Ma(e)==Z}var hf=qt||Yd,pf=nr?Ur(nr):Ga;function gf(e){return If(e)&&1===e.nodeType&&!Cf(e)}function vf(e){if(null==e)return!0;if(ff(e)&&(uf(e)||"string"==typeof e||"function"==typeof e.splice||hf(e)||Ff(e)||sf(e)))return!e.length;var t=Jo(e);if(t==J||t==ae)return!e.size;if(hs(e))return!ri(e).length;for(var r in e)if(dt.call(e,r))return!1;return!0}function _f(e,t){return Ha(e,t)}function mf(e,t,n){var a=(n="function"==typeof n?n:r)?n(e,t):r;return a===r?Ha(e,t,r,n):!!a}function yf(e){if(!If(e))return!1;var t=Ma(e);return t==Y||t==H||"string"==typeof e.message&&"string"==typeof e.name&&!Cf(e)}function bf(e){return"number"==typeof e&&Wt(e)}function wf(e){if(!jf(e))return!1;var t=Ma(e);return t==X||t==$||t==W||t==re}function Ef(e){return"number"==typeof e&&e==Yf(e)}function xf(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=R}function jf(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function If(e){return null!=e&&"object"==typeof e}var Af=ar?Ur(ar):Xa;function Tf(e,t){return e===t||$a(e,t,Go(t))}function Sf(e,t,n){return n="function"==typeof n?n:r,$a(e,t,Go(t),n)}function kf(e){return Lf(e)&&e!=+e}function Pf(e){if(ds(e))throw new et(s);return Ja(e)}function Of(e){return null===e}function Df(e){return null==e}function Lf(e){return"number"==typeof e||If(e)&&Ma(e)==K}function Cf(e){if(!If(e)||Ma(e)!=ee)return!1;var t=xt(e);if(null===t)return!0;var r=dt.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&ct.call(r)==vt}var Rf=ir?Ur(ir):Ka;function Mf(e){return Ef(e)&&e>=-R&&e<=R}var Uf=or?Ur(or):Qa;function Bf(e){return"string"==typeof e||!uf(e)&&If(e)&&Ma(e)==ie}function Nf(e){return"symbol"==typeof e||If(e)&&Ma(e)==oe}var Ff=sr?Ur(sr):ei;function Vf(e){return e===r}function zf(e){return If(e)&&Jo(e)==ue}function qf(e){return If(e)&&Ma(e)==le}var Wf=Ao(ai),Zf=Ao((function(e,t){return e<=t}));function Gf(e){if(!e)return[];if(ff(e))return Bf(e)?on(e):no(e);if(St&&e[St])return Xr(e[St]());var t=Jo(e);return(t==J?$r:t==ae?en:Vc)(e)}function Hf(e){return e?(e=$f(e))===C||e===-C?(e<0?-1:1)*M:e==e?e:0:0===e?e:0}function Yf(e){var t=Hf(e),r=t%1;return t==t?r?t-r:t:0}function Xf(e){return e?va(Yf(e),0,B):0}function $f(e){if("number"==typeof e)return e;if(Nf(e))return U;if(jf(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=jf(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Me,"");var r=He.test(e);return r||Xe.test(e)?Ht(e.slice(2),r?2:8):Ge.test(e)?U:+e}function Jf(e){return ao(e,xc(e))}function Kf(e){return e?va(Yf(e),-R,R):0===e?e:0}function Qf(e){return null==e?"":Li(e)}var ec=uo((function(e,t){if(hs(t)||ff(t))ao(t,Ec(t),e);else for(var r in t)dt.call(t,r)&&la(e,r,t[r])})),tc=uo((function(e,t){ao(t,xc(t),e)})),rc=uo((function(e,t,r,n){ao(t,xc(t),e,n)})),nc=uo((function(e,t,r,n){ao(t,Ec(t),e,n)})),ac=Bo(ga);function ic(e,t){var r=jn(e);return null==t?r:da(r,t)}var oc=bi((function(e,t){e=nt(e);var n=-1,a=t.length,i=a>2?t[2]:r;for(i&&ss(t[0],t[1],i)&&(a=1);++n<a;)for(var o=t[n],s=xc(o),u=-1,l=s.length;++u<l;){var f=s[u],c=e[f];(c===r||nf(c,lt[f])&&!dt.call(e,f))&&(e[f]=o[f])}return e})),sc=bi((function(e){return e.push(r,Lo),ur(Tc,r,e)}));function uc(e,t){return jr(e,Wo(t,3),Oa)}function lc(e,t){return jr(e,Wo(t,3),Da)}function fc(e,t){return null==e?e:ka(e,Wo(t,3),xc)}function cc(e,t){return null==e?e:Pa(e,Wo(t,3),xc)}function dc(e,t){return e&&Oa(e,Wo(t,3))}function hc(e,t){return e&&Da(e,Wo(t,3))}function pc(e){return null==e?[]:La(e,Ec(e))}function gc(e){return null==e?[]:La(e,xc(e))}function vc(e,t,n){var a=null==e?r:Ca(e,t);return a===r?n:a}function _c(e,t){return null!=e&&es(e,t,Ba)}function mc(e,t){return null!=e&&es(e,t,Na)}var yc=bo((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=gt.call(t)),e[t]=r}),Ad(Pd)),bc=bo((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=gt.call(t)),dt.call(e,t)?e[t].push(r):e[t]=[r]}),Wo),wc=bi(qa);function Ec(e){return ff(e)?aa(e):ri(e)}function xc(e){return ff(e)?aa(e,!0):ni(e)}function jc(e,t){var r={};return t=Wo(t,3),Oa(e,(function(e,n,a){pa(r,t(e,n,a),e)})),r}function Ic(e,t){var r={};return t=Wo(t,3),Oa(e,(function(e,n,a){pa(r,n,t(e,n,a))})),r}var Ac=uo((function(e,t,r){ui(e,t,r)})),Tc=uo((function(e,t,r,n){ui(e,t,r,n)})),Sc=Bo((function(e,t){var r={};if(null==e)return r;var n=!1;t=vr(t,(function(t){return t=qi(t,e),n||(n=t.length>1),t})),ao(e,Fo(e),r),n&&(r=_a(r,d|h|p,Co));for(var a=t.length;a--;)Ri(r,t[a]);return r}));function kc(e,t){return Oc(e,Fl(Wo(t)))}var Pc=Bo((function(e,t){return null==e?{}:di(e,t)}));function Oc(e,t){if(null==e)return{};var r=vr(Fo(e),(function(e){return[e]}));return t=Wo(t),hi(e,r,(function(e,r){return t(e,r[0])}))}function Dc(e,t,n){var a=-1,i=(t=qi(t,e)).length;for(i||(i=1,e=r);++a<i;){var o=null==e?r:e[Ps(t[a])];o===r&&(a=i,o=n),e=wf(o)?o.call(e):o}return e}function Lc(e,t,r){return null==e?e:xi(e,t,r)}function Cc(e,t,n,a){return a="function"==typeof a?a:r,null==e?e:xi(e,t,n,a)}var Rc=Po(Ec),Mc=Po(xc);function Uc(e,t,r){var n=uf(e),a=n||hf(e)||Ff(e);if(t=Wo(t,4),null==r){var i=e&&e.constructor;r=a?n?new i:[]:jf(e)&&wf(i)?jn(xt(e)):{}}return(a?fr:Oa)(e,(function(e,n,a){return t(r,e,n,a)})),r}function Bc(e,t){return null==e||Ri(e,t)}function Nc(e,t,r){return null==e?e:Mi(e,t,zi(r))}function Fc(e,t,n,a){return a="function"==typeof a?a:r,null==e?e:Mi(e,t,zi(n),a)}function Vc(e){return null==e?[]:Br(e,Ec(e))}function zc(e){return null==e?[]:Br(e,xc(e))}function qc(e,t,n){return n===r&&(n=t,t=r),n!==r&&(n=(n=$f(n))==n?n:0),t!==r&&(t=(t=$f(t))==t?t:0),va($f(e),t,n)}function Wc(e,t,n){return t=Hf(t),n===r?(n=t,t=0):n=Hf(n),Fa(e=$f(e),t,n)}function Zc(e,t,n){if(n&&"boolean"!=typeof n&&ss(e,t,n)&&(t=n=r),n===r&&("boolean"==typeof t?(n=t,t=r):"boolean"==typeof e&&(n=e,e=r)),e===r&&t===r?(e=0,t=1):(e=Hf(e),t===r?(t=e,e=0):t=Hf(t)),e>t){var a=e;e=t,t=a}if(n||e%1||t%1){var i=tr();return Jt(e+i*(t-e+Gt("1e-"+((i+"").length-1))),t)}return _i(e,t)}var Gc=po((function(e,t,r){return t=t.toLowerCase(),e+(r?Hc(t):t)}));function Hc(e){return bd(Qf(e).toLowerCase())}function Yc(e){return(e=Qf(e))&&e.replace(Je,qr).replace(Lt,"")}function Xc(e,t,n){e=Qf(e),t=Li(t);var a=e.length,i=n=n===r?a:va(Yf(n),0,a);return(n-=t.length)>=0&&e.slice(n,i)==t}function $c(e){return(e=Qf(e))&&Te.test(e)?e.replace(Ie,Wr):e}function Jc(e){return(e=Qf(e))&&Re.test(e)?e.replace(Ce,"\\$&"):e}var Kc=po((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),Qc=po((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),ed=ho("toLowerCase");function td(e,t,r){e=Qf(e);var n=(t=Yf(t))?an(e):0;if(!t||n>=t)return e;var a=(t-n)/2;return xo(Ut(a),r)+e+xo(Mt(a),r)}function rd(e,t,r){e=Qf(e);var n=(t=Yf(t))?an(e):0;return t&&n<t?e+xo(t-n,r):e}function nd(e,t,r){e=Qf(e);var n=(t=Yf(t))?an(e):0;return t&&n<t?xo(t-n,r)+e:e}function ad(e,t,r){return r||null==t?t=0:t&&(t=+t),er(Qf(e).replace(Ue,""),t||0)}function id(e,t,n){return t=(n?ss(e,t,n):t===r)?1:Yf(t),yi(Qf(e),t)}function od(){var e=arguments,t=Qf(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var sd=po((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}));function ud(e,t,n){return n&&"number"!=typeof n&&ss(e,t,n)&&(t=n=r),(n=n===r?B:n>>>0)?(e=Qf(e))&&("string"==typeof t||null!=t&&!Rf(t))&&!(t=Li(t))&&Hr(e)?Zi(on(e),0,n):e.split(t,n):[]}var ld=po((function(e,t,r){return e+(r?" ":"")+bd(t)}));function fd(e,t,r){return e=Qf(e),r=null==r?0:va(Yf(r),0,e.length),t=Li(t),e.slice(r,r+t.length)==t}function cd(e,t,n){var a=xn.templateSettings;n&&ss(e,t,n)&&(t=r),e=Qf(e),t=rc({},t,a,Do);var i,o,s=rc({},t.imports,a.imports,Do),u=Ec(s),l=Br(s,u),f=0,c=t.interpolate||Ke,d="__p += '",h=at((t.escape||Ke).source+"|"+c.source+"|"+(c===Pe?We:Ke).source+"|"+(t.evaluate||Ke).source+"|$","g"),p="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Nt+"]")+"\n";e.replace(h,(function(t,r,n,a,s,u){return n||(n=a),d+=e.slice(f,u).replace(Qe,Zr),r&&(i=!0,d+="' +\n__e("+r+") +\n'"),s&&(o=!0,d+="';\n"+s+";\n__p += '"),n&&(d+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),f=u+t.length,t})),d+="';\n";var g=t.variable;g||(d="with (obj) {\n"+d+"\n}\n"),d=(o?d.replace(we,""):d).replace(Ee,"$1").replace(xe,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var v=Ed((function(){return tt(u,p+"return "+d).apply(r,l)}));if(v.source=d,yf(v))throw v;return v}function dd(e){return Qf(e).toLowerCase()}function hd(e){return Qf(e).toUpperCase()}function pd(e,t,n){if((e=Qf(e))&&(n||t===r))return e.replace(Me,"");if(!e||!(t=Li(t)))return e;var a=on(e),i=on(t);return Zi(a,Fr(a,i),Vr(a,i)+1).join("")}function gd(e,t,n){if((e=Qf(e))&&(n||t===r))return e.replace(Be,"");if(!e||!(t=Li(t)))return e;var a=on(e);return Zi(a,0,Vr(a,on(t))+1).join("")}function vd(e,t,n){if((e=Qf(e))&&(n||t===r))return e.replace(Ue,"");if(!e||!(t=Li(t)))return e;var a=on(e);return Zi(a,Fr(a,on(t))).join("")}function _d(e,t){var n=T,a=S;if(jf(t)){var i="separator"in t?t.separator:i;n="length"in t?Yf(t.length):n,a="omission"in t?Li(t.omission):a}var o=(e=Qf(e)).length;if(Hr(e)){var s=on(e);o=s.length}if(n>=o)return e;var u=n-an(a);if(u<1)return a;var l=s?Zi(s,0,u).join(""):e.slice(0,u);if(i===r)return l+a;if(s&&(u+=l.length-u),Rf(i)){if(e.slice(u).search(i)){var f,c=l;for(i.global||(i=at(i.source,Qf(Ze.exec(i))+"g")),i.lastIndex=0;f=i.exec(c);)var d=f.index;l=l.slice(0,d===r?u:d)}}else if(e.indexOf(Li(i),u)!=u){var h=l.lastIndexOf(i);h>-1&&(l=l.slice(0,h))}return l+a}function md(e){return(e=Qf(e))&&Ae.test(e)?e.replace(je,sn):e}var yd=po((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),bd=ho("toUpperCase");function wd(e,t,n){return e=Qf(e),(t=n?r:t)===r?Yr(e)?fn(e):xr(e):e.match(t)||[]}var Ed=bi((function(e,t){try{return ur(e,r,t)}catch(e){return yf(e)?e:new et(e)}})),xd=Bo((function(e,t){return fr(t,(function(t){t=Ps(t),pa(e,t,Ol(e[t],e))})),e}));function jd(e){var t=null==e?0:e.length,r=Wo();return e=t?vr(e,(function(e){if("function"!=typeof e[1])throw new ot(u);return[r(e[0]),e[1]]})):[],bi((function(r){for(var n=-1;++n<t;){var a=e[n];if(ur(a[0],this,r))return ur(a[1],this,r)}}))}function Id(e){return ma(_a(e,d))}function Ad(e){return function(){return e}}function Td(e,t){return null==e||e!=e?t:e}var Sd=mo(),kd=mo(!0);function Pd(e){return e}function Od(e){return ti("function"==typeof e?e:_a(e,d))}function Dd(e){return oi(_a(e,d))}function Ld(e,t){return si(e,_a(t,d))}var Cd=bi((function(e,t){return function(r){return qa(r,e,t)}})),Rd=bi((function(e,t){return function(r){return qa(e,r,t)}}));function Md(e,t,r){var n=Ec(t),a=La(t,n);null!=r||jf(t)&&(a.length||!n.length)||(r=t,t=e,e=this,a=La(t,Ec(t)));var i=!(jf(r)&&"chain"in r&&!r.chain),o=wf(e);return fr(a,(function(r){var n=t[r];e[r]=n,o&&(e.prototype[r]=function(){var t=this.__chain__;if(i||t){var r=e(this.__wrapped__);return(r.__actions__=no(this.__actions__)).push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,_r([this.value()],arguments))})})),e}function Ud(){return $t._===this&&($t._=_t),this}function Bd(){}function Nd(e){return e=Yf(e),bi((function(t){return fi(t,e)}))}var Fd=Eo(vr),Vd=Eo(dr),zd=Eo(br);function qd(e){return us(e)?Pr(Ps(e)):pi(e)}function Wd(e){return function(t){return null==e?r:Ca(e,t)}}var Zd=Io(),Gd=Io(!0);function Hd(){return[]}function Yd(){return!1}function Xd(){return{}}function $d(){return""}function Jd(){return!0}function Kd(e,t){if((e=Yf(e))<1||e>R)return[];var r=B,n=Jt(e,B);t=Wo(t),e-=B;for(var a=Rr(n,t);++r<e;)t(r);return a}function Qd(e){return uf(e)?vr(e,Ps):Nf(e)?[e]:no(ks(Qf(e)))}function eh(e){var t=++ht;return Qf(e)+t}var th=wo((function(e,t){return e+t}),0),rh=So("ceil"),nh=wo((function(e,t){return e/t}),1),ah=So("floor");function ih(e){return e&&e.length?Ia(e,Pd,Ua):r}function oh(e,t){return e&&e.length?Ia(e,Wo(t,2),Ua):r}function sh(e){return kr(e,Pd)}function uh(e,t){return kr(e,Wo(t,2))}function lh(e){return e&&e.length?Ia(e,Pd,ai):r}function fh(e,t){return e&&e.length?Ia(e,Wo(t,2),ai):r}var ch,dh=wo((function(e,t){return e*t}),1),hh=So("round"),ph=wo((function(e,t){return e-t}),0);function gh(e){return e&&e.length?Cr(e,Pd):0}function vh(e,t){return e&&e.length?Cr(e,Wo(t,2)):0}return xn.after=Sl,xn.ary=kl,xn.assign=ec,xn.assignIn=tc,xn.assignInWith=rc,xn.assignWith=nc,xn.at=ac,xn.before=Pl,xn.bind=Ol,xn.bindAll=xd,xn.bindKey=Dl,xn.castArray=Jl,xn.chain=Wu,xn.chunk=Cs,xn.compact=Rs,xn.concat=Ms,xn.cond=jd,xn.conforms=Id,xn.constant=Ad,xn.countBy=tl,xn.create=ic,xn.curry=Ll,xn.curryRight=Cl,xn.debounce=Rl,xn.defaults=oc,xn.defaultsDeep=sc,xn.defer=Ml,xn.delay=Ul,xn.difference=Us,xn.differenceBy=Bs,xn.differenceWith=Ns,xn.drop=Fs,xn.dropRight=Vs,xn.dropRightWhile=zs,xn.dropWhile=qs,xn.fill=Ws,xn.filter=nl,xn.flatMap=ol,xn.flatMapDeep=sl,xn.flatMapDepth=ul,xn.flatten=Hs,xn.flattenDeep=Ys,xn.flattenDepth=Xs,xn.flip=Bl,xn.flow=Sd,xn.flowRight=kd,xn.fromPairs=$s,xn.functions=pc,xn.functionsIn=gc,xn.groupBy=cl,xn.initial=Qs,xn.intersection=eu,xn.intersectionBy=tu,xn.intersectionWith=ru,xn.invert=yc,xn.invertBy=bc,xn.invokeMap=hl,xn.iteratee=Od,xn.keyBy=pl,xn.keys=Ec,xn.keysIn=xc,xn.map=gl,xn.mapKeys=jc,xn.mapValues=Ic,xn.matches=Dd,xn.matchesProperty=Ld,xn.memoize=Nl,xn.merge=Ac,xn.mergeWith=Tc,xn.method=Cd,xn.methodOf=Rd,xn.mixin=Md,xn.negate=Fl,xn.nthArg=Nd,xn.omit=Sc,xn.omitBy=kc,xn.once=Vl,xn.orderBy=vl,xn.over=Fd,xn.overArgs=zl,xn.overEvery=Vd,xn.overSome=zd,xn.partial=ql,xn.partialRight=Wl,xn.partition=_l,xn.pick=Pc,xn.pickBy=Oc,xn.property=qd,xn.propertyOf=Wd,xn.pull=su,xn.pullAll=uu,xn.pullAllBy=lu,xn.pullAllWith=fu,xn.pullAt=cu,xn.range=Zd,xn.rangeRight=Gd,xn.rearg=Zl,xn.reject=bl,xn.remove=du,xn.rest=Gl,xn.reverse=hu,xn.sampleSize=El,xn.set=Lc,xn.setWith=Cc,xn.shuffle=xl,xn.slice=pu,xn.sortBy=Al,xn.sortedUniq=wu,xn.sortedUniqBy=Eu,xn.split=ud,xn.spread=Hl,xn.tail=xu,xn.take=ju,xn.takeRight=Iu,xn.takeRightWhile=Au,xn.takeWhile=Tu,xn.tap=Zu,xn.throttle=Yl,xn.thru=Gu,xn.toArray=Gf,xn.toPairs=Rc,xn.toPairsIn=Mc,xn.toPath=Qd,xn.toPlainObject=Jf,xn.transform=Uc,xn.unary=Xl,xn.union=Su,xn.unionBy=ku,xn.unionWith=Pu,xn.uniq=Ou,xn.uniqBy=Du,xn.uniqWith=Lu,xn.unset=Bc,xn.unzip=Cu,xn.unzipWith=Ru,xn.update=Nc,xn.updateWith=Fc,xn.values=Vc,xn.valuesIn=zc,xn.without=Mu,xn.words=wd,xn.wrap=$l,xn.xor=Uu,xn.xorBy=Bu,xn.xorWith=Nu,xn.zip=Fu,xn.zipObject=Vu,xn.zipObjectDeep=zu,xn.zipWith=qu,xn.entries=Rc,xn.entriesIn=Mc,xn.extend=tc,xn.extendWith=rc,Md(xn,xn),xn.add=th,xn.attempt=Ed,xn.camelCase=Gc,xn.capitalize=Hc,xn.ceil=rh,xn.clamp=qc,xn.clone=Kl,xn.cloneDeep=ef,xn.cloneDeepWith=tf,xn.cloneWith=Ql,xn.conformsTo=rf,xn.deburr=Yc,xn.defaultTo=Td,xn.divide=nh,xn.endsWith=Xc,xn.eq=nf,xn.escape=$c,xn.escapeRegExp=Jc,xn.every=rl,xn.find=al,xn.findIndex=Zs,xn.findKey=uc,xn.findLast=il,xn.findLastIndex=Gs,xn.findLastKey=lc,xn.floor=ah,xn.forEach=ll,xn.forEachRight=fl,xn.forIn=fc,xn.forInRight=cc,xn.forOwn=dc,xn.forOwnRight=hc,xn.get=vc,xn.gt=af,xn.gte=of,xn.has=_c,xn.hasIn=mc,xn.head=Js,xn.identity=Pd,xn.includes=dl,xn.indexOf=Ks,xn.inRange=Wc,xn.invoke=wc,xn.isArguments=sf,xn.isArray=uf,xn.isArrayBuffer=lf,xn.isArrayLike=ff,xn.isArrayLikeObject=cf,xn.isBoolean=df,xn.isBuffer=hf,xn.isDate=pf,xn.isElement=gf,xn.isEmpty=vf,xn.isEqual=_f,xn.isEqualWith=mf,xn.isError=yf,xn.isFinite=bf,xn.isFunction=wf,xn.isInteger=Ef,xn.isLength=xf,xn.isMap=Af,xn.isMatch=Tf,xn.isMatchWith=Sf,xn.isNaN=kf,xn.isNative=Pf,xn.isNil=Df,xn.isNull=Of,xn.isNumber=Lf,xn.isObject=jf,xn.isObjectLike=If,xn.isPlainObject=Cf,xn.isRegExp=Rf,xn.isSafeInteger=Mf,xn.isSet=Uf,xn.isString=Bf,xn.isSymbol=Nf,xn.isTypedArray=Ff,xn.isUndefined=Vf,xn.isWeakMap=zf,xn.isWeakSet=qf,xn.join=nu,xn.kebabCase=Kc,xn.last=au,xn.lastIndexOf=iu,xn.lowerCase=Qc,xn.lowerFirst=ed,xn.lt=Wf,xn.lte=Zf,xn.max=ih,xn.maxBy=oh,xn.mean=sh,xn.meanBy=uh,xn.min=lh,xn.minBy=fh,xn.stubArray=Hd,xn.stubFalse=Yd,xn.stubObject=Xd,xn.stubString=$d,xn.stubTrue=Jd,xn.multiply=dh,xn.nth=ou,xn.noConflict=Ud,xn.noop=Bd,xn.now=Tl,xn.pad=td,xn.padEnd=rd,xn.padStart=nd,xn.parseInt=ad,xn.random=Zc,xn.reduce=ml,xn.reduceRight=yl,xn.repeat=id,xn.replace=od,xn.result=Dc,xn.round=hh,xn.runInContext=e,xn.sample=wl,xn.size=jl,xn.snakeCase=sd,xn.some=Il,xn.sortedIndex=gu,xn.sortedIndexBy=vu,xn.sortedIndexOf=_u,xn.sortedLastIndex=mu,xn.sortedLastIndexBy=yu,xn.sortedLastIndexOf=bu,xn.startCase=ld,xn.startsWith=fd,xn.subtract=ph,xn.sum=gh,xn.sumBy=vh,xn.template=cd,xn.times=Kd,xn.toFinite=Hf,xn.toInteger=Yf,xn.toLength=Xf,xn.toLower=dd,xn.toNumber=$f,xn.toSafeInteger=Kf,xn.toString=Qf,xn.toUpper=hd,xn.trim=pd,xn.trimEnd=gd,xn.trimStart=vd,xn.truncate=_d,xn.unescape=md,xn.uniqueId=eh,xn.upperCase=yd,xn.upperFirst=bd,xn.each=ll,xn.eachRight=fl,xn.first=Js,Md(xn,(ch={},Oa(xn,(function(e,t){dt.call(xn.prototype,t)||(ch[t]=e)})),ch),{chain:!1}),xn.VERSION=i,fr(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){xn[e].placeholder=xn})),fr(["drop","take"],(function(e,t){Tn.prototype[e]=function(n){n=n===r?1:Xt(Yf(n),0);var a=this.__filtered__&&!t?new Tn(this):this.clone();return a.__filtered__?a.__takeCount__=Jt(n,a.__takeCount__):a.__views__.push({size:Jt(n,B),type:e+(a.__dir__<0?"Right":"")}),a},Tn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),fr(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=r==O||r==L;Tn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Wo(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),fr(["head","last"],(function(e,t){var r="take"+(t?"Right":"");Tn.prototype[e]=function(){return this[r](1).value()[0]}})),fr(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");Tn.prototype[e]=function(){return this.__filtered__?new Tn(this):this[r](1)}})),Tn.prototype.compact=function(){return this.filter(Pd)},Tn.prototype.find=function(e){return this.filter(e).head()},Tn.prototype.findLast=function(e){return this.reverse().find(e)},Tn.prototype.invokeMap=bi((function(e,t){return"function"==typeof e?new Tn(this):this.map((function(r){return qa(r,e,t)}))})),Tn.prototype.reject=function(e){return this.filter(Fl(Wo(e)))},Tn.prototype.slice=function(e,t){e=Yf(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Tn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==r&&(n=(t=Yf(t))<0?n.dropRight(-t):n.take(t-e)),n)},Tn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Tn.prototype.toArray=function(){return this.take(B)},Oa(Tn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),a=/^(?:head|last)$/.test(t),i=xn[a?"take"+("last"==t?"Right":""):t],o=a||/^find/.test(t);i&&(xn.prototype[t]=function(){var t=this.__wrapped__,s=a?[1]:arguments,u=t instanceof Tn,l=s[0],f=u||uf(t),c=function(e){var t=i.apply(xn,_r([e],s));return a&&d?t[0]:t};f&&n&&"function"==typeof l&&1!=l.length&&(u=f=!1);var d=this.__chain__,h=!!this.__actions__.length,p=o&&!d,g=u&&!h;if(!o&&f){t=g?t:new Tn(this);var v=e.apply(t,s);return v.__actions__.push({func:Gu,args:[c],thisArg:r}),new An(v,d)}return p&&g?e.apply(this,s):(v=this.thru(c),p?a?v.value()[0]:v.value():v)})})),fr(["pop","push","shift","sort","splice","unshift"],(function(e){var t=st[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);xn.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var a=this.value();return t.apply(uf(a)?a:[],e)}return this[r]((function(r){return t.apply(uf(r)?r:[],e)}))}})),Oa(Tn.prototype,(function(e,t){var r=xn[t];if(r){var n=r.name+"";(pn[n]||(pn[n]=[])).push({name:t,func:r})}})),pn[yo(r,m).name]=[{name:"wrapper",func:r}],Tn.prototype.clone=Sn,Tn.prototype.reverse=kn,Tn.prototype.value=Pn,xn.prototype.at=Hu,xn.prototype.chain=Yu,xn.prototype.commit=Xu,xn.prototype.next=$u,xn.prototype.plant=Ku,xn.prototype.reverse=Qu,xn.prototype.toJSON=xn.prototype.valueOf=xn.prototype.value=el,xn.prototype.first=xn.prototype.head,St&&(xn.prototype[St]=Ju),xn}();"function"==typeof n&&"object"==typeof n.amd&&n.amd?($t._=cn,n((function(){return cn}))):Kt?((Kt.exports=cn)._=cn,Jt._=cn):$t._=cn}).call(this)}).call(this,void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],13:[function(e,t,r){"use strict";var n=e("ndarray-ops"),a=e("ndarray"),i=e("typedarray-pool"),o=e("./lib/fft-matrix.js");function s(e,t,r){var s,u,l=t.shape,f=l.length,c=1,d=new Array(f),h=0;for(s=f-1;s>=0;--s)if(d[s]=c,c*=l[s],h=Math.max(h,o.scratchMemory(l[s])),t.shape[s]!==r.shape[s])throw new Error("Shape mismatch, real and imaginary arrays must have same size");var p,g=4*c+h;p="array"===t.dtype||"float64"===t.dtype||"custom"===t.dtype?i.mallocDouble(g):i.mallocFloat(g);var v,_,m,y,b=a(p,l.slice(0),d,0),w=a(p,l.slice(0),d.slice(0),c),E=a(p,l.slice(0),d.slice(0),2*c),x=a(p,l.slice(0),d.slice(0),3*c),j=4*c;for(n.assign(b,t),n.assign(w,r),s=f-1;s>=0&&(o(e,c/l[s],l[s],p,b.offset,w.offset,j),0!==s);--s){for(_=1,m=E.stride,y=x.stride,u=s-1;u<f;++u)y[u]=m[u]=_,_*=l[u];for(u=s-2;u>=0;--u)y[u]=m[u]=_,_*=l[u];n.assign(E,b),n.assign(x,w),v=b,b=E,E=v,v=w,w=x,x=v}n.assign(t,b),n.assign(r,w),i.free(p)}t.exports=s},{"./lib/fft-matrix.js":14,ndarray:18,"ndarray-ops":17,"typedarray-pool":21}],14:[function(e,t,r){var n=e("bit-twiddle");function a(e,t,r,a,i,u,l){e|=0,t|=0,r|=0,i|=0,u|=0,n.isPow2(r)?o(e,t,r,a,i,u):s(e,t,r,a,i,u,l)}function i(e){return n.isPow2(e)?0:2*e+4*n.nextPow2(2*e+1)}function o(e,t,r,a,i,o){var s,u,l,f,c,d,h,p,g,v,_,m,y,b,w,E,x,j,I,A,T,S,k,P;for(e|=0,t|=0,i|=0,o|=0,s=r|=0,u=n.log2(s),j=0;j<t;++j){for(h=s>>1,c=0,l=0;l<s-1;l++){for(l<c&&(y=a[i+l],a[i+l]=a[i+c],a[i+c]=y,y=a[o+l],a[o+l]=a[o+c],a[o+c]=y),d=h;d<=c;)c-=d,d>>=1;c+=d}for(_=-1,m=0,v=1,p=0;p<u;p++){for(g=v,v<<=1,E=1,x=0,c=0;c<g;c++){for(l=c;l<s;l+=v)I=a[i+(f=l+g)],A=a[o+f],T=a[i+l],S=a[o+l],b=(k=E*(I+A))-A*(E+x),w=k+(P=I*(x-E)),a[i+f]=T-b,a[o+f]=S-w,a[i+l]+=b,a[o+l]+=w;P=E*(m-_),E=(k=_*(E+x))-x*(_+m),x=k+P}m=Math.sqrt((1-_)/2),e<0&&(m=-m),_=Math.sqrt((1+_)/2)}if(e<0){var O=1/s;for(l=0;l<s;l++)a[i+l]*=O,a[o+l]*=O}i+=r,o+=r}}function s(e,t,r,a,i,s,u){e|=0,t|=0,r|=0,i|=0,s|=0,u|=0;var l,f,c,d,h,p,g,v,_,m=n.nextPow2(2*r+1),y=u,b=y+r,w=b+r,E=w+m,x=E+m,j=x+m,I=-e*Math.PI/r;for(_=0;_<r;++_)f=I*(_*_%(2*r)),d=Math.cos(f),h=Math.sin(f),a[x+(m-_)]=a[x+_]=a[y+_]=d,a[j+(m-_)]=a[j+_]=a[b+_]=h;for(_=r;_<=m-r;++_)a[x+_]=0;for(_=r;_<=m-r;++_)a[j+_]=0;for(o(1,1,m,a,x,j),I=e<0?1/r:1,l=0;l<t;++l){for(_=0;_<r;++_)f=a[i+_],c=a[s+_],p=(d=a[y+_])*(f+c),g=f*((h=-a[b+_])-d),v=c*(d+h),a[w+_]=p-v,a[E+_]=p+g;for(_=r;_<m;++_)a[w+_]=0;for(_=r;_<m;++_)a[E+_]=0;for(o(1,1,m,a,w,E),_=0;_<m;++_)f=a[w+_],c=a[E+_],p=(d=a[x+_])*(f+c),g=f*((h=a[j+_])-d),v=c*(d+h),a[w+_]=p-v,a[E+_]=p+g;for(o(-1,1,m,a,w,E),_=0;_<r;++_)f=a[w+_],c=a[E+_],p=(d=a[y+_])*(f+c),g=f*((h=-a[b+_])-d),v=c*(d+h),a[i+_]=I*(p-v),a[s+_]=I*(p+g);i+=r,s+=r}}t.exports=a,t.exports.scratchMemory=i},{"bit-twiddle":2}],15:[function(e,t,r){"use strict";t.exports=u;var n=e("./lib/planner.js");function a(e){return Array.isArray(e)?[e.length,e[0].length]:e.shape}function i(e,t,r){var n=a(e),i=a(t),o=a(r);if(n[0]!==i[0]||n[1]!==o[1]||i[1]!==o[0])throw new Error("Mismatched array shapes for matrix product")}function o(e){if(Array.isArray(e)){if(Array.isArray(e))return["r","native"]}else if(e.shape&&2===e.shape.length)return e.order[0]?["r",e.dtype]:["c",e.dtype];throw new Error("Unrecognized data type")}var s={};function u(e,t,r,a,u){void 0===a&&(a=1),void 0===u&&(u=0);var l=1!==a,f=0!==u,c=o(e),d=o(t),h=o(r);i(e,t,r);var p=[c,d,h,l,f].join(":"),g=s[p];return g||(g=s[p]=n(c,d,h,l,f)),g(e,t,r,a,u)}},{"./lib/planner.js":16}],16:[function(e,t,r){"use strict";t.exports=d;var n=32;function a(e,t){return"native"===t[1]?[e,"d0=",e,".length,",e,"d1=",e,"[0].length,"].join(""):[e,"d0=",e,".shape[0],",e,"d1=",e,".shape[1],",e,"s0=",e,".stride[0],",e,"s1=",e,".stride[1],",e,"o=",e,".offset,",e,"d=",e,".data,"].join("")}function i(e,t,r,n,a,i){var o=[];return"native"===r[1]?e[0]&&(n?o.push("var ",t,"p=",t,"[",n,"];"):o.push("var ",t,"p=",t,"[0];")):n&&a?i?o.push("var ",t,"t0=",t,"s",e[0],",",t,"t1=",t,"s",e[1],"-",t,"s",e[0],"*",i,",",t,"p=",t,"o+",n,"*",t,"s0+",a,"*",t,"s1;"):o.push("var ",t,"t0=",t,"s",e[0],",",t,"p=",t,"o+",n,"*",t,"s0+",a,"*",t,"s1;"):n?o.push("var ",t,"t0=",t,"s",e[0],",",t,"p=",t,"o+",n,"*",t,"s0;"):a?o.push("var ",t,"t0=",t,"s",e[0],",",t,"p=",t,"o+",a,"*",t,"s1;"):o.push("var ",t,"t0=",t,"s",e[0],",",t,"t1=",t,"s",e[1],"-",t,"s",e[0],"*",t,"d",e[0],",",t,"p=",t,"o;"),o}function o(e,t,r,n,a){var i=[];return"native"===r[1]?e[0]&&1===n&&i.push(t,"p=",t,"[",a,"+1]"):i.push(t,"p+=",t,"t",n,";"),i}function s(e,t,r,n,a,i){var o=[];return"native"===r[1]?e[0]?o.push(t,"p[",a,"]=",i,";"):o.push(t,"[",n,"][",a,"]=",i,";"):"generic"===r[1]?o.push(t,"d.set(",t,"p,",i,");"):o.push(t,"d[",t,"p]=",i,";"),o}function u(e,t,r,n,a){var i=[];return"native"===r[1]?e[0]?i.push(t,"p[",a,"]"):i.push(t,"[",n,"][",a,"]"):"generic"===r[1]?i.push(t,"d.get(",t,"p)"):i.push(t,"d[",t,"p]"),i.join("")}function l(e,t,r,n,a){var l=[],f="r"===e[0]?[1,0]:[0,1],c=[1,0],d=[0,1],h=["i","j"];return l.push.apply(l,i(f,"o",e)),f[1]?(l.push("for(j=0;j<od1;++j){"),l.push("for(i=0;i<od0;++i){")):(l.push("for(i=0;i<od0;++i){"),l.push("for(j=0;j<od1;++j){")),l.push.apply(l,i(c,"a",t,"i")),l.push.apply(l,i(d,"b",r,void 0,"j")),l.push("var r=0.0;","for(k=0;k<ad1;++k){","r+=",u(c,"a",t,"i","k"),"*",u(d,"b",r,"k","j"),";"),l.push.apply(l,o(c,"a",t,0,"k")),l.push.apply(l,o(d,"b",r,0,"k")),l.push("}"),n&&l.push("r*=A;"),a&&l.push("r+=B*",u(f,"o",e,"i","j"),";"),l.push.apply(l,s(f,"o",e,"i","j","r")),l.push.apply(l,o(f,"o",e,0,h[1])),l.push("}"),l.push.apply(l,o(f,"o",e,1,h[0])),l.push("}"),l}function f(e,t){var r,n=[],a="r"===e[0]?[1,0]:[0,1];return t&&n.push("if(B!==1.0){"),n.push.apply(n,i(a,"o",e)),a[0]?(n.push("for(i=0;i<od0;++i){for(j=0;j<od1;++j){"),r=["i","j"]):(n.push("for(j=0;j<od1;++j){for(i=0;i<od0;++i){"),r=["j","i"]),t?n.push.apply(n,s(a,"o",e,"i","j","B*"+u(a,"o",e,"i","j"))):n.push.apply(n,s(a,"o",e,"i","j","0")),n.push.apply(n,o(a,"o",e,0,r[1])),n.push("}"),n.push.apply(n,o(a,"o",e,1,r[0])),n.push("}"),t&&n.push("}"),n}function c(e,t,r,a,l){var c=[],d=["od0","od1","ad1"],h=[1,0],p=[1,0],g=[0,1];c.push.apply(c,f(e,l));for(var v=0;v<3;++v)c.push("for(var i",v,"=",d[v],";i",v,">0;){","var w",v,"=",n,";","if(i",v,"<",n,"){","w",v,"=i",v,";","i",v,"=0;","}else{","i",v,"-=",n,";","}");c.push.apply(c,i(h,"o",e,"i0","i1","w1")),c.push("for(i=0;i<w0;++i){for(j=0;j<w1;++j){var r=0.0;"),c.push.apply(c,i(p,"a",t,"(i0+i)","i2")),c.push.apply(c,i(g,"b",r,"i2","(i1+j)")),c.push("for(k=0;k<w2;++k){"),c.push("r+=",u(p,"a",t,"(i0+i)","(i2+k)"),"*",u(g,"b",r,"(i2+k)","(i1+j)"),";"),c.push.apply(c,o(p,"a",t,0,"(i2+k)")),c.push.apply(c,o(g,"b",r,0,"(i2+k)")),c.push("}");var _="r";return a&&(_="A*r"),c.push.apply(c,s(h,"o",e,"(i0+i)","(i1+j)",_+"+"+u(h,"o",e,"(i0+i)","(i1+j)"))),c.push.apply(c,o(h,"o",e,0,"(i1+j)")),c.push("}"),c.push.apply(c,o(h,"o",e,1,"(i0+i)")),c.push("}}}}"),c}function d(e,t,r,n,i){var o=["gemm",e[0],e[1],"a",t[0],t[1],"b",r[0],r[1],n?"alpha":"",i?"beta":""].join(""),s=["function ",o,"(o,a,b,A,B){","var ",a("o",e),a("a",t),a("b",r),"i,j,k;"];return"r"===t[0]&&"c"===r[0]?s.push.apply(s,l(e,t,r,n,i)):s.push.apply(s,c(e,t,r,n,i)),s.push("}return ",o),new Function(s.join(""))()}},{}],17:[function(e,t,r){"use strict";var n=e("cwise-compiler"),a={body:"",args:[],thisVars:[],localVars:[]};function i(e){if(!e)return a;for(var t=0;t<e.args.length;++t){var r=e.args[t];e.args[t]=0===t?{name:r,lvalue:!0,rvalue:!!e.rvalue,count:e.count||1}:{name:r,lvalue:!1,rvalue:!0,count:1}}return e.thisVars||(e.thisVars=[]),e.localVars||(e.localVars=[]),e}function o(e){return n({args:e.args,pre:i(e.pre),body:i(e.body),post:i(e.proc),funcName:e.funcName})}function s(e){for(var t=[],r=0;r<e.args.length;++r)t.push("a"+r);return new Function("P",["return function ",e.funcName,"_ndarrayops(",t.join(","),") {P(",t.join(","),");return a0}"].join(""))(o(e))}var u={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var e in u){var t=u[e];r[e]=s({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+t+"c"},funcName:e}),r[e+"eq"]=s({args:["array","array"],body:{args:["a","b"],body:"a"+t+"=b"},rvalue:!0,funcName:e+"eq"}),r[e+"s"]=s({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+t+"s"},funcName:e+"s"}),r[e+"seq"]=s({args:["array","scalar"],body:{args:["a","s"],body:"a"+t+"=s"},rvalue:!0,funcName:e+"seq"})}}();var l={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var e in l){var t=l[e];r[e]=s({args:["array","array"],body:{args:["a","b"],body:"a="+t+"b"},funcName:e}),r[e+"eq"]=s({args:["array"],body:{args:["a"],body:"a="+t+"a"},rvalue:!0,count:2,funcName:e+"eq"})}}();var f={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var e in f){var t=f[e];r[e]=s({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+t+"c"},funcName:e}),r[e+"s"]=s({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+t+"s"},funcName:e+"s"}),r[e+"eq"]=s({args:["array","array"],body:{args:["a","b"],body:"a=a"+t+"b"},rvalue:!0,count:2,funcName:e+"eq"}),r[e+"seq"]=s({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+t+"s"},rvalue:!0,count:2,funcName:e+"seq"})}}();var c=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var e=0;e<c.length;++e){var t=c[e];r[t]=s({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:t}),r[t+"eq"]=s({args:["array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"eq"})}}();var d=["max","min","atan2","pow"];!function(){for(var e=0;e<d.length;++e){var t=d[e];r[t]=s({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:t}),r[t+"s"]=s({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:t+"s"}),r[t+"eq"]=s({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"eq"}),r[t+"seq"]=s({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"seq"})}}();var h=["atan2","pow"];!function(){for(var e=0;e<h.length;++e){var t=h[e];r[t+"op"]=s({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:t+"op"}),r[t+"ops"]=s({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:t+"ops"}),r[t+"opeq"]=s({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"opeq"}),r[t+"opseq"]=s({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"opseq"})}}(),r.any=n({args:["array"],pre:a,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),r.all=n({args:["array"],pre:a,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),r.sum=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),r.prod=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),r.norm2squared=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),r.norm2=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),r.norminf=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),r.norm1=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),r.sup=n({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),r.inf=n({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),r.argmin=n({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),r.argmax=n({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),r.random=s({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),r.assign=s({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),r.assigns=s({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),r.equals=n({args:["array","array"],pre:a,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},{"cwise-compiler":4}],18:[function(e,t,r){var n=e("iota-array"),a=e("is-buffer"),i="undefined"!=typeof Float64Array;function o(e,t){return e[0]-t[0]}function s(){var e,t=this.stride,r=new Array(t.length);for(e=0;e<r.length;++e)r[e]=[Math.abs(t[e]),e];r.sort(o);var n=new Array(r.length);for(e=0;e<n.length;++e)n[e]=r[e][1];return n}function u(e,t){var r=["View",t,"d",e].join("");t<0&&(r="View_Nil"+e);var a="generic"===e;if(-1===t){var i="function "+r+"(a){this.data=a;};var proto="+r+".prototype;proto.dtype='"+e+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+r+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+r+"(a){return new "+r+"(a);}";return new Function(i)()}if(0===t)return i="function "+r+"(a,d) {this.data = a;this.offset = d};var proto="+r+".prototype;proto.dtype='"+e+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+r+"_copy() {return new "+r+"(this.data,this.offset)};proto.pick=function "+r+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+r+"_get(){return "+(a?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+r+"_set(v){return "+(a?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}",new Function("TrivialArray",i)(f[e][0]);i=["'use strict'"];var o=n(t),u=o.map((function(e){return"i"+e})),l="this.offset+"+o.map((function(e){return"this.stride["+e+"]*i"+e})).join("+"),c=o.map((function(e){return"b"+e})).join(","),d=o.map((function(e){return"c"+e})).join(",");i.push("function "+r+"(a,"+c+","+d+",d){this.data=a","this.shape=["+c+"]","this.stride=["+d+"]","this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),i.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){return "+o.map((function(e){return"this.shape["+e+"]"})).join("*"),"}})"),1===t?i.push("proto.order=[0]"):(i.push("Object.defineProperty(proto,'order',{get:"),t<4?(i.push("function "+r+"_order(){"),2===t?i.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===t&&i.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):i.push("ORDER})")),i.push("proto.set=function "+r+"_set("+u.join(",")+",v){"),a?i.push("return this.data.set("+l+",v)}"):i.push("return this.data["+l+"]=v}"),i.push("proto.get=function "+r+"_get("+u.join(",")+"){"),a?i.push("return this.data.get("+l+")}"):i.push("return this.data["+l+"]}"),i.push("proto.index=function "+r+"_index(",u.join(),"){return "+l+"}"),i.push("proto.hi=function "+r+"_hi("+u.join(",")+"){return new "+r+"(this.data,"+o.map((function(e){return["(typeof i",e,"!=='number'||i",e,"<0)?this.shape[",e,"]:i",e,"|0"].join("")})).join(",")+","+o.map((function(e){return"this.stride["+e+"]"})).join(",")+",this.offset)}");var h=o.map((function(e){return"a"+e+"=this.shape["+e+"]"})),p=o.map((function(e){return"c"+e+"=this.stride["+e+"]"}));i.push("proto.lo=function "+r+"_lo("+u.join(",")+"){var b=this.offset,d=0,"+h.join(",")+","+p.join(","));for(var g=0;g<t;++g)i.push("if(typeof i"+g+"==='number'&&i"+g+">=0){d=i"+g+"|0;b+=c"+g+"*d;a"+g+"-=d}");for(i.push("return new "+r+"(this.data,"+o.map((function(e){return"a"+e})).join(",")+","+o.map((function(e){return"c"+e})).join(",")+",b)}"),i.push("proto.step=function "+r+"_step("+u.join(",")+"){var "+o.map((function(e){return"a"+e+"=this.shape["+e+"]"})).join(",")+","+o.map((function(e){return"b"+e+"=this.stride["+e+"]"})).join(",")+",c=this.offset,d=0,ceil=Math.ceil"),g=0;g<t;++g)i.push("if(typeof i"+g+"==='number'){d=i"+g+"|0;if(d<0){c+=b"+g+"*(a"+g+"-1);a"+g+"=ceil(-a"+g+"/d)}else{a"+g+"=ceil(a"+g+"/d)}b"+g+"*=d}");i.push("return new "+r+"(this.data,"+o.map((function(e){return"a"+e})).join(",")+","+o.map((function(e){return"b"+e})).join(",")+",c)}");var v=new Array(t),_=new Array(t);for(g=0;g<t;++g)v[g]="a[i"+g+"]",_[g]="b[i"+g+"]";for(i.push("proto.transpose=function "+r+"_transpose("+u+"){"+u.map((function(e,t){return e+"=("+e+"===undefined?"+t+":"+e+"|0)"})).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+v.join(",")+","+_.join(",")+",this.offset)}"),i.push("proto.pick=function "+r+"_pick("+u+"){var a=[],b=[],c=this.offset"),g=0;g<t;++g)i.push("if(typeof i"+g+"==='number'&&i"+g+">=0){c=(c+this.stride["+g+"]*i"+g+")|0}else{a.push(this.shape["+g+"]);b.push(this.stride["+g+"])}");return i.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),i.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+o.map((function(e){return"shape["+e+"]"})).join(",")+","+o.map((function(e){return"stride["+e+"]"})).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",i.join("\n"))(f[e],s)}function l(e){if(a(e))return"buffer";if(i)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(e)?"array":"generic"}var f={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};function c(e,t,r,n){if(void 0===e)return(0,f.array[0])([]);"number"==typeof e&&(e=[e]),void 0===t&&(t=[e.length]);var a=t.length;if(void 0===r){r=new Array(a);for(var i=a-1,o=1;i>=0;--i)r[i]=o,o*=t[i]}if(void 0===n)for(n=0,i=0;i<a;++i)r[i]<0&&(n-=(t[i]-1)*r[i]);for(var s=l(e),c=f[s];c.length<=a+1;)c.push(u(s,c.length-1));return(0,c[a+1])(e,t,r,n)}t.exports=c},{"iota-array":10,"is-buffer":11}],19:[function(e,t,r){(function(e){function t(e,t){for(var r=0,n=e.length-1;n>=0;n--){var a=e[n];"."===a?e.splice(n,1):".."===a?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,a=function(e){return n.exec(e).slice(1)};function i(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}r.resolve=function(){for(var r="",n=!1,a=arguments.length-1;a>=-1&&!n;a--){var o=a>=0?arguments[a]:e.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(r=o+"/"+r,n="/"===o.charAt(0))}return(n?"/":"")+(r=t(i(r.split("/"),(function(e){return!!e})),!n).join("/"))||"."},r.normalize=function(e){var n=r.isAbsolute(e),a="/"===o(e,-1);return(e=t(i(e.split("/"),(function(e){return!!e})),!n).join("/"))||n||(e="."),e&&a&&(e+="/"),(n?"/":"")+e},r.isAbsolute=function(e){return"/"===e.charAt(0)},r.join=function(){var e=Array.prototype.slice.call(arguments,0);return r.normalize(i(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},r.relative=function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=r.resolve(e).substr(1),t=r.resolve(t).substr(1);for(var a=n(e.split("/")),i=n(t.split("/")),o=Math.min(a.length,i.length),s=o,u=0;u<o;u++)if(a[u]!==i[u]){s=u;break}var l=[];for(u=s;u<a.length;u++)l.push("..");return(l=l.concat(i.slice(s))).join("/")},r.sep="/",r.delimiter=":",r.dirname=function(e){var t=a(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},r.basename=function(e,t){var r=a(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},r.extname=function(e){return a(e)[3]};var o=function(e,t,r){return e.substr(t,r)}}).call(this,e("_process"))},{_process:20}],20:[function(e,t,r){var n,a,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}function l(e){if(a===clearTimeout)return clearTimeout(e);if((a===s||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(e);try{return a(e)}catch(t){try{return a.call(null,e)}catch(t){return a.call(this,e)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{a="function"==typeof clearTimeout?clearTimeout:s}catch(e){a=s}}();var f,c=[],d=!1,h=-1;function p(){d&&f&&(d=!1,f.length?c=f.concat(c):h=-1,c.length&&g())}function g(){if(!d){var e=u(p);d=!0;for(var t=c.length;t;){for(f=c,c=[];++h<t;)f&&f[h].run();h=-1,t=c.length}f=null,d=!1,l(e)}}function v(e,t){this.fun=e,this.array=t}function _(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new v(e,t)),1!==c.length||d||u(g)},v.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=_,i.addListener=_,i.once=_,i.off=_,i.removeListener=_,i.removeAllListeners=_,i.emit=_,i.prependListener=_,i.prependOnceListener=_,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],21:[function(e,t,n){(function(t,r){"use strict";var a=e("bit-twiddle"),i=e("dup");t.__TYPEDARRAY_POOL||(t.__TYPEDARRAY_POOL={UINT8:i([32,0]),UINT16:i([32,0]),UINT32:i([32,0]),INT8:i([32,0]),INT16:i([32,0]),INT32:i([32,0]),FLOAT:i([32,0]),DOUBLE:i([32,0]),DATA:i([32,0]),UINT8C:i([32,0]),BUFFER:i([32,0])});var o="undefined"!=typeof Uint8ClampedArray,s=t.__TYPEDARRAY_POOL;s.UINT8C||(s.UINT8C=i([32,0])),s.BUFFER||(s.BUFFER=i([32,0]));var u=s.DATA,l=s.BUFFER;function f(e){if(e){var t=e.length||e.byteLength,r=a.log2(t);u[r].push(e)}}function c(e){f(e.buffer)}function d(e){e=a.nextPow2(e);var t=a.log2(e),r=u[t];return r.length>0?r.pop():new ArrayBuffer(e)}function h(e){return new Uint8Array(d(e),0,e)}function p(e){return new Uint16Array(d(2*e),0,e)}function g(e){return new Uint32Array(d(4*e),0,e)}function v(e){return new Int8Array(d(e),0,e)}function _(e){return new Int16Array(d(2*e),0,e)}function m(e){return new Int32Array(d(4*e),0,e)}function y(e){return new Float32Array(d(4*e),0,e)}function b(e){return new Float64Array(d(8*e),0,e)}function w(e){return o?new Uint8ClampedArray(d(e),0,e):h(e)}function E(e){return new DataView(d(e),0,e)}function x(e){e=a.nextPow2(e);var t=a.log2(e),n=l[t];return n.length>0?n.pop():new r(e)}n.free=function(e){if(r.isBuffer(e))l[a.log2(e.length)].push(e);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(e)&&(e=e.buffer),!e)return;var t=e.length||e.byteLength,n=0|a.log2(t);u[n].push(e)}},n.freeUint8=n.freeUint16=n.freeUint32=n.freeInt8=n.freeInt16=n.freeInt32=n.freeFloat32=n.freeFloat=n.freeFloat64=n.freeDouble=n.freeUint8Clamped=n.freeDataView=c,n.freeArrayBuffer=f,n.freeBuffer=function(e){l[a.log2(e.length)].push(e)},n.malloc=function(e,t){if(void 0===t||"arraybuffer"===t)return d(e);switch(t){case"uint8":return h(e);case"uint16":return p(e);case"uint32":return g(e);case"int8":return v(e);case"int16":return _(e);case"int32":return m(e);case"float":case"float32":return y(e);case"double":case"float64":return b(e);case"uint8_clamped":return w(e);case"buffer":return x(e);case"data":case"dataview":return E(e);default:return null}return null},n.mallocArrayBuffer=d,n.mallocUint8=h,n.mallocUint16=p,n.mallocUint32=g,n.mallocInt8=v,n.mallocInt16=_,n.mallocInt32=m,n.mallocFloat32=n.mallocFloat=y,n.mallocFloat64=n.mallocDouble=b,n.mallocUint8Clamped=w,n.mallocDataView=E,n.mallocBuffer=x,n.clearCache=function(){for(var e=0;e<32;++e)s.UINT8[e].length=0,s.UINT16[e].length=0,s.UINT32[e].length=0,s.INT8[e].length=0,s.INT16[e].length=0,s.INT32[e].length=0,s.FLOAT[e].length=0,s.DOUBLE[e].length=0,s.UINT8C[e].length=0,u[e].length=0,l[e].length=0}}).call(this,void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer)},{"bit-twiddle":2,buffer:3,dup:8}],22:[function(e,t,r){"use strict";function n(e,t){for(var r=1,n=e.length,a=e[0],i=e[0],o=1;o<n;++o)if(i=a,t(a=e[o],i)){if(o===r){r++;continue}e[r++]=a}return e.length=r,e}function a(e){for(var t=1,r=e.length,n=e[0],a=e[0],i=1;i<r;++i,a=n)if(a=n,(n=e[i])!==a){if(i===t){t++;continue}e[t++]=n}return e.length=t,e}function i(e,t,r){return 0===e.length?e:t?(r||e.sort(t),n(e,t)):(r||e.sort(),a(e))}t.exports=i},{}],23:[function(e,t,r){"use strict";t.exports={printThreshold:7,nFloatingValues:5}},{}],24:[function(e,t,r){"use strict";t.exports={int8:Int8Array,int16:Int16Array,int32:Int32Array,uint8:Uint8Array,uint16:Uint16Array,uint32:Uint32Array,float32:Float32Array,float64:Float64Array,array:Array}},{}],25:[function(e,t,r){"use strict";t.exports={ValueError:function(){var e=Error.apply(this,arguments);return e.name=this.constructor.name,e},ConfigError:function(){var e=Error.apply(this,arguments);return e.name=this.constructor.name,e},NotImplementedError:function(){var e=Error.apply(this,arguments);return e.name=this.constructor.name,e}}},{}],26:[function(e,t,r){"use strict";t.exports=function(e,t,r,n,a){var i=t-1,o=t+n-1,s=e-1,u=e+r-1;return 0!==t&&0!==e?a.selection.get(s,i)-a.selection.get(u,i)-a.selection.get(s,o)+a.selection.get(u,o):0===t&&0===e?a.selection.get(e+r-1,t+n-1):0===t?-a.selection.get(s,t+n-1)+a.selection.get(e+r-1,t+n-1):-a.selection.get(u,i)+a.selection.get(u,o)}},{}],27:[function(e,t,r){"use strict";var n=e("./area-sum");t.exports=function(e,t,r,a,i){return n(e,t,r,a,i)/(r*a)}},{"./area-sum":26}],28:[function(e,t,r){(function(r){"use strict";var n=e("path"),a=e("./read"),i=n.join(n.resolve(r),"../../data");function o(e){return a(n.join(i,e))}var s={};Object.defineProperty(s,"digit",{get:function(){return o("five.png")}}),Object.defineProperty(s,"five",{get:function(){return o("five.png")}}),Object.defineProperty(s,"node",{get:function(){return o("nodejs.png")}}),Object.defineProperty(s,"lena",{get:function(){return o("lenna.png")}}),Object.defineProperty(s,"lenna",{get:function(){return o("lenna.png")}}),Object.defineProperty(s,"moon",{get:function(){return o("moon.jpg")}}),t.exports=s}).call(this,"/src/images")},{"./read":32,path:19}],29:[function(e,t,r){"use strict";var n=e("../ndarray");t.exports=function(e){return new n(e.selection.step(null,-1))}},{"../ndarray":42}],30:[function(e,t,r){"use strict";t.exports={data:e("./data"),read:e("./read"),save:e("./save"),resize:e("./resize"),sat:e("./sat"),ssat:e("./ssat"),sobel:e("./sobel"),scharr:e("./scharr"),areaSum:e("./area-sum"),areaValue:e("./area-value"),rgb2gray:e("./rgb2gray"),flip:e("./flip")}},{"./area-sum":26,"./area-value":27,"./data":28,"./flip":29,"./read":32,"./resize":33,"./rgb2gray":34,"./sat":35,"./save":36,"./scharr":37,"./sobel":38,"./ssat":39}],31:[function(e,t,r){"use strict";var n=e("../ndarray"),a=e("cwise/lib/wrapper")({args:["array","array","array"],pre:{body:"{this_isgray=!0}",args:[],thisVars:["this_isgray"],localVars:[]},body:{body:"{_inline_82_arg0_===_inline_82_arg1_&&_inline_82_arg1_===_inline_82_arg2_||(this_isgray=!1)}",args:[{name:"_inline_82_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_82_arg1_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_82_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_isgray"],localVars:[]},post:{body:"{return this_isgray}",args:[],thisVars:["this_isgray"],localVars:[]},debug:!1,funcName:"doCheckIsGrayscaleCwise",blockSize:64});t.exports=function(e){e instanceof n&&(e=e.selection);var t=e.shape;return 1!==t.length&&(2===t.length||3===t.length&&1===t[2]||3===t.length&&(3===t[2]||4===t[2])&&a(e.pick(null,null,0),e.pick(null,null,1),e.pick(null,null,2)))}},{"../ndarray":42,"cwise/lib/wrapper":7}],32:[function(e,t,r){"use strict";var n=e("ndarray"),a=e("../ndarray"),i=e("../errors"),o=e("./is-grayscale");function s(e){var t=e.getContext("2d").getImageData(0,0,e.width,e.height),r=[e.width,e.height,4],i=[4,4*e.width,1],s=n(new Uint8Array(t.data),r,i,0).transpose(1,0);return o(s)&&(s=s.pick(null,null,0)),new a(s)}function u(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var r=t.getContext("2d");r.drawImage(e,0,0);var i=r.getImageData(0,0,e.width,e.height),s=[e.width,e.height,4],u=[4,4*e.width,1],l=n(new Uint8Array(i.data),s,u,0).transpose(1,0);return o(l)&&(l=l.pick(null,null,0)),new a(l)}t.exports=function(e){if(e instanceof HTMLCanvasElement)return s(e);if(e instanceof HTMLImageElement)return u(e);throw new i.ValueError("expect input to be either an HTML Canvas or a (loaded) Image")}},{"../errors":25,"../ndarray":42,"./is-grayscale":31,ndarray:18}],33:[function(e,t,r){"use strict";var n=e("./utils"),a=e("ndarray"),i=e("../ndarray");t.exports=function(e,t,r){var o=e.shape,s=o[0],u=o[1],l=o[2]||1,f=document.createElement("canvas");f.height=s,f.width=u;var c=f.getContext("2d"),d=c.createImageData(u,s),h=n.setRawData(e.selection,d.data);if(h)throw h;var p=s/t,g=u/r,v=Math.min(p,g),_=t*v,m=r*v,y=(s-v*t)/2,b=(u-v*r)/2;c.putImageData(d,0,0),c.drawImage(f,b,y,m,_,0,0,r,t);var w=c.getImageData(0,0,r,t),E=[0|r,0|t,4],x=[4,4*r|0,1],j=a(new Uint8Array(w.data),E,x,0).transpose(1,0);return(2===o.length||3===o.length&&1===l)&&(j=j.pick(null,null,0)),new i(j)}},{"../ndarray":42,"./utils":40,ndarray:18}],34:[function(e,t,r){"use strict";var n=e("../ndarray"),a=e("../utils"),i=e("cwise/lib/wrapper")({args:["array","array","array","array"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_79_arg0_=4899*_inline_79_arg1_+9617*_inline_79_arg2_+1868*_inline_79_arg3_+8192>>14}",args:[{name:"_inline_79_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_79_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_79_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_79_arg3_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"rgb2grayCwise",blockSize:64});t.exports=function(e){e instanceof n||(e=new n(e));var t=e.shape,r=t[0],o=t[1];if(1===(t[2]||1))return e;var s=[r,o],u=new n(new Uint8Array(a.shapeSize(s)),s),l=e.selection.pick(null,null,0),f=e.selection.pick(null,null,1),c=e.selection.pick(null,null,2);return i(u.selection,l,f,c),u}},{"../ndarray":42,"../utils":43,"cwise/lib/wrapper":7}],35:[function(e,t,r){"use strict";var n=e("../ndarray"),a=e("./rgb2gray"),i=e("cwise/lib/wrapper")({args:["array","array","index",{offset:[-1,-1],array:0},{offset:[-1,0],array:0},{offset:[0,-1],array:0}],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_67_arg0_=0!==_inline_67_arg2_[0]&&0!==_inline_67_arg2_[1]?_inline_67_arg1_+_inline_67_arg4_+_inline_67_arg5_-_inline_67_arg3_:0===_inline_67_arg2_[0]&&0===_inline_67_arg2_[1]?_inline_67_arg1_:0===_inline_67_arg2_[0]?_inline_67_arg1_+_inline_67_arg5_:_inline_67_arg1_+_inline_67_arg4_}",args:[{name:"_inline_67_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_67_arg1_",lvalue:!1,rvalue:!0,count:4},{name:"_inline_67_arg2_",lvalue:!1,rvalue:!0,count:5},{name:"_inline_67_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_67_arg4_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_67_arg5_",lvalue:!1,rvalue:!0,count:2}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"doIntegrateBody",blockSize:64});t.exports=function(e){var t=a(e),r=t.shape,o=r[0],s=r[1],u=new n(new Uint32Array(o*s),[o,s]);return i(u.selection,t.selection),u}},{"../ndarray":42,"./rgb2gray":34,"cwise/lib/wrapper":7}],36:[function(e,t,r){"use strict";var n=e("./utils"),a=e("../errors");t.exports=function(e,t){var r=e.shape,i=r[0],o=r[1];if(!(t instanceof HTMLCanvasElement))throw new a.ValueError("expect input to be either an HTML Canvas or a (loaded) Image");var s=document.createElement("canvas");s.height=i,s.width=o;var u=s.getContext("2d"),l=u.createImageData(o,i),f=n.setRawData(e.selection,l.data);if(f)throw f;u.putImageData(l,0,0),u.drawImage(s,o,i),t.getContext("2d").drawImage(s,0,0,o,i,0,0,t.width,t.height)}},{"../errors":25,"./utils":40}],37:[function(e,t,r){"use strict";var n=e("ndarray-ops"),a=e("../ndarray"),i=e("../utils"),o=e("./rgb2gray"),s=e("cwise/lib/wrapper")({args:["array","array",{offset:[-1,-1],array:1},{offset:[-1,0],array:1},{offset:[-1,1],array:1},{offset:[0,-1],array:1},{offset:[0,1],array:1},{offset:[1,-1],array:1},{offset:[1,0],array:1},{offset:[1,1],array:1}],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{var _inline_70_q=3*_inline_70_arg2_+10*_inline_70_arg3_+3*_inline_70_arg4_-3*_inline_70_arg7_-10*_inline_70_arg8_-3*_inline_70_arg9_,_inline_70_s=3*_inline_70_arg2_-3*_inline_70_arg4_+10*_inline_70_arg5_-10*_inline_70_arg6_+3*_inline_70_arg7_-3*_inline_70_arg9_;_inline_70_arg0_=Math.sqrt(_inline_70_s*_inline_70_s+_inline_70_q*_inline_70_q)}",args:[{name:"_inline_70_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_70_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_70_arg2_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_70_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_70_arg4_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_70_arg5_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_70_arg6_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_70_arg7_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_70_arg8_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_70_arg9_",lvalue:!1,rvalue:!0,count:2}],thisVars:[],localVars:["_inline_70_q","_inline_70_s"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"doSobelBody",blockSize:64});t.exports=function(e){var t=o(e),r=t.shape,u=r[0],l=r[1],f=new a(new Float32Array(i.shapeSize(r)),r);return s(f.selection,t.selection),n.assigns(f.selection.pick(0,null),0),n.assigns(f.selection.pick(null,0),0),n.assigns(f.selection.pick(u-1,null),0),n.assigns(f.selection.pick(null,l-1),0),f.divide(16*Math.sqrt(2),!1)}},{"../ndarray":42,"../utils":43,"./rgb2gray":34,"cwise/lib/wrapper":7,"ndarray-ops":17}],38:[function(e,t,r){"use strict";var n=e("ndarray-ops"),a=e("../ndarray"),i=e("../utils"),o=e("./rgb2gray"),s=e("cwise/lib/wrapper")({args:["array","array",{offset:[-1,-1],array:1},{offset:[-1,0],array:1},{offset:[-1,1],array:1},{offset:[0,-1],array:1},{offset:[0,1],array:1},{offset:[1,-1],array:1},{offset:[1,0],array:1},{offset:[1,1],array:1}],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{var _inline_76_q=_inline_76_arg2_+2*_inline_76_arg3_+_inline_76_arg4_-_inline_76_arg7_-2*_inline_76_arg8_-_inline_76_arg9_,_inline_76_s=_inline_76_arg2_-_inline_76_arg4_+2*_inline_76_arg5_-2*_inline_76_arg6_+_inline_76_arg7_-_inline_76_arg9_;_inline_76_arg0_=Math.sqrt(_inline_76_s*_inline_76_s+_inline_76_q*_inline_76_q)}",args:[{name:"_inline_76_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_76_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_76_arg2_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_76_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_76_arg4_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_76_arg5_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_76_arg6_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_76_arg7_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_76_arg8_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_76_arg9_",lvalue:!1,rvalue:!0,count:2}],thisVars:[],localVars:["_inline_76_q","_inline_76_s"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"doSobelBody",blockSize:64});t.exports=function(e){var t=o(e),r=t.shape,u=r[0],l=r[1],f=new a(new Float32Array(i.shapeSize(r)),r);return s(f.selection,t.selection),n.assigns(f.selection.pick(0,null),0),n.assigns(f.selection.pick(null,0),0),n.assigns(f.selection.pick(u-1,null),0),n.assigns(f.selection.pick(null,l-1),0),f.divide(4*Math.sqrt(2),!1)}},{"../ndarray":42,"../utils":43,"./rgb2gray":34,"cwise/lib/wrapper":7,"ndarray-ops":17}],39:[function(e,t,r){"use strict";var n=e("../ndarray"),a=e("./rgb2gray"),i=e("cwise/lib/wrapper")({args:["array","array","index",{offset:[-1,-1],array:0},{offset:[-1,0],array:0},{offset:[0,-1],array:0}],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_73_arg0_=0!==_inline_73_arg2_[0]&&0!==_inline_73_arg2_[1]?_inline_73_arg1_*_inline_73_arg1_+_inline_73_arg4_+_inline_73_arg5_-_inline_73_arg3_:0===_inline_73_arg2_[0]&&0===_inline_73_arg2_[1]?_inline_73_arg1_*_inline_73_arg1_:0===_inline_73_arg2_[0]?_inline_73_arg1_*_inline_73_arg1_+_inline_73_arg5_:_inline_73_arg1_*_inline_73_arg1_+_inline_73_arg4_}",args:[{name:"_inline_73_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_73_arg1_",lvalue:!1,rvalue:!0,count:8},{name:"_inline_73_arg2_",lvalue:!1,rvalue:!0,count:5},{name:"_inline_73_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_73_arg4_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_73_arg5_",lvalue:!1,rvalue:!0,count:2}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"doIntegrateBody",blockSize:64});t.exports=function(e){var t=a(e),r=t.shape,o=r[0],s=r[1],u=new n(new Uint32Array(o*s),[o,s]);return i(u.selection,t.selection),u}},{"../ndarray":42,"./rgb2gray":34,"cwise/lib/wrapper":7}],40:[function(e,t,r){"use strict";var n=e("../ndarray");t.exports.getRawData=function(e){var t,r;e instanceof n&&(e=e.selection);var a=0,i=e.shape,o=i[0],s=i[1],u=i[2]||1,l=new Uint8Array(o*s*u);if(3===e.shape.length)if(3===u)for(t=0;t<o;++t)for(r=0;r<s;++r)l[a++]=e.get(t,r,0),l[a++]=e.get(t,r,1),l[a++]=e.get(t,r,2);else if(4===u)for(t=0;t<o;++t)for(r=0;r<s;++r)l[a++]=e.get(t,r,0),l[a++]=e.get(t,r,1),l[a++]=e.get(t,r,2),l[a++]=e.get(t,r,3);else{if(1!==u)return new Error("Incompatible array shape");for(t=0;t<o;++t)for(r=0;r<s;++r)l[a++]=e.get(t,r,0)}else{if(2!==e.shape.length)return new Error("Invalid image");for(t=0;t<o;++t)for(r=0;r<s;++r)l[a++]=e.get(t,r)}return l},t.exports.setRawData=function(e,t){var r,n,a,i=0,o=e.shape[0],s=e.shape[1],u=e.shape[2]||1;if(3===e.shape.length)if(3===u)for(r=0;r<o;++r)for(n=0;n<s;++n)t[i++]=e.get(r,n,0),t[i++]=e.get(r,n,1),t[i++]=e.get(r,n,2),t[i++]=255;else if(4===u)for(r=0;r<o;++r)for(n=0;n<s;++n)t[i++]=e.get(r,n,0),t[i++]=e.get(r,n,1),t[i++]=e.get(r,n,2),t[i++]=e.get(r,n,3);else{if(1!==u)return new Error("Incompatible array shape");for(r=0;r<o;++r)for(n=0;n<s;++n)a=e.get(r,n,0),t[i++]=a,t[i++]=a,t[i++]=a,t[i++]=255}else{if(2!==e.shape.length)return new Error("Invalid image");for(r=0;r<o;++r)for(n=0;n<s;++n)a=e.get(r,n),t[i++]=a,t[i++]=a,t[i++]=a,t[i++]=255}}},{"../ndarray":42}],41:[function(e,t,r){"use strict";var n=e("ndarray"),a=e("ndarray-ops"),i=e("ndarray-fft"),o=e("./config"),s=e("./dtypes"),u=e("./ndarray"),l=e("./utils"),f=e("./errors");function c(e,t){if(0!==e.length&&0!==t.length){for(var r=e.slice().reverse(),n=t.slice().reverse(),a=Math.max(e.length,t.length),i=new Array(a),o=0;o<a;o++)if(r[o]&&1!==r[o])if(n[o]&&1!==n[o]){if(r[o]!==n[o])return;i[o]=r[o]}else i[o]=r[o];else i[o]=n[o];return i.reverse()}}function d(e,t){return u.new(e).add(t)}function h(e,t){return u.new(e).multiply(t)}function p(e,t){return u.new(e).divide(t)}function g(e,t){return u.new(e).subtract(t)}function v(e,t){return u.new(e).equal(t)}function _(e){return u.new(e).flatten()}function m(e,t){return u.new(e).reshape(t)}function y(e){return u.new(e).exp()}function b(e){return u.new(e).log()}function w(e){return u.new(e).sqrt()}function E(e,t){return u.new(e).pow(t)}function x(e){return u.new(e).sum()}function j(e){return u.new(e).mean()}function I(e,t){return u.new(e).std(t)}function A(e){return u.new(e).min()}function T(e){return u.new(e).max()}function S(e,t){return u.new(e).mod(t)}function k(e,t){return u.new(e).transpose(t)}function P(e){return u.new(e).negative()}function O(e,t,r,n){if(1===arguments.length)return O(0,e,1,void 0);if(2===arguments.length&&l.isNumber(t))return O(e,t,1,void 0);if(2===arguments.length)return O(0,e,1,t);if(3===arguments.length&&!l.isNumber(r))return O(e,t,1,r);for(var a=[],i=0;e<t;)a[i++]=e,e+=r;return u.new(a,n)}function D(e,t){l.isNumber(e)&&e>=0&&(e=[e]);var r=l.shapeSize(e),n=l.getType(t),i=new u(new n(r),e);return"array"===i.dtype&&a.assigns(i.selection,0),i}function L(e,t){l.isNumber(e)&&e>=0&&(e=[e]);var r=l.shapeSize(e),n=l.getType(t),i=new u(new n(r),e);return a.assigns(i.selection,1),i}function C(e,t){l.isNumber(e)&&e>=0&&(e=[e]);var r=l.shapeSize(e),n=l.getType(t);return new u(new n(r),e)}function R(e){if(0===arguments.length)return u.new(Math.random());e=1===arguments.length?l.isNumber(e)?[0|e]:e:[].slice.call(arguments);var t=l.shapeSize(e),r=new u(new Float64Array(t),e);return a.random(r.selection),r}function M(e){var t=u.new(e).exp(),r=t.sum();return a.divseq(t.selection,r),t}var U=e("cwise/lib/wrapper")({args:["array","scalar"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_43_arg0_=_inline_43_arg0_<-30?0:_inline_43_arg0_>30?1:1/(1+Math.exp(-1*_inline_43_arg1_*_inline_43_arg0_))}",args:[{name:"_inline_43_arg0_",lvalue:!0,rvalue:!0,count:4},{name:"_inline_43_arg1_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"sigmoidCwise",blockSize:64});function B(e,t){return e=u.new(e).clone(),t=t||1,U(e.selection,t),e}var N=e("cwise/lib/wrapper")({args:["array","scalar","scalar"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_46_arg0_=Math.min(Math.max(_inline_46_arg1_,_inline_46_arg0_),_inline_46_arg2_)}",args:[{name:"_inline_46_arg0_",lvalue:!0,rvalue:!0,count:2},{name:"_inline_46_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_46_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"clipCwise",blockSize:64});function F(e,t,r){1===arguments.length?(t=0,r=1):2===arguments.length&&(r=1);var n=e instanceof u?e.clone():u.new(e);return N(n.selection,t,r),n}var V=e("cwise/lib/wrapper")({args:["array","scalar"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_49_arg0_=Math.max(_inline_49_arg1_*_inline_49_arg0_,_inline_49_arg0_)}",args:[{name:"_inline_49_arg0_",lvalue:!0,rvalue:!0,count:3},{name:"_inline_49_arg1_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"leakyReluCwise",blockSize:64});function z(e,t){t=t||.001;var r=e instanceof u?e.clone():u.new(e);return V(r.selection,t),r}var q=e("cwise/lib/wrapper")({args:["array"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_52_arg0_=(Math.exp(2*_inline_52_arg0_)-1)/(Math.exp(2*_inline_52_arg0_)+1)}",args:[{name:"_inline_52_arg0_",lvalue:!0,rvalue:!0,count:3}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"tanhCwise",blockSize:64});function W(e){var t=e instanceof u?e.clone():u.new(e);return q(t.selection),t}function Z(e){var t=e instanceof u?e.clone():u.new(e);return a.abseq(t.selection),t}function G(e){var t=e instanceof u?e.clone():u.new(e);return a.coseq(t.selection),t}function H(e){var t=e instanceof u?e.clone():u.new(e);return a.acoseq(t.selection),t}function Y(e){var t=e instanceof u?e.clone():u.new(e);return a.sineq(t.selection),t}function X(e){var t=e instanceof u?e.clone():u.new(e);return a.asineq(t.selection),t}function $(e){var t=e instanceof u?e.clone():u.new(e);return a.taneq(t.selection),t}function J(e){var t=e instanceof u?e.clone():u.new(e);return a.ataneq(t.selection),t}function K(e,t){return u.new(e).dot(t)}function Q(e){var t,r;for(arguments.length>1&&(e=[].slice.call(arguments)),t=0;t<e.length;t++)r=e[t],e[t]=r instanceof u?r.tolist():l.isNumber(r)?[r]:r;var n=e[0];for(t=1;t<e.length;t++){r=e[t];var a=l.getShape(n),i=l.getShape(r);if(a.length!==i.length)throw new f.ValueError("all the input arrays must have same number of dimensions");if(1===a.length&&1===i.length)n=n.concat(r);else if(2===a.length&&2===i.length&&a[0]===i[0]||1===a.length&&2===i.length&&a[0]===i[0]||2===a.length&&1===i.length&&a[0]===i[0])for(var o=0;o<a[0];o++)n[o]=n[o].concat(r[o]);else{if(!(3===a.length&&3===i.length&&a[0]===i[0]&&a[1]===i[1]||2===a.length&&3===i.length&&a[0]===i[0]&&a[1]===i[1]||3===a.length&&2===i.length&&a[0]===i[0]&&a[1]===i[1]))throw new f.ValueError('cannot concatenate  "'+a+'" with "'+i+'"');for(var s=0;s<a[0];s++){for(var c=new Array(a[1]),d=0;d<a[1];d++)c[d]=n[s][d].concat(r[s][d]);n[s]=c}}}return u.new(n,e[0].dtype)}function ee(e){return u.new(e).round()}function te(e,t){return u.new(e).convolve(t)}function re(e,t){return u.new(e).fftconvolve(t)}function ne(e){var t=(e=e instanceof u?e.clone():u.new(e)).shape,r=t.length;if(2!==t[r-1])throw new f.ValueError("expect last dimension of the array to have 2 values (for both real and imaginary part)");var n=new Array(r),a=new Array(r);return n[r-1]=0,a[r-1]=1,i(1,e.selection.pick.apply(e.selection,n),e.selection.pick.apply(e.selection,a)),e}function ae(e){var t=(e=e instanceof u?e.clone():u.new(e)).shape,r=t.length;if(2!==t[r-1])throw new f.ValueError("expect last dimension of the array to have 2 values (for both real and imaginary part)");var n=new Array(r),a=new Array(r);return n[r-1]=0,a[r-1]=1,i(-1,e.selection.pick.apply(e.selection,n),e.selection.pick.apply(e.selection,a)),e}function ie(e){return u.new(e).diag()}function oe(e,t){for(var r=D([e,e],t),n=0;n<e;n++)r.set(n,n,1);return r}function se(e,t){if(t=t||0,!e||0===e.length)throw new f.ValueError("need at least one array to stack");for(var r,n=(e=e.map((function(e){return l.isNumber(e)?e:u.new(e)})))[0].shape||[],a=1;a<e.length;a++)for(var i=e[a].shape||[],o=Math.max(n.length,i.length),s=0;s<o;s++)if(n[s]!==i[s])throw new f.ValueError("all input arrays must have the same shape");if(0===n.length)r=Q(e);else for(r=D([e.length].concat(n)),a=0;a<e.length;a++)r.pick(a).assign(e[a],!1);if(t){t<0&&(t=r.ndim+t);var c=r.ndim,d=new Array(c);for(a=0;a<c;a++)d[a]=a<t?a+1:a===t?0:a;return r.transpose(d)}return r}function ue(e,t){for(var r=L((e=u.new(e)).ndim).tolist(),n=t;n<0;)n+=e.ndim;if(void 0===r[n])throw new f.ValueError("axis="+t+"invalid for the "+e.ndim+"-dimensional input array");return r[n]=-1,e.step.apply(e,r)}function le(e,t,r){for(t=t||1;t<0;)t+=4;if(t%=4,e=u.new(e),1!==(r=u.new(r||[0,1])).shape.length||2!==r.shape[0])throw new f.ValueError("len(axes) must be 2");if((r=r.tolist())[0]===r[1]||Z(r[0]-r[1])===e.ndim)throw new f.ValueError("Axes must be different.");if(0===t)return e;if(2===t)return ue(ue(e,r[0]),r[1]);var n=O(e.ndim).tolist(),a=n[r[0]];return n[r[0]]=n[r[1]],n[r[1]]=a,1===t?k(ue(e,r[1]),n):ue(k(e,n),r[1])}t.exports={config:o,dtypes:s,NdArray:u,ndarray:n,array:u.new,arange:O,reshape:m,zeros:D,ones:L,empty:C,flatten:_,flip:ue,random:R,softmax:M,sigmoid:B,leakyRelu:z,abs:Z,arccos:H,arcsin:X,arctan:J,cos:G,sin:Y,tan:$,tanh:W,clip:F,exp:y,log:b,sqrt:w,power:E,sum:x,mean:j,std:I,dot:K,add:d,subtract:g,multiply:h,divide:p,negative:P,equal:v,max:T,min:A,mod:S,remainder:S,concatenate:Q,transpose:k,errors:f,broadcast:c,round:ee,convolve:te,fftconvolve:re,fft:ne,ifft:ae,diag:ie,identity:oe,stack:se,rot90:le,int8:function(e){return u.new(e,"int8")},uint8:function(e){return u.new(e,"uint8")},int16:function(e){return u.new(e,"int16")},uint16:function(e){return u.new(e,"uint16")},int32:function(e){return u.new(e,"int32")},uint32:function(e){return u.new(e,"uint32")},float32:function(e){return u.new(e,"float32")},float64:function(e){return u.new(e,"float64")},images:e("./images")}},{"./config":23,"./dtypes":24,"./errors":25,"./images":30,"./ndarray":42,"./utils":43,"cwise/lib/wrapper":7,ndarray:18,"ndarray-fft":13,"ndarray-ops":17}],42:[function(e,t,r){"use strict";var n=e("ndarray"),a=e("ndarray-ops"),i=e("ndarray-gemm"),o=e("ndarray-fft"),s=e("typedarray-pool"),u=e("./config"),l=e("./errors"),f=e("./utils"),c=function(){if(1===arguments.length)this.selection=arguments[0];else{if(0===arguments.length)throw new l.ValueError("Required argument 'data' not found");this.selection=n.apply(null,arguments)}Object.defineProperty(this,"size",{get:function(){return this.selection.size}.bind(this)}),Object.defineProperty(this,"shape",{get:function(){return this.selection.shape}.bind(this)}),Object.defineProperty(this,"ndim",{get:function(){return this.selection.shape.length}.bind(this)}),Object.defineProperty(this,"dtype",{get:function(){return this.selection.dtype}.bind(this),set:function(e){var t=f.getType(e);t!==f.getType(this.dtype)&&(this.selection=n(new t(this.selection.data),this.selection.shape,this.selection.stride,this.selection.offset))}.bind(this)}),Object.defineProperty(this,"T",{get:function(){return this.transpose()}.bind(this)})};c.prototype.get=function(){for(var e=arguments.length,t=0;t<e;t++)arguments[t]<0&&(arguments[t]+=this.shape[t]);return this.selection.get.apply(this.selection,arguments)},c.prototype.set=function(){return this.selection.set.apply(this.selection,arguments)},c.prototype.slice=function(){for(var e=this.ndim,t=new Array(e),r=new Array(e),n=new Array(e),a=this.shape,i=0;i<e;i++){var o=arguments[i];if(void 0===o)break;if(null!==o)if(f.isNumber(o))r[i]=o<0?o+a[i]:o,t[i]=null,n[i]=1;else if(4===o.length&&null===o[1]&&null===o[2]){var s=o[0]<0?o[0]+a[i]:o[0];r[i]=s,t[i]=null,n[i]=o[3]||1}else{var u=o[0]<0?o[0]+a[i]:o[0],l=o[1]<0?o[1]+a[i]:o[1];r[i]=l?u:0,t[i]=l?l-u:u,n[i]=o[2]||1}}var d=this.selection.lo.apply(this.selection,r),h=d.hi.apply(d,t),p=h.step.apply(h,n);return new c(p)},c.prototype.pick=function(e){return new c(this.selection.pick.apply(this.selection,arguments))},c.prototype.lo=function(){return new c(this.selection.lo.apply(this.selection,arguments))},c.prototype.hi=function(){return new c(this.selection.hi.apply(this.selection,arguments))},c.prototype.step=function(){return new c(this.selection.step.apply(this.selection,arguments))},c.prototype.flatten=function(){if(1===this.ndim)return new c(this.selection);var e=f.getType(this.dtype),t=f.flatten(this.tolist(),!0);return t instanceof e||(t=new e(t)),new c(t,[this.size])},c.prototype.reshape=function(e){if(0===arguments.length)throw new l.ValueError("function takes at least one argument (0 given)");if(1===arguments.length&&f.isNumber(e)&&-1===e&&(e=[f.shapeSize(this.shape)]),1===arguments.length&&f.isNumber(e)&&(e=[e]),arguments.length>1&&(e=[].slice.call(arguments)),e.filter((function(e){return-1===e})).length>1)throw new l.ValueError("can only specify one unknown dimension");var t=f.shapeSize(e);if(e=e.map(function(e){return-1===e?-1*this.size/t:e}.bind(this)),this.size!==f.shapeSize(e))throw new l.ValueError("total size of new array must be unchanged");var r,n,a,i,o=this.selection.shape,s=this.selection.offset,u=this.selection.stride,d=o.length,h=e.length;if(d===h){var p=!0;for(a=0;a<h;++a)if(o[a]!==e[a]){p=!1;break}if(p)return new c(this.selection.data,o,u,s)}else if(1===d){for(r=new Array(h),a=h-1,i=1;a>=0;--a)r[a]=i,i*=e[a];for(n=s,a=0;a<h;++a)r[a]<0&&(n-=(e[a]-1)*r[a]);return new c(this.selection.data,e,r,n)}var g=Math.min(d,h),v=!0;for(a=0;a<g;a++)if(o[a]!==e[a]){v=!1;break}if(v){for(r=new Array(h),a=0;a<h;a++)r[a]=u[a]||1;return n=s,new c(this.selection.data,e,r,n)}return this.flatten().reshape(e)},c.prototype.transpose=function(e){if(0===arguments.length){var t=this.ndim;e=new Array(t);for(var r=0;r<t;r++)e[r]=t-r-1}else arguments.length>1&&(e=arguments);return new c(this.selection.transpose.apply(this.selection,e))},c.prototype.dot=function(e){e=e instanceof c?e:g(e,this.dtype);var t=this.shape,r=e.shape;if(2===t.length&&2===r.length&&t[1]===r[0]){var n=f.getType(this.dtype),a=new c(new n(t[0]*r[1]),[t[0],r[1]]);return i(a.selection,this.selection,e.selection),a}if(1===t.length&&2===r.length&&t[0]===r[0])return this.reshape([t[0],1]).T.dot(e).reshape(r[1]);if(2===t.length&&1===r.length&&t[1]===r[0])return this.dot(e.reshape([r[0],1])).reshape(t[0]);if(1===t.length&&1===r.length&&t[0]===r[0])return this.reshape([t[0],1]).T.dot(e.reshape([r[0],1])).reshape([1]);throw new l.ValueError("cannot compute the matrix product of given arrays")},c.prototype.assign=function(e,t){1===arguments.length&&(t=!0);var r=t?this.clone():this;return f.isNumber(e)?(a.assigns(r.selection,e),r):(e=g(e,this.dtype),a.assign(r.selection,e.selection),r)},c.prototype.add=function(e,t){1===arguments.length&&(t=!0);var r=t?this.clone():this;return f.isNumber(e)?(a.addseq(r.selection,e),r):(e=g(e,this.dtype),a.addeq(r.selection,e.selection),r)},c.prototype.subtract=function(e,t){1===arguments.length&&(t=!0);var r=t?this.clone():this;return f.isNumber(e)?(a.subseq(r.selection,e),r):(e=g(e,this.dtype),a.subeq(r.selection,e.selection),r)},c.prototype.multiply=function(e,t){1===arguments.length&&(t=!0);var r=t?this.clone():this;return f.isNumber(e)?(a.mulseq(r.selection,e),r):(e=g(e,this.dtype),a.muleq(r.selection,e.selection),r)},c.prototype.divide=function(e,t){1===arguments.length&&(t=!0);var r=t?this.clone():this;return f.isNumber(e)?(a.divseq(r.selection,e),r):(e=g(e,this.dtype),a.diveq(r.selection,e.selection),r)},c.prototype.pow=function(e,t){1===arguments.length&&(t=!0);var r=t?this.clone():this;return f.isNumber(e)?(a.powseq(r.selection,e),r):(e=g(e,this.dtype),a.poweq(r.selection,e.selection),r)},c.prototype.exp=function(e){0===arguments.length&&(e=!0);var t=e?this.clone():this;return a.expeq(t.selection),t},c.prototype.log=function(e){0===arguments.length&&(e=!0);var t=e?this.clone():this;return a.logeq(t.selection),t},c.prototype.sqrt=function(e){0===arguments.length&&(e=!0);var t=e?this.clone():this;return a.sqrteq(t.selection),t},c.prototype.max=function(){return 0===this.selection.size?null:a.sup(this.selection)},c.prototype.min=function(){return 0===this.selection.size?null:a.inf(this.selection)},c.prototype.sum=function(){return a.sum(this.selection)},c.prototype.std=function(e){e=f.defaults(e,{ddof:0});var t=this.clone();a.powseq(t.selection,2);var r=this.mean(),n=f.shapeSize(this.shape),i=a.sum(t.selection)/(n-e.ddof)-r*r*n/(n-e.ddof);return i>0?Math.sqrt(Math.abs(i)):0},c.prototype.mean=function(){return a.sum(this.selection)/f.shapeSize(this.shape)},c.prototype.mod=function(e,t){1===arguments.length&&(t=!0);var r=t?this.clone():this;return f.isNumber(e)?(a.modseq(r.selection,e),r):(e=g(e,this.dtype),a.modeq(r.selection,e.selection),r)},c.prototype.tolist=function(){return m(this.selection)},c.prototype.valueOf=function(){return this.tolist()},c.prototype.toString=function(){var e=y(this.max()).length,t=/\]\,(\s*)\[/g,r="],\n$1      [",n=/\]\,(\s+)...\,(\s+)\[/g,a="],\n$2       ...\n$2      [",i=/\[\s+\[/g,o="[[";function s(t,r){if(f.isString(r))return r;if(f.isNumber(r)){var n=y(r);return new Array(Math.max(0,e-n.length+2)).join(" ")+n}var a;t=t||0;var i=u.printThreshold,o=i/2|0;return a=r.length>i?[].concat(r.slice(0,o),[" ..."],r.slice(r.length-o)):r,new Array(t+1).join(" ")+"["+a.map((function(e,r){return s(0===r&&0===t?1:t+1,e)})).join(",")+"]"}var l=JSON.stringify(this.tolist(),s).replace(t,r).replace(i,o).replace(i,o).replace(n,a).slice(2,-1);switch(this.dtype){case"array":return"array(["+l+")";default:return"array(["+l+", dtype="+this.dtype+")"}},c.prototype.inspect=c.prototype.toString,c.prototype.toJSON=function(){return JSON.stringify(this.tolist())},c.prototype.clone=function(){var e=this.selection;return void 0===e.data.slice?new c(n([].slice.apply(e.data),e.shape,e.stride,e.offset)):new c(n(e.data.slice(),e.shape,e.stride,e.offset))},c.prototype.equal=function(e){if(e=g(e),this.size!==e.size||this.ndim!==e.ndim)return!1;for(var t=this.ndim,r=0;r<t;r++)if(this.shape[r]!==e.shape[r])return!1;return a.all(a.eqeq(this.selection,e.selection))},c.prototype.round=function(e){0===arguments.length&&(e=!0);var t=e?this.clone():this;return a.roundeq(t.selection),t},c.prototype.negative=function(){var e=this.clone();return a.neg(e.selection,this.selection),e},c.prototype.diag=function(){var e=this.ndim;if(1===e){var t=f.getType(this.dtype),r=[this.shape[0],this.shape[0]],n=new c(new t(f.shapeSize(r)),r);"array"===n.dtype&&a.assigns(n.selection,0);for(var i=0;i<this.shape[0];i++)n.set(i,i,this.get(i));return n}var o=this.shape,s=this.selection.stride,u=1<<30,l=0;for(i=0;i<e;++i)u=0|Math.min(u,o[i]),l+=s[i];return new c(this.selection.data,[u],[l],this.selection.offset)},c.prototype.iteraxis=function(e,t){var r=this.shape;if(-1===e&&(e=r.length-1),e<0||e>r.length-1)throw new l.ValueError("invalid axis");for(var n=0;n<r[e];n++){for(var a=new Array(e+1),i=0;i<e+1;i++)a[i]=i===e?n:null;t(g(m(this.selection.pick.apply(this.selection,a)),this.dtype),n)}};var d=e("cwise/lib/wrapper")({args:["array","array","array","array"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{var _inline_55_c=_inline_55_arg2_,_inline_55_f=_inline_55_arg3_,_inline_55_i=_inline_55_arg0_,_inline_55_o=_inline_55_arg1_,_inline_55_t=_inline_55_i*(_inline_55_c+_inline_55_f);_inline_55_arg0_=_inline_55_t-_inline_55_f*(_inline_55_i+_inline_55_o),_inline_55_arg1_=_inline_55_t+_inline_55_c*(_inline_55_o-_inline_55_i)}",args:[{name:"_inline_55_arg0_",lvalue:!0,rvalue:!0,count:2},{name:"_inline_55_arg1_",lvalue:!0,rvalue:!0,count:2},{name:"_inline_55_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_55_arg3_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:["_inline_55_c","_inline_55_f","_inline_55_i","_inline_55_o","_inline_55_t"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"cwise",blockSize:64}),h=e("cwise/lib/wrapper")({args:["array","array","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar",{offset:[-1,-1],array:1},{offset:[-1,0],array:1},{offset:[-1,1],array:1},{offset:[0,-1],array:1},{offset:[0,1],array:1},{offset:[1,-1],array:1},{offset:[1,0],array:1},{offset:[1,1],array:1}],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_58_arg0_=_inline_58_arg11_*_inline_58_arg10_+_inline_58_arg12_*_inline_58_arg9_+_inline_58_arg13_*_inline_58_arg8_+_inline_58_arg14_*_inline_58_arg7_+_inline_58_arg1_*_inline_58_arg6_+_inline_58_arg15_*_inline_58_arg5_+_inline_58_arg16_*_inline_58_arg4_+_inline_58_arg17_*_inline_58_arg3_+_inline_58_arg18_*_inline_58_arg2_}",args:[{name:"_inline_58_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_58_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_58_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_58_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_58_arg4_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_58_arg5_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_58_arg6_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_58_arg7_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_58_arg8_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_58_arg9_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_58_arg10_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_58_arg11_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_58_arg12_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_58_arg13_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_58_arg14_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_58_arg15_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_58_arg16_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_58_arg17_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_58_arg18_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"cwise",blockSize:64}),p=e("cwise/lib/wrapper")({args:["index","array","array","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar",{offset:[-2,-2],array:1},{offset:[-2,-1],array:1},{offset:[-2,0],array:1},{offset:[-2,1],array:1},{offset:[-2,2],array:1},{offset:[-1,-2],array:1},{offset:[-1,-1],array:1},{offset:[-1,0],array:1},{offset:[-1,1],array:1},{offset:[-1,2],array:1},{offset:[0,-2],array:1},{offset:[0,-1],array:1},{offset:[0,1],array:1},{offset:[0,2],array:1},{offset:[1,-2],array:1},{offset:[1,-1],array:1},{offset:[1,0],array:1},{offset:[1,1],array:1},{offset:[1,2],array:1},{offset:[2,-2],array:1},{offset:[2,-1],array:1},{offset:[2,0],array:1},{offset:[2,1],array:1},{offset:[2,2],array:1}],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_61_arg1_=_inline_61_arg0_[0]<2||_inline_61_arg0_[1]<2?0:_inline_61_arg28_*_inline_61_arg27_+_inline_61_arg29_*_inline_61_arg26_+_inline_61_arg30_*_inline_61_arg25_+_inline_61_arg31_*_inline_61_arg24_+_inline_61_arg32_*_inline_61_arg23_+_inline_61_arg33_*_inline_61_arg22_+_inline_61_arg34_*_inline_61_arg21_+_inline_61_arg35_*_inline_61_arg20_+_inline_61_arg36_*_inline_61_arg19_+_inline_61_arg37_*_inline_61_arg18_+_inline_61_arg38_*_inline_61_arg17_+_inline_61_arg39_*_inline_61_arg16_+_inline_61_arg2_*_inline_61_arg15_+_inline_61_arg40_*_inline_61_arg14_+_inline_61_arg41_*_inline_61_arg13_+_inline_61_arg42_*_inline_61_arg12_+_inline_61_arg43_*_inline_61_arg11_+_inline_61_arg44_*_inline_61_arg10_+_inline_61_arg45_*_inline_61_arg9_+_inline_61_arg46_*_inline_61_arg8_+_inline_61_arg47_*_inline_61_arg7_+_inline_61_arg48_*_inline_61_arg6_+_inline_61_arg49_*_inline_61_arg5_+_inline_61_arg50_*_inline_61_arg4_+_inline_61_arg51_*_inline_61_arg3_}",args:[{name:"_inline_61_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_61_arg1_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_61_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg4_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg5_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg6_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg7_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg8_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg9_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg10_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg11_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg12_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg13_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg14_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg15_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg16_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg17_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg18_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg19_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg20_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg21_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg22_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg23_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg24_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg25_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg26_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg27_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg28_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg29_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg30_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg31_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg32_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg33_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg34_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg35_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg36_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg37_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg38_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg39_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg40_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg41_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg42_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg43_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg44_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg45_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg46_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg47_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg48_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg49_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg50_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg51_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"cwise",blockSize:64});function g(e,t){if(e instanceof c)return e;var r=f.getType(t);if(f.isNumber(e))return new c(r!==Array?new r([e]):[e],[1]);var n=f.getShape(e);return n.length>1&&(e=f.flatten(e,!0)),e instanceof r||(e=new r(e)),new c(e,n)}function v(e,t){var r=0|e[t=t||0];if(r<=0)return[];var n,a=new Array(r);if(t===e.length-1)for(n=0;n<r;++n)a[n]=0;else for(n=0;n<r;++n)a[n]=v(e,t+1);return a}c.prototype.convolve=function(e){e=c.new(e);var t=this.ndim;if(t!==e.ndim)throw new l.ValueError("arrays must have the same dimensions");for(var r=new Array(t),n=new Array(t),a=this.selection,i=this.shape,o=e.selection,s=e.shape,u=0;u<t;u++){var d=i[u]-s[u]+1;if(d<0)throw new l.ValueError("filter cannot be greater than the array");r[u]=d,n[u]=-1}if(2===t&&3===s[0]&&3===s[1]){var g=new c(new Float32Array(f.shapeSize(i)),i);return h(g.selection,a,o.get(0,0),o.get(0,1),o.get(0,2),o.get(1,0),o.get(1,1),o.get(1,2),o.get(2,0),o.get(2,1),o.get(2,2)),g.lo(1,1).hi(r[0],r[1])}if(3===t&&1===s[2]&&1===i[2]&&3===s[0]&&3===s[1]){var v=new c(new Float32Array(f.shapeSize(i)),i);return h(v.selection.pick(null,null,0),a.pick(null,null,0),o.get(0,0,0),o.get(0,1,0),o.get(0,2,0),o.get(1,0,0),o.get(1,1,0),o.get(1,2,0),o.get(2,0,0),o.get(2,1,0),o.get(2,2,0)),v.lo(1,1).hi(r[0],r[1])}if(2===t&&5===s[0]&&5===s[1]){var _=new c(new Float32Array(f.shapeSize(i)),i);return p(_.selection,a,o.get(0,0),o.get(0,1),o.get(0,2),o.get(0,3),o.get(0,4),o.get(1,0),o.get(1,1),o.get(1,2),o.get(1,3),o.get(1,4),o.get(2,0),o.get(2,1),o.get(2,2),o.get(2,3),o.get(2,4),o.get(3,0),o.get(3,1),o.get(3,2),o.get(3,3),o.get(3,4),o.get(4,0),o.get(4,1),o.get(4,2),o.get(4,3),o.get(4,4)),_.lo(2,2).hi(r[0],r[1])}if(3===t&&1===s[2]&&1===i[2]&&5===s[0]&&5===s[1]){var m=new c(new Float32Array(f.shapeSize(i)),i);return p(m.selection,a,o.get(0,0,0),o.get(0,1,0),o.get(0,2,0),o.get(0,3,0),o.get(0,4,0),o.get(1,0,0),o.get(1,1,0),o.get(1,2,0),o.get(1,3,0),o.get(1,4,0),o.get(2,0,0),o.get(2,1,0),o.get(2,2,0),o.get(2,3,0),o.get(2,4,0),o.get(3,0,0),o.get(3,1,0),o.get(3,2,0),o.get(3,3,0),o.get(3,4,0),o.get(4,0,0),o.get(4,1,0),o.get(4,2,0),o.get(4,3,0),o.get(4,4,0)),m.lo(2,2).hi(r[0],r[1])}return this.fftconvolve(e)},c.prototype.fftconvolve=function(e){if(e=c.new(e),this.ndim!==e.ndim)throw new l.ValueError("arrays must have the same dimensions");var t,r=this.selection,i=e.selection,u=this.ndim,h=1,p=new Array(u),g=new Array(u),v=new Array(u);for(t=u-1;t>=0;--t)g[t]=r.shape[t],p[t]=h,h*=g[t],v[t]=r.shape[t]-i.shape[t]+1;var _=f.getType(r.dtype),m=new c(new _(f.shapeSize(v)),v),y=m.selection,b=s.mallocDouble(h),w=n(b,g,p,0);a.assigns(w,0),a.assign(w.hi.apply(w,r.shape),r);var E=s.mallocDouble(h),x=n(E,g,p,0);a.assigns(x,0),o(1,w,x);var j=s.mallocDouble(h),I=n(j,g,p,0);a.assigns(I,0),a.assign(I.hi.apply(I,i.shape),i);var A=s.mallocDouble(h),T=n(A,g,p,0);a.assigns(T,0),o(1,I,T),d(w,x,I,T),o(-1,w,x);var S,k=new Array(u),P=new Array(u),O=!1;for(t=0;t<u;++t)y.shape[t]>g[t]&&(O=!0),P[t]=i.shape[t]-1,k[t]=Math.min(y.shape[t],g[t]-P[t]);return O&&a.assign(y,0),S=(S=w.lo.apply(w,P)).hi.apply(S,k),a.assign(y.hi.apply(y,k),S),s.freeDouble(b),s.freeDouble(E),s.freeDouble(j),s.freeDouble(A),m},c.new=g,t.exports=c;var _=e("cwise/lib/wrapper")({args:["array","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{var _inline_64_a,_inline_64_e=_inline_64_arg1_;for(_inline_64_a=0;_inline_64_a<_inline_64_arg2_.length-1;++_inline_64_a)_inline_64_e=_inline_64_e[_inline_64_arg2_[_inline_64_a]];_inline_64_e[_inline_64_arg2_[_inline_64_arg2_.length-1]]=_inline_64_arg0_}",args:[{name:"_inline_64_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_64_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_64_arg2_",lvalue:!1,rvalue:!0,count:4}],thisVars:[],localVars:["_inline_64_a","_inline_64_e"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"unpackCwise",blockSize:64});function m(e){var t=v(e.shape,0);return _(e,t),t}function y(e){return String(Number((e||0).toFixed(u.nFloatingValues)))}},{"./config":23,"./errors":25,"./utils":43,"cwise/lib/wrapper":7,ndarray:18,"ndarray-fft":13,"ndarray-gemm":15,"ndarray-ops":17,"typedarray-pool":21}],43:[function(e,t,r){"use strict";var n=e("./dtypes"),a=e("lodash");function i(e){return"number"==typeof e}function o(e){return"string"==typeof e}function s(e){return"function"==typeof e}function u(e,t,r){r=r||[];for(var n=-1,a=e.length;++n<a;){var o=e[n];i(o)?r[r.length]=o:t?u(o,t,r):r.push(o)}return r}function l(e){for(var t=1,r=0;r<e.length;r++)t*=e[r];return t}function f(e){return s(e)?e:n[e]||Array}function c(e){for(var t=[];"object"==typeof e;)t.push(e.length),e=e[0];return t}function d(e){var t;return"object"==typeof e?"object"==typeof(t=e[0])?"object"==typeof t[0]?c(e):[e.length,t.length]:[e.length]:[]}t.exports={isNumber:i,isString:o,isFunction:s,flatten:u,shapeSize:l,getType:f,getShape:d,defaults:a.defaults}},{"./dtypes":24,lodash:12}]},{},[41])(41)}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(371);r(705);r(711);new Uint8Array(16);for(var e=[],t=0;t<256;++t)e.push((t+256).toString(16).substr(1))})()})();