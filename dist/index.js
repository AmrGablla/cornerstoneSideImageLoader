!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("cornerstone-core")):"function"==typeof define&&define.amd?define("cornerstoneSideImageLoader",["cornerstone-core"],t):"object"==typeof exports?exports.cornerstoneSideImageLoader=t(require("cornerstone-core")):e.cornerstoneSideImageLoader=t(e["cornerstone-core"])}(self,(function(e){return(()=>{var t={705:function(e){
/*! dicom-parser - 1.8.5 - 2020-08-20 | (c) 2017 Chris Hafey | https://github.com/cornerstonejs/dicomParser */
e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=79)}([function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var n=r(73),i=r(72),a=r(39);function o(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(o()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return c(this,e)}return l(this,e,t,r)}function l(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=h(e,t),e}(e,t,r,n):"string"==typeof t?function(e,t,r){if("string"==typeof r&&""!==r||(r="utf8"),!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(t,r),i=(e=s(e,n)).write(t,r);return i!==n&&(e=e.slice(0,i)),e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r=0|d(t.length);return 0===(e=s(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):h(e,t);if("Buffer"===t.type&&a(t.data))return h(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function c(e,t){if(f(t),e=s(e,t<0?0:0|d(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function h(e,t){var r=t.length<0?0:0|d(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function d(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return C(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return z(e).length;default:if(n)return C(e).length;t=(""+t).toLowerCase(),n=!0}}function _(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function g(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,i){var a,o=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,r/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var f=-1;for(a=r;a<s;a++)if(l(e,a)===l(t,-1===f?0:a-f)){if(-1===f&&(f=a),a-f+1===u)return f*o}else-1!==f&&(a-=a-f),f=-1}else for(r+u>s&&(r=s-u),a=r;a>=0;a--){for(var c=!0,h=0;h<u;h++)if(l(e,a+h)!==l(t,h)){c=!1;break}if(c)return a}return-1}function y(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a=t.length;if(a%2!=0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(isNaN(s))return o;e[r+o]=s}return o}function m(e,t,r,n){return V(C(t,e.length-r),e,r,n)}function b(e,t,r,n){return V(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function w(e,t,r,n){return b(e,t,r,n)}function x(e,t,r,n){return V(z(t),e,r,n)}function E(e,t,r,n){return V(function(e,t){for(var r,n,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i=r%256,a.push(i),a.push(n);return a}(t,e.length-r),e,r,n)}function A(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function k(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var a,o,s,u,l=e[i],f=null,c=l>239?4:l>223?3:l>191?2:1;if(i+c<=r)switch(c){case 1:l<128&&(f=l);break;case 2:128==(192&(a=e[i+1]))&&(u=(31&l)<<6|63&a)>127&&(f=u);break;case 3:a=e[i+1],o=e[i+2],128==(192&a)&&128==(192&o)&&(u=(15&l)<<12|(63&a)<<6|63&o)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(u=(15&l)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&u<1114112&&(f=u)}null===f?(f=65533,c=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=c}return function(e){var t=e.length;if(t<=S)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=S));return r}(n)}t.Buffer=u,t.SlowBuffer=function(e){return+e!=e&&(e=0),u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=o(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return l(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return function(e,t,r,n){return f(t),t<=0?s(e,t):void 0!==r?"string"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},u.allocUnsafe=function(e){return c(null,e)},u.allocUnsafeSlow=function(e){return c(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(!u.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)_(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)_(this,t,t+3),_(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)_(this,t,t+7),_(this,t+1,t+6),_(this,t+2,t+5),_(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?k(this,0,e):function(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,r);case"utf8":case"utf-8":return k(this,t,r);case"ascii":return T(this,t,r);case"latin1":case"binary":return I(this,t,r);case"base64":return A(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),s=Math.min(a,o),l=this.slice(n,i),f=e.slice(t,r),c=0;c<s;++c)if(l[c]!==f[c]){a=l[c],o=f[c];break}return a<o?-1:o<a?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return g(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return g(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return y(this,e,t,r);case"utf8":case"utf-8":return m(this,e,t,r);case"ascii":return b(this,e,t,r);case"latin1":case"binary":return w(this,e,t,r);case"base64":return x(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function T(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function I(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function P(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=t;a<r;++a)i+=F(e[a]);return i}function j(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function O(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,r,n,i,a){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function L(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,a=Math.min(e.length-r,2);i<a;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function R(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,a=Math.min(e.length-r,4);i<a;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function B(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function U(e,t,r,n,a){return a||B(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function M(e,t,r,n,a){return a||B(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;r=new u(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUInt8=function(e,t){return t||O(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||O(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||O(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||O(e,t,this.length);for(var n=t,i=1,a=this[e+--n];n>0&&(i*=256);)a+=this[e+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},u.prototype.readInt8=function(e,t){return t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||O(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||O(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||O(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||O(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||O(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||O(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){e=+e,t|=0,r|=0,n||D(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){e=+e,t|=0,r|=0,n||D(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);D(this,e,t,r,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<r&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);D(this,e,t,r,i-1,-i)}var a=r-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):L(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):L(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return U(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return U(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return M(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return M(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,a=n-r;if(this===e&&r<t&&t<n)for(i=a-1;i>=0;--i)e[i+t]=this[i+r];else if(a<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+a),t);return a},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(a=t;a<r;++a)this[a]=e;else{var o=u.isBuffer(e)?e:C(new u(e,n).toString()),s=o.length;for(a=0;a<r-t;++a)this[a+t]=o[a%s]}return this};var N=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function C(e,t){var r;t=t||1/0;for(var n=e.length,i=null,a=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function z(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(N,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function V(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r(0))},function(e,t,r){"use strict";var n=r(10),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=c;var a=r(6);a.inherits=r(5);var o=r(36),s=r(19);a.inherits(c,o);for(var u=i(s.prototype),l=0;l<u.length;l++){var f=u[l];c.prototype[f]||(c.prototype[f]=s.prototype[f])}function c(e){if(!(this instanceof c))return new c(e);o.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||n.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),c.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},function(e,t){var r,n,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var u,l=[],f=!1,c=-1;function h(){f&&u&&(f=!1,u.length?l=u.concat(l):c=-1,l.length&&d())}function d(){if(!f){var e=s(h);f=!0;for(var t=l.length;t;){for(u=l,l=[];++c<t;)u&&u[c].run();c=-1,t=l.length}u=null,f=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function _(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new p(e,t)),1!==l.length||f||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=_,i.addListener=_,i.once=_,i.off=_,i.removeListener=_,i.removeAllListeners=_,i.emit=_,i.prependListener=_,i.prependOnceListener=_,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(void 0===e)throw"dicomParser.readTag: missing required parameter 'byteStream'";return"x"+("00000000"+(256*e.readUint16()*256+e.readUint16()).toString(16)).substr(-8)}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){(function(e){function r(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===r(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===r(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===r(e)},t.isError=function(e){return"[object Error]"===r(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(this,r(1).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(14);function a(e,t){return void 0!==e.parser?e.parser:t}var o=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.byteArrayParser=t,this.byteArray=r,this.elements=n}return n(e,[{key:"uint16",value:function(e,t){var r=this.elements[e];if(t=void 0!==t?t:0,r&&0!==r.length)return a(r,this.byteArrayParser).readUint16(this.byteArray,r.dataOffset+2*t)}},{key:"int16",value:function(e,t){var r=this.elements[e];if(t=void 0!==t?t:0,r&&0!==r.length)return a(r,this.byteArrayParser).readInt16(this.byteArray,r.dataOffset+2*t)}},{key:"uint32",value:function(e,t){var r=this.elements[e];if(t=void 0!==t?t:0,r&&0!==r.length)return a(r,this.byteArrayParser).readUint32(this.byteArray,r.dataOffset+4*t)}},{key:"int32",value:function(e,t){var r=this.elements[e];if(t=void 0!==t?t:0,r&&0!==r.length)return a(r,this.byteArrayParser).readInt32(this.byteArray,r.dataOffset+4*t)}},{key:"float",value:function(e,t){var r=this.elements[e];if(t=void 0!==t?t:0,r&&0!==r.length)return a(r,this.byteArrayParser).readFloat(this.byteArray,r.dataOffset+4*t)}},{key:"double",value:function(e,t){var r=this.elements[e];if(t=void 0!==t?t:0,r&&0!==r.length)return a(r,this.byteArrayParser).readDouble(this.byteArray,r.dataOffset+8*t)}},{key:"numStringValues",value:function(e){var t=this.elements[e];if(t&&t.length>0){var r=(0,i.readFixedString)(this.byteArray,t.dataOffset,t.length).match(/\\/g);return null===r?1:r.length+1}}},{key:"string",value:function(e,t){var r=this.elements[e];if(r&&r.length>0){var n=(0,i.readFixedString)(this.byteArray,r.dataOffset,r.length);return t>=0?n.split("\\")[t].trim():n.trim()}}},{key:"text",value:function(e,t){var r=this.elements[e];if(r&&r.length>0){var n=(0,i.readFixedString)(this.byteArray,r.dataOffset,r.length);return t>=0?n.split("\\")[t].replace(/ +$/,""):n.replace(/ +$/,"")}}},{key:"floatString",value:function(e,t){var r=this.elements[e];if(r&&r.length>0){t=void 0!==t?t:0;var n=this.string(e,t);if(void 0!==n)return parseFloat(n)}}},{key:"intString",value:function(e,t){var r=this.elements[e];if(r&&r.length>0){t=void 0!==t?t:0;var n=this.string(e,t);if(void 0!==n)return parseInt(n)}}},{key:"attributeTag",value:function(e){var t=this.elements[e];if(t&&4===t.length){var r=a(t,this.byteArrayParser).readUint16,n=this.byteArray,i=t.dataOffset;return"x"+("00000000"+(256*r(n,i)*256+r(n,i+2)).toString(16)).substr(-8)}}}]),e}();t.default=o},function(e,t,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)i(r,n)&&(e[n]=r[n])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var a={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),i);else for(var a=0;a<n;a++)e[i+a]=t[r+a]},flattenChunks:function(e){var t,r,n,i,a,o;for(n=0,t=0,r=e.length;t<r;t++)n+=e[t].length;for(o=new Uint8Array(n),i=0,t=0,r=e.length;t<r;t++)a=e[t],o.set(a,i),i+=a.length;return o}},o={arraySet:function(e,t,r,n,i){for(var a=0;a<n;a++)e[i+a]=t[r+a]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,a)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,o))},t.setTyped(n)},function(e,t,r){var n=r(1),i=n.Buffer;function a(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(a(n,t),t.Buffer=o),a(i,o),o.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){"use strict";(function(t){!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,r,n,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var a,o,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,r)}));case 3:return t.nextTick((function(){e.call(null,r,n)}));case 4:return t.nextTick((function(){e.call(null,r,n,i)}));default:for(a=new Array(s-1),o=0;o<a.length;)a[o++]=arguments[o];return t.nextTick((function(){e.apply(null,a)}))}}}:e.exports=t}).call(this,r(3))},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t,r,n){if(void 0!==e&&t instanceof e)return t.slice(r,r+n);if(t instanceof Uint8Array)return new Uint8Array(t.buffer,t.byteOffset+r,n);throw"dicomParser.from: unknown type for byteArray"}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n,i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=(n=r(11))&&n.__esModule?n:{default:n},o=r(14),s=function(){function t(r,n,i){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),void 0===r)throw"dicomParser.ByteStream: missing required parameter 'byteArrayParser'";if(void 0===n)throw"dicomParser.ByteStream: missing required parameter 'byteArray'";if(n instanceof Uint8Array==0&&n instanceof e==0)throw"dicomParser.ByteStream: parameter byteArray is not of type Uint8Array or Buffer";if(i<0)throw"dicomParser.ByteStream: parameter 'position' cannot be less than 0";if(i>=n.length)throw"dicomParser.ByteStream: parameter 'position' cannot be greater than or equal to 'byteArray' length";this.byteArrayParser=r,this.byteArray=n,this.position=i||0,this.warnings=[]}return i(t,[{key:"seek",value:function(e){if(this.position+e<0)throw"dicomParser.ByteStream.prototype.seek: cannot seek to position < 0";this.position+=e}},{key:"readByteStream",value:function(e){if(this.position+e>this.byteArray.length)throw"dicomParser.ByteStream.prototype.readByteStream: readByteStream - buffer overread";var r=(0,a.default)(this.byteArray,this.position,e);return this.position+=e,new t(this.byteArrayParser,r)}},{key:"readUint16",value:function(){var e=this.byteArrayParser.readUint16(this.byteArray,this.position);return this.position+=2,e}},{key:"readUint32",value:function(){var e=this.byteArrayParser.readUint32(this.byteArray,this.position);return this.position+=4,e}},{key:"readFixedString",value:function(e){var t=(0,o.readFixedString)(this.byteArray,this.position,e);return this.position+=e,t}}]),t}();t.default=s}).call(this,r(1).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(void 0===e)throw"dicomParser.readSequenceItem: missing required parameter 'byteStream'";var t={tag:(0,i.default)(e),length:e.readUint32(),dataOffset:e.position};if("xfffee000"!==t.tag)throw"dicomParser.readSequenceItem: item tag (FFFE,E000) not found at offset "+e.position;return t};var n,i=(n=r(4))&&n.__esModule?n:{default:n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readFixedString=function(e,t,r){if(r<0)throw"dicomParser.readFixedString - length cannot be less than 0";if(t+r>e.length)throw"dicomParser.readFixedString: attempt to read past end of buffer";for(var n,i="",a=0;a<r;a++){if(0===(n=e[t+a]))return t+=r,i;i+=String.fromCharCode(n)}return i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){if(void 0===e)throw"dicomParser.readDicomElementExplicit: missing required parameter 'byteStream'";var u={tag:(0,a.default)(e),vr:e.readFixedString(2)};return 2===l(u.vr)?(u.length=e.readUint16(),u.dataOffset=e.position):(e.seek(2),u.length=e.readUint32(),u.dataOffset=e.position),4294967295===u.length&&(u.hadUndefinedLength=!0),u.tag===r?u:"SQ"===u.vr?((0,s.default)(e,u,t),u):4294967295===u.length?"x7fe00010"===u.tag?((0,n.default)(e,u,t),u):"UN"===u.vr?((0,i.default)(e,u),u):((0,o.default)(e,u),u):(e.seek(u.length),u)};var n=u(r(42)),i=(u(r(41)),u(r(26))),a=u(r(4)),o=u(r(24)),s=u(r(40));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){return"OB"===e||"OW"===e||"SQ"===e||"OF"===e||"UT"===e||"UN"===e?4:2}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseDicomDataSetExplicit=function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(r=void 0===r?t.byteArray.length:r,void 0===t)throw"dicomParser.parseDicomDataSetExplicit: missing required parameter 'byteStream'";if(r<t.position||r>t.byteArray.length)throw"dicomParser.parseDicomDataSetExplicit: invalid value for parameter 'maxP osition'";for(var a=e.elements;t.position<r;){var o=(0,n.default)(t,e.warnings,i.untilTag);if(a[o.tag]=o,o.tag===i.untilTag)return}if(t.position>r)throw"dicomParser:parseDicomDataSetExplicit: buffer overrun"},t.parseDicomDataSetImplicit=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(r=void 0===r?e.byteArray.length:r,void 0===t)throw"dicomParser.parseDicomDataSetImplicit: missing required parameter 'byteStream'";if(r<t.position||r>t.byteArray.length)throw"dicomParser.parseDicomDataSetImplicit: invalid value for parameter 'maxPosition'";for(var a=e.elements;t.position<r;){var o=(0,i.default)(t,n.untilTag,n.vrCallback);if(a[o.tag]=o,o.tag===n.untilTag)return}};var n=a(r(15)),i=a(r(25));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={AE:!0,AS:!0,AT:!1,CS:!0,DA:!0,DS:!0,DT:!0,FL:!1,FD:!1,IS:!0,LO:!0,LT:!0,OB:!1,OD:!1,OF:!1,OW:!1,PN:!0,SH:!0,SL:!1,SQ:!1,SS:!1,ST:!0,TM:!0,UI:!0,UL:!1,UN:void 0,UR:!0,US:!1,UT:!0};t.isStringVr=function(e){return n[e]},t.isPrivateTag=function(e){return parseInt(e[4],10)%2==1},t.parsePN=function(e){if(void 0!==e){var t=e.split("^");return{familyName:t[0],givenName:t[1],middleName:t[2],prefix:t[3],suffix:t[4]}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,s,l){if(s=s||1,l=l||t.fragments,void 0===e)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'dataSet'";if(void 0===t)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'pixelDataElement'";if(void 0===r)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'startFragmentIndex'";if(void 0===s)throw"dicomParser.readEncapsulatedPixelDataFromFragments: missing required parameter 'numFragments'";if("x7fe00010"!==t.tag)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010";if(!0!==t.encapsulatedPixelData)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(!0!==t.hadUndefinedLength)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(void 0===t.basicOffsetTable)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(void 0===t.fragments)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(t.fragments.length<=0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(r<0)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragmentIndex' must be >= 0";if(r>=t.fragments.length)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragmentIndex' must be < number of fragments";if(s<1)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'numFragments' must be > 0";if(r+s>t.fragments.length)throw"dicomParser.readEncapsulatedPixelDataFromFragments: parameter 'startFragment' + 'numFragments' < number of fragments";var f=new i.default(e.byteArrayParser,e.byteArray,t.dataOffset),c=(0,a.default)(f);if("xfffee000"!==c.tag)throw"dicomParser.readEncapsulatedPixelData: missing basic offset table xfffee000";f.seek(c.length);var h=f.position;if(1===s)return(0,o.default)(f.byteArray,h+l[r].offset+8,l[r].length);for(var d=u(l,r,s),p=(0,n.default)(f.byteArray,d),_=0,g=r;g<r+s;g++)for(var v=h+l[g].offset+8,y=0;y<l[g].length;y++)p[_++]=f.byteArray[v++];return p};var n=s(r(23)),i=s(r(12)),a=s(r(13)),o=s(r(11));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e,t,r){for(var n=0,i=t;i<t+r;i++)n+=e[i].length;return n}},function(e,t,r){"use strict";(function(t,n,i){var a=r(10);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=y;var s,u=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?n:a.nextTick;y.WritableState=v;var l=r(6);l.inherits=r(5);var f,c={deprecate:r(61)},h=r(35),d=r(9).Buffer,p=i.Uint8Array||function(){},_=r(34);function g(){}function v(e,t){s=s||r(2),e=e||{};var n=t instanceof s;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,l=e.writableHighWaterMark,f=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(l||0===l)?l:f,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var c=!1===e.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(a.nextTick(i,n),a.nextTick(A,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),A(e,t))}(e,r,n,t,i);else{var o=x(r);o||r.corked||r.bufferProcessing||!r.bufferedRequest||w(e,r),n?u(b,e,r,o,i):b(e,r,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function y(e){if(s=s||r(2),!(f.call(y,this)||this instanceof s))return new y(e);this._writableState=new v(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),h.call(this)}function m(e,t,r,n,i,a,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function b(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),A(e,t)}function w(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),a=t.corkedRequestsFree;a.entry=r;for(var s=0,u=!0;r;)i[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;i.allBuffers=u,m(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,f=r.encoding,c=r.callback;if(m(e,t,!1,t.objectMode?1:l.length,l,f,c),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function x(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function E(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),A(e,t)}))}function A(e,t){var r=x(t);return r&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,a.nextTick(E,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}l.inherits(y,h),v.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(v.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(e){return!!f.call(this,e)||this===y&&e&&e._writableState instanceof v}})):f=function(e){return e instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(e,t,r){var n,i=this._writableState,o=!1,s=!i.objectMode&&(n=e,d.isBuffer(n)||n instanceof p);return s&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(r=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=g),i.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),a.nextTick(t,r)}(this,r):(s||function(e,t,r,n){var i=!0,o=!1;return null===r?o=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),a.nextTick(n,o),i=!1),i}(this,i,e,r))&&(i.pendingcb++,o=function(e,t,r,n,i,a){if(!r){var o=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,r)),t}(t,n,i);n!==o&&(r=!0,i="buffer",n=o)}var s=t.objectMode?1:n.length;t.length+=s;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,s,n,i,a);return u}(this,i,s,e,t,r)),o},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},y.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},y.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,A(e,t),r&&(t.finished?a.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=_.destroy,y.prototype._undestroy=_.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,r(3),r(63).setImmediate,r(0))},function(e,t,r){(t=e.exports=r(36)).Stream=t,t.Readable=t,t.Writable=r(19),t.Duplex=r(2),t.Transform=r(32),t.PassThrough=r(60)},function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function i(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,o,s,u,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var f=new Error('Uncaught, unspecified "error" event. ('+t+")");throw f.context=t,f}if(a(r=this._events[e]))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),r.apply(this,s)}else if(i(r))for(s=Array.prototype.slice.call(arguments,1),o=(l=r.slice()).length,u=0;u<o;u++)l[u].apply(this,s);return!0},r.prototype.addListener=function(e,t){var o;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(o=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){if(!n(t))throw TypeError("listener must be a function");var r=!1;function i(){this.removeListener(e,i),r||(r=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},r.prototype.removeListener=function(e,t){var r,a,o,s;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=(r=this._events[e]).length,a=-1,r===t||n(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(r)){for(s=o;s-- >0;)if(r[s]===t||r[s].listener&&r[s].listener===t){a=s;break}if(a<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(a,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={readUint16:function(e,t){if(t<0)throw"littleEndianByteArrayParser.readUint16: position cannot be less than 0";if(t+2>e.length)throw"littleEndianByteArrayParser.readUint16: attempt to read past end of buffer";return e[t]+256*e[t+1]},readInt16:function(e,t){if(t<0)throw"littleEndianByteArrayParser.readInt16: position cannot be less than 0";if(t+2>e.length)throw"littleEndianByteArrayParser.readInt16: attempt to read past end of buffer";var r=e[t]+(e[t+1]<<8);return 32768&r&&(r=r-65535-1),r},readUint32:function(e,t){if(t<0)throw"littleEndianByteArrayParser.readUint32: position cannot be less than 0";if(t+4>e.length)throw"littleEndianByteArrayParser.readUint32: attempt to read past end of buffer";return e[t]+256*e[t+1]+256*e[t+2]*256+256*e[t+3]*256*256},readInt32:function(e,t){if(t<0)throw"littleEndianByteArrayParser.readInt32: position cannot be less than 0";if(t+4>e.length)throw"littleEndianByteArrayParser.readInt32: attempt to read past end of buffer";return e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24)},readFloat:function(e,t){if(t<0)throw"littleEndianByteArrayParser.readFloat: position cannot be less than 0";if(t+4>e.length)throw"littleEndianByteArrayParser.readFloat: attempt to read past end of buffer";var r=new Uint8Array(4);return r[0]=e[t],r[1]=e[t+1],r[2]=e[t+2],r[3]=e[t+3],new Float32Array(r.buffer)[0]},readDouble:function(e,t){if(t<0)throw"littleEndianByteArrayParser.readDouble: position cannot be less than 0";if(t+8>e.length)throw"littleEndianByteArrayParser.readDouble: attempt to read past end of buffer";var r=new Uint8Array(8);return r[0]=e[t],r[1]=e[t+1],r[2]=e[t+2],r[3]=e[t+3],r[4]=e[t+4],r[5]=e[t+5],r[6]=e[t+6],r[7]=e[t+7],new Float64Array(r.buffer)[0]}}},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t,r){if(void 0!==e&&t instanceof e)return e.alloc(r);if(t instanceof Uint8Array)return new Uint8Array(r);throw"dicomParser.alloc: unknown type for byteArray"}}).call(this,r(1).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(void 0===e)throw"dicomParser.readDicomElementImplicit: missing required parameter 'byteStream'";for(var r=e.byteArray.length-8;e.position<=r;)if(65534===e.readUint16()&&57357===e.readUint16())return 0!==e.readUint32()&&e.warnings("encountered non zero length following item delimiter at position "+(e.position-4)+" while reading element of undefined length with tag "+t.tag),void(t.length=e.position-t.dataOffset);t.length=e.byteArray.length-t.dataOffset,e.seek(e.byteArray.length-e.position)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){if(void 0===e)throw"dicomParser.readDicomElementImplicit: missing required parameter 'byteStream'";var s={tag:(0,a.default)(e),length:e.readUint32(),dataOffset:e.position};return 4294967295===s.length&&(s.hadUndefinedLength=!0),s.tag===t?s:u(s,e,r)&&!(0,o.isPrivateTag)(s.tag)?((0,i.default)(e,s),s):s.hadUndefinedLength?((0,n.default)(e,s),s):(e.seek(s.length),s)};var n=s(r(24)),i=s(r(26)),a=s(r(4)),o=r(17);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e,t,r){if(void 0!==r)return"SQ"===r(e.tag);if(t.position+4<=t.byteArray.length){var n=(0,a.default)(t);return t.seek(-4),"xfffee000"===n||"xfffee0dd"===n}return t.warnings.push("eof encountered before finding sequence item tag or sequence delimiter tag in peeking to determine VR"),!1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){if(void 0===e)throw"dicomParser.readSequenceItemsImplicit: missing required parameter 'byteStream'";if(void 0===t)throw"dicomParser.readSequenceItemsImplicit: missing required parameter 'element'";t.items=[],4294967295===t.length?function(e,t,r){for(;e.position+4<=e.byteArray.length;){var n=(0,o.default)(e);if(e.seek(-4),"xfffee0dd"===n)return t.length=e.position-t.dataOffset,e.seek(8),t;var i=l(e,r);t.items.push(i)}e.warnings.push("eof encountered before finding sequence delimiter in sequence of undefined length"),t.length=e.byteArray.length-t.dataOffset}(e,t,r):function(e,t,r){for(var n=t.dataOffset+t.length;e.position<n;){var i=l(e,r);t.items.push(i)}}(e,t,r)};var n=u(r(7)),i=u(r(25)),a=u(r(13)),o=u(r(4)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(16));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var r=(0,a.default)(e);return 4294967295===r.length?(r.hadUndefinedLength=!0,r.dataSet=function(e,t){for(var r={};e.position<e.byteArray.length;){var a=(0,i.default)(e,void 0,t);if(r[a.tag]=a,"xfffee00d"===a.tag)return new n.default(e.byteArrayParser,e.byteArray,r)}return e.warnings.push("eof encountered before finding sequence item delimiter in sequence item of undefined length"),new n.default(e.byteArrayParser,e.byteArray,r)}(e,t),r.length=e.position-r.dataOffset):(r.dataSet=new n.default(e.byteArrayParser,e.byteArray,{}),s.parseDicomDataSetImplicit(r.dataSet,e,e.position+r.length,{vrCallback:t})),r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,n,s){if(n=n||t.basicOffsetTable,s=s||t.fragments,void 0===e)throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'dataSet'";if(void 0===t)throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'pixelDataElement'";if(void 0===r)throw"dicomParser.readEncapsulatedImageFrame: missing required parameter 'frameIndex'";if(void 0===n)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' does not have basicOffsetTable";if("x7fe00010"!==t.tag)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010)";if(!0!==t.encapsulatedPixelData)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(!0!==t.hadUndefinedLength)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have undefined length";if(void 0===t.fragments)throw"dicomParser.readEncapsulatedImageFrame: parameter 'pixelDataElement' refers to pixel data element that does not have fragments";if(0===n.length)throw"dicomParser.readEncapsulatedImageFrame: basicOffsetTable has zero entries";if(r<0)throw"dicomParser.readEncapsulatedImageFrame: parameter 'frameIndex' must be >= 0";if(r>=n.length)throw"dicomParser.readEncapsulatedImageFrame: parameter 'frameIndex' must be < basicOffsetTable.length";var u=n[r],l=a(s,u);if(void 0===l)throw"dicomParser.readEncapsulatedImageFrame: unable to find fragment that matches basic offset table entry";var f=o(r,n,s,l);return(0,i.default)(e,t,l,f,s)};var n,i=(n=r(18))&&n.__esModule?n:{default:n},a=function(e,t){for(var r=0;r<e.length;r++)if(e[r].offset===t)return r},o=function(e,t,r,n){if(e===t.length-1)return r.length-n;for(var i=t[e+1],a=n+1;a<r.length;a++)if(r[a].offset===i)return a-n;throw"dicomParser.calculateNumberOfFragmentsForFrame: could not find fragment with offset matching basic offset table"}},function(e,t,r){"use strict";var n=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();e.exports=function(e,t,r,i){var a=n,o=i+r;e^=-1;for(var s=i;s<o;s++)e=e>>>8^a[255&(e^t[s])];return-1^e}},function(e,t,r){"use strict";e.exports=function(e,t,r,n){for(var i=65535&e|0,a=e>>>16&65535|0,o=0;0!==r;){r-=o=r>2e3?2e3:r;do{a=a+(i=i+t[n++]|0)|0}while(--o);i%=65521,a%=65521}return i|a<<16|0}},function(e,t,r){(function(e,n){var i=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(s(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,a=n.length,o=String(e).replace(i,(function(e){if("%%"===e)return"%";if(r>=a)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),u=n[r];r<a;u=n[++r])_(u)||!b(u)?o+=" "+u:o+=" "+s(u);return o},t.deprecate=function(r,i){if(y(e.process))return function(){return t.deprecate(r,i).apply(this,arguments)};if(!0===n.noDeprecation)return r;var a=!1;return function(){if(!a){if(n.throwDeprecation)throw new Error(i);n.traceDeprecation?console.trace(i):console.error(i),a=!0}return r.apply(this,arguments)}};var a,o={};function s(e,r){var n={seen:[],stylize:l};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),p(r)?n.showHidden=r:r&&t._extend(n,r),y(n.showHidden)&&(n.showHidden=!1),y(n.depth)&&(n.depth=2),y(n.colors)&&(n.colors=!1),y(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),f(n,e,n.depth)}function u(e,t){var r=s.styles[t];return r?"["+s.colors[r][0]+"m"+e+"["+s.colors[r][1]+"m":e}function l(e,t){return e}function f(e,r,n){if(e.customInspect&&r&&E(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return v(i)||(i=f(e,i,n)),i}var a=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(v(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return g(t)?e.stylize(""+t,"number"):p(t)?e.stylize(""+t,"boolean"):_(t)?e.stylize("null","null"):void 0}(e,r);if(a)return a;var o=Object.keys(r),s=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(r)),x(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return c(r);if(0===o.length){if(E(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(m(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(w(r))return e.stylize(Date.prototype.toString.call(r),"date");if(x(r))return c(r)}var l,b="",A=!1,k=["{","}"];return d(r)&&(A=!0,k=["[","]"]),E(r)&&(b=" [Function"+(r.name?": "+r.name:"")+"]"),m(r)&&(b=" "+RegExp.prototype.toString.call(r)),w(r)&&(b=" "+Date.prototype.toUTCString.call(r)),x(r)&&(b=" "+c(r)),0!==o.length||A&&0!=r.length?n<0?m(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),l=A?function(e,t,r,n,i){for(var a=[],o=0,s=t.length;o<s;++o)T(t,String(o))?a.push(h(e,t,r,n,String(o),!0)):a.push("");return i.forEach((function(i){i.match(/^\d+$/)||a.push(h(e,t,r,n,i,!0))})),a}(e,r,n,s,o):o.map((function(t){return h(e,r,n,s,t,A)})),e.seen.pop(),function(e,t,r){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}(l,b,k)):k[0]+b+k[1]}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,r,n,i,a){var o,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),T(n,i)||(o="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=_(r)?f(e,u.value,null):f(e,u.value,r-1)).indexOf("\n")>-1&&(s=a?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),y(o)){if(a&&i.match(/^\d+$/))return s;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function d(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function _(e){return null===e}function g(e){return"number"==typeof e}function v(e){return"string"==typeof e}function y(e){return void 0===e}function m(e){return b(e)&&"[object RegExp]"===A(e)}function b(e){return"object"==typeof e&&null!==e}function w(e){return b(e)&&"[object Date]"===A(e)}function x(e){return b(e)&&("[object Error]"===A(e)||e instanceof Error)}function E(e){return"function"==typeof e}function A(e){return Object.prototype.toString.call(e)}function k(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(y(a)&&(a=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!o[e])if(new RegExp("\\b"+e+"\\b","i").test(a)){var r=n.pid;o[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else o[e]=function(){};return o[e]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=p,t.isNull=_,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=v,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=y,t.isRegExp=m,t.isObject=b,t.isDate=w,t.isError=x,t.isFunction=E,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(54);var S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,r;console.log("%s - %s",(r=[k((e=new Date).getHours()),k(e.getMinutes()),k(e.getSeconds())].join(":"),[e.getDate(),S[e.getMonth()],r].join(" ")),t.format.apply(t,arguments))},t.inherits=r(53),t._extend=function(e,t){if(!t||!b(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(this,r(0),r(3))},function(e,t,r){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
function n(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0}function i(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var a=r(30),o=Object.prototype.hasOwnProperty,s=Array.prototype.slice,u="foo"===function(){}.name;function l(e){return Object.prototype.toString.call(e)}function f(e){return!i(e)&&"function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}var c=e.exports=v,h=/\s*function\s+([^\(\s]*)\s*/;function d(e){if(a.isFunction(e)){if(u)return e.name;var t=e.toString().match(h);return t&&t[1]}}function p(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function _(e){if(u||!a.isFunction(e))return a.inspect(e);var t=d(e);return"[Function"+(t?": "+t:"")+"]"}function g(e,t,r,n,i){throw new c.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:i})}function v(e,t){e||g(e,!0,t,"==",c.ok)}function y(e,t,r,o){if(e===t)return!0;if(i(e)&&i(t))return 0===n(e,t);if(a.isDate(e)&&a.isDate(t))return e.getTime()===t.getTime();if(a.isRegExp(e)&&a.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(f(e)&&f(t)&&l(e)===l(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===n(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(i(e)!==i(t))return!1;var u=(o=o||{actual:[],expected:[]}).actual.indexOf(e);return-1!==u&&u===o.expected.indexOf(t)||(o.actual.push(e),o.expected.push(t),function(e,t,r,n){if(null==e||null==t)return!1;if(a.isPrimitive(e)||a.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=m(e),o=m(t);if(i&&!o||!i&&o)return!1;if(i)return y(e=s.call(e),t=s.call(t),r);var u,l,f=x(e),c=x(t);if(f.length!==c.length)return!1;for(f.sort(),c.sort(),l=f.length-1;l>=0;l--)if(f[l]!==c[l])return!1;for(l=f.length-1;l>=0;l--)if(!y(e[u=f[l]],t[u],r,n))return!1;return!0}(e,t,r,o))}return r?e===t:e==t}function m(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function b(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function w(e,t,r,n){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),i=function(e){var t;try{e()}catch(e){t=e}return t}(t),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!i&&g(i,r,"Missing expected exception"+n);var o="string"==typeof n,s=!e&&i&&!r;if((!e&&a.isError(i)&&o&&b(i,r)||s)&&g(i,r,"Got unwanted exception"+n),e&&i&&r&&!b(i,r)||!e&&i)throw i}c.AssertionError=function(e){var t;this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=p(_((t=this).actual),128)+" "+t.operator+" "+p(_(t.expected),128),this.generatedMessage=!0);var r=e.stackStartFunction||g;if(Error.captureStackTrace)Error.captureStackTrace(this,r);else{var n=new Error;if(n.stack){var i=n.stack,a=d(r),o=i.indexOf("\n"+a);if(o>=0){var s=i.indexOf("\n",o+1);i=i.substring(s+1)}this.stack=i}}},a.inherits(c.AssertionError,Error),c.fail=g,c.ok=v,c.equal=function(e,t,r){e!=t&&g(e,t,r,"==",c.equal)},c.notEqual=function(e,t,r){e==t&&g(e,t,r,"!=",c.notEqual)},c.deepEqual=function(e,t,r){y(e,t,!1)||g(e,t,r,"deepEqual",c.deepEqual)},c.deepStrictEqual=function(e,t,r){y(e,t,!0)||g(e,t,r,"deepStrictEqual",c.deepStrictEqual)},c.notDeepEqual=function(e,t,r){y(e,t,!1)&&g(e,t,r,"notDeepEqual",c.notDeepEqual)},c.notDeepStrictEqual=function e(t,r,n){y(t,r,!0)&&g(t,r,n,"notDeepStrictEqual",e)},c.strictEqual=function(e,t,r){e!==t&&g(e,t,r,"===",c.strictEqual)},c.notStrictEqual=function(e,t,r){e===t&&g(e,t,r,"!==",c.notStrictEqual)},c.throws=function(e,t,r){w(!0,e,t,r)},c.doesNotThrow=function(e,t,r){w(!1,e,t,r)},c.ifError=function(e){if(e)throw e};var x=Object.keys||function(e){var t=[];for(var r in e)o.call(e,r)&&t.push(r);return t}}).call(this,r(0))},function(e,t,r){"use strict";e.exports=a;var n=r(2),i=r(6);function a(e){if(!(this instanceof a))return new a(e);n.call(this,e),this._transformState={afterTransform:function(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",o)}function o(){var e=this;"function"==typeof this._flush?this._flush((function(t,r){s(e,t,r)})):s(this,null,null)}function s(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=r(5),i.inherits(a,n),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,(function(e){t(e),r.emit("close")}))}},function(e,t,r){"use strict";var n=r(9).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=l,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=f,this.end=c,t=3;break;default:return this.write=h,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:-1}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�".repeat(r);if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�".repeat(r+1);if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�".repeat(r+2)}}(this,e,t);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function f(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function c(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.StringDecoder=a,a.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�".repeat(this.lastTotal-this.lastNeed):t},a.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=o(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r?0:(i=o(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r?0:(i=o(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,r){"use strict";var n=r(10);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,a=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return a||o?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(n.nextTick(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,r){e.exports=r(21).EventEmitter},function(e,t,r){"use strict";(function(t,n){var i=r(10);e.exports=m;var a,o=r(39);m.ReadableState=y,r(21).EventEmitter;var s=function(e,t){return e.listeners(t).length},u=r(35),l=r(9).Buffer,f=t.Uint8Array||function(){},c=r(6);c.inherits=r(5);var h=r(66),d=void 0;d=h&&h.debuglog?h.debuglog("stream"):function(){};var p,_=r(65),g=r(34);c.inherits(m,u);var v=["error","close","destroy","pause","resume"];function y(e,t){e=e||{};var n=t instanceof(a=a||r(2));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,o=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(o||0===o)?o:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new _,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=r(33).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function m(e){if(a=a||r(2),!(this instanceof m))return new m(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function b(e,t,r,n,i){var a,o=e._readableState;return null===t?(o.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,A(e)}}(e,o)):(i||(a=function(e,t){var r,n;return n=t,l.isBuffer(n)||n instanceof f||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}(o,t)),a?e.emit("error",a):o.objectMode||t&&t.length>0?("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===l.prototype||(t=function(e){return l.from(e)}(t)),n?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):w(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||0!==t.length?w(e,o,t,!1):S(e,o)):w(e,o,t,!1))):n||(o.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(o)}function w(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&A(e)),S(e,t)}Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),m.prototype.destroy=g.destroy,m.prototype._undestroy=g.undestroy,m.prototype._destroy=function(e,t){this.push(null),t(e)},m.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=l.from(e,t),t=""),r=!0),b(this,e,t,!1,r)},m.prototype.unshift=function(e){return b(this,e,null,!0,!1)},m.prototype.isPaused=function(){return!1===this._readableState.flowing},m.prototype.setEncoding=function(e){return p||(p=r(33).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var x=8388608;function E(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=x?e=x:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function A(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(d("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(k,e):k(e))}function k(e){d("emit readable"),e.emit("readable"),j(e)}function S(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(T,e,t))}function T(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(d("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function I(e){d("readable nexttick read 0"),e.read(0)}function P(e,t){t.reading||(d("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),j(e),t.flowing&&!t.reading&&e.read(0)}function j(e){var t=e._readableState;for(d("flow",t.flowing);t.flowing&&null!==e.read(););}function O(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var a=r.data,o=e>a.length?a.length:e;if(o===a.length?i+=a:i+=a.slice(0,e),0==(e-=o)){o===a.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=a.slice(o));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=l.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var a=n.data,o=e>a.length?a.length:e;if(a.copy(r,r.length-e,0,o),0==(e-=o)){o===a.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=a.slice(o));break}++i}return t.length-=i,r}(e,t),n}(e,t.buffer,t.decoder),r);var r}function D(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(L,t,e))}function L(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function R(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}m.prototype.read=function(e){d("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return d("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?D(this):A(this),null;if(0===(e=E(e,t))&&t.ended)return 0===t.length&&D(this),null;var n,i=t.needReadable;return d("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&d("length less than watermark",i=!0),t.ended||t.reading?d("reading or ended",i=!1):i&&(d("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=E(r,t))),null===(n=e>0?O(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&D(this)),null!==n&&this.emit("data",n),n},m.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},m.prototype.pipe=function(e,t){var r=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,d("pipe count=%d opts=%j",a.pipesCount,t);var u=t&&!1===t.end||e===n.stdout||e===n.stderr?m:f;function l(t,n){d("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,d("cleanup"),e.removeListener("close",v),e.removeListener("finish",y),e.removeListener("drain",c),e.removeListener("error",g),e.removeListener("unpipe",l),r.removeListener("end",f),r.removeListener("end",m),r.removeListener("data",_),h=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}function f(){d("onend"),e.end()}a.endEmitted?i.nextTick(u):r.once("end",u),e.on("unpipe",l);var c=function(e){return function(){var t=e._readableState;d("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,j(e))}}(r);e.on("drain",c);var h=!1,p=!1;function _(t){d("ondata"),p=!1,!1!==e.write(t)||p||((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==R(a.pipes,e))&&!h&&(d("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,p=!0),r.pause())}function g(t){d("onerror",t),m(),e.removeListener("error",g),0===s(e,"error")&&e.emit("error",t)}function v(){e.removeListener("finish",y),m()}function y(){d("onfinish"),e.removeListener("close",v),m()}function m(){d("unpipe"),r.unpipe(e)}return r.on("data",_),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",g),e.once("close",v),e.once("finish",y),e.emit("pipe",r),a.flowing||(d("pipe resume"),r.resume()),e},m.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)n[a].emit("unpipe",this,r);return this}var o=R(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},m.prototype.on=function(e,t){var r=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&A(this):i.nextTick(I,this))}return r},m.prototype.addListener=m.prototype.on,m.prototype.resume=function(){var e=this._readableState;return e.flowing||(d("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(P,e,t))}(this,e)),this},m.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},m.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(d("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){d("wrapped data"),r.decoder&&(i=r.decoder.write(i)),(!r.objectMode||null!=i)&&(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<v.length;a++)e.on(v[a],this.emit.bind(this,v[a]));return this._read=function(t){d("wrapped _read",t),n&&(n=!1,e.resume())},this},m._fromList=O}).call(this,r(0),r(3))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(void 0===e)throw"dicomParser.readPart10Header: missing required parameter 'byteArray'";var r=new n.default(a.default,e);return function(){!function(){if(r.seek(128),"DICM"!==r.readFixedString(4))throw"dicomParser.readPart10Header: DICM prefix not found at location 132 - this is not a valid DICOM P10 file."}();for(var e=[],t={};r.position<r.byteArray.length;){var n=r.position,s=(0,o.default)(r,e);if(s.tag>"x0002ffff"){r.position=n;break}s.parser=a.default,t[s.tag]=s}var u=new i.default(r.byteArrayParser,r.byteArray,t);return u.warnings=r.warnings,u.position=r.position,u}()};var n=s(r(12)),i=s(r(7)),a=s(r(22)),o=s(r(15));function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={readUint16:function(e,t){if(t<0)throw"bigEndianByteArrayParser.readUint16: position cannot be less than 0";if(t+2>e.length)throw"bigEndianByteArrayParser.readUint16: attempt to read past end of buffer";return(e[t]<<8)+e[t+1]},readInt16:function(e,t){if(t<0)throw"bigEndianByteArrayParser.readInt16: position cannot be less than 0";if(t+2>e.length)throw"bigEndianByteArrayParser.readInt16: attempt to read past end of buffer";var r=(e[t]<<8)+e[t+1];return 32768&r&&(r=r-65535-1),r},readUint32:function(e,t){if(t<0)throw"bigEndianByteArrayParser.readUint32: position cannot be less than 0";if(t+4>e.length)throw"bigEndianByteArrayParser.readUint32: attempt to read past end of buffer";return 256*(256*(256*e[t]+e[t+1])+e[t+2])+e[t+3]},readInt32:function(e,t){if(t<0)throw"bigEndianByteArrayParser.readInt32: position cannot be less than 0";if(t+4>e.length)throw"bigEndianByteArrayParser.readInt32: attempt to read past end of buffer";return(e[t]<<24)+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3]},readFloat:function(e,t){if(t<0)throw"bigEndianByteArrayParser.readFloat: position cannot be less than 0";if(t+4>e.length)throw"bigEndianByteArrayParser.readFloat: attempt to read past end of buffer";var r=new Uint8Array(4);return r[3]=e[t],r[2]=e[t+1],r[1]=e[t+2],r[0]=e[t+3],new Float32Array(r.buffer)[0]},readDouble:function(e,t){if(t<0)throw"bigEndianByteArrayParser.readDouble: position cannot be less than 0";if(t+8>e.length)throw"bigEndianByteArrayParser.readDouble: attempt to read past end of buffer";var r=new Uint8Array(8);return r[7]=e[t],r[6]=e[t+1],r[5]=e[t+2],r[4]=e[t+3],r[3]=e[t+4],r[2]=e[t+5],r[1]=e[t+6],r[0]=e[t+7],new Float64Array(r.buffer)[0]}}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){if(void 0===e)throw"dicomParser.readSequenceItemsExplicit: missing required parameter 'byteStream'";if(void 0===t)throw"dicomParser.readSequenceItemsExplicit: missing required parameter 'element'";t.items=[],4294967295===t.length?function(e,t,r){for(;e.position+4<=e.byteArray.length;){var n=(0,o.default)(e);if(e.seek(-4),"xfffee0dd"===n)return t.length=e.position-t.dataOffset,e.seek(8),t;var i=l(e,r);t.items.push(i)}r.push("eof encountered before finding sequence delimitation tag while reading sequence of undefined length"),t.length=e.position-t.dataOffset}(e,t,r):function(e,t,r){for(var n=t.dataOffset+t.length;e.position<n;){var i=l(e,r);t.items.push(i)}}(e,t,r)};var n=u(r(7)),i=u(r(15)),a=u(r(13)),o=u(r(4)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(16));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var r=(0,a.default)(e);return 4294967295===r.length?(r.hadUndefinedLength=!0,r.dataSet=function(e,t){for(var r={};e.position<e.byteArray.length;){var a=(0,i.default)(e,t);if(r[a.tag]=a,"xfffee00d"===a.tag)return new n.default(e.byteArrayParser,e.byteArray,r)}return t.push("eof encountered before finding item delimiter tag while reading sequence item of undefined length"),new n.default(e.byteArrayParser,e.byteArray,r)}(e,t),r.length=e.position-r.dataOffset):(r.dataSet=new n.default(e.byteArrayParser,e.byteArray,{}),s.parseDicomDataSetExplicit(r.dataSet,e,e.position+r.length)),r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(void 0===e)throw"dicomParser.findAndSetUNElementLength: missing required parameter 'byteStream'";for(var r=e.byteArray.length-8;e.position<=r;)if(65534===e.readUint16()&&57565===e.readUint16())return 0!==e.readUint32()&&e.warnings("encountered non zero length following item delimiter at position "+(e.position-4)+" while reading element of undefined length with tag "+t.tag),void(t.length=e.position-t.dataOffset);t.length=e.byteArray.length-t.dataOffset,e.seek(e.byteArray.length-e.position)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){if(void 0===e)throw"dicomParser.findEndOfEncapsulatedElement: missing required parameter 'byteStream'";if(void 0===t)throw"dicomParser.findEndOfEncapsulatedElement: missing required parameter 'element'";if(t.encapsulatedPixelData=!0,t.basicOffsetTable=[],t.fragments=[],"xfffee000"!==(0,i.default)(e))throw"dicomParser.findEndOfEncapsulatedElement: basic offset table not found";for(var n=e.readUint32()/4,a=0;a<n;a++){var o=e.readUint32();t.basicOffsetTable.push(o)}for(var s=e.position;e.position<e.byteArray.length;){var u=(0,i.default)(e),l=e.readUint32();if("xfffee0dd"===u)return e.seek(l),void(t.length=e.position-t.dataOffset);if("xfffee000"!==u)return r&&r.push("unexpected tag "+u+" while searching for end of pixel data element with undefined length"),l>e.byteArray.length-e.position&&(l=e.byteArray.length-e.position),t.fragments.push({offset:e.position-s-8,position:e.position,length:l}),e.seek(l),void(t.length=e.position-t.dataOffset);t.fragments.push({offset:e.position-s-8,position:e.position,length:l}),e.seek(l)}r&&r.push("pixel data element "+t.tag+" missing sequence delimiter tag xfffee0dd")};var n,i=(n=r(4))&&n.__esModule?n:{default:n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(void 0===e||void 0===t)throw"dicomParser.explicitElementToString: missing required parameters";if(void 0===t.vr)throw"dicomParser.explicitElementToString: cannot convert implicit element to string";var r,i=t.vr,a=t.tag;function o(t,r){for(var n="",i=0;i<t;i++)0!==i&&(n+="/"),n+=r.call(e,a,i).toString();return n}if(!0===n.isStringVr(i))r=e.string(a);else{if("AT"===i){var s=e.uint32(a);if(void 0===s)return;return s<0&&(s=4294967295+s+1),"x"+s.toString(16).toUpperCase()}"US"===i?r=o(t.length/2,e.uint16):"SS"===i?r=o(t.length/2,e.int16):"UL"===i?r=o(t.length/4,e.uint32):"SL"===i?r=o(t.length/4,e.int32):"FD"===i?r=o(t.length/8,e.double):"FL"===i&&(r=o(t.length/4,e.float))}return r};var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(17))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){if(o||(o=!0,console&&console.log&&console.log("WARNING: dicomParser.readEncapsulatedPixelData() has been deprecated")),void 0===e)throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'dataSet'";if(void 0===t)throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'element'";if(void 0===r)throw"dicomParser.readEncapsulatedPixelData: missing required parameter 'frame'";if("x7fe00010"!==t.tag)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to non pixel data tag (expected tag = x7fe00010)";if(!0!==t.encapsulatedPixelData)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data";if(!0!==t.hadUndefinedLength)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data";if(void 0===t.basicOffsetTable)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data";if(void 0===t.fragments)throw"dicomParser.readEncapsulatedPixelData: parameter 'element' refers to pixel data element that does not have encapsulated pixel data";if(r<0)throw"dicomParser.readEncapsulatedPixelData: parameter 'frame' must be >= 0";return 0!==t.basicOffsetTable.length?(0,n.default)(e,t,r):(0,i.default)(e,t,0,t.fragments.length)};var n=a(r(27)),i=a(r(18));function a(e){return e&&e.__esModule?e:{default:e}}var o=!1},function(e,t,r){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t,r){"use strict";var n=r(8),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,r,u,l,f,c,h){var d,p,_,g,v,y,m,b,w,x=h.bits,E=0,A=0,k=0,S=0,T=0,I=0,P=0,j=0,O=0,D=0,L=null,R=0,B=new n.Buf16(16),U=new n.Buf16(16),M=null,N=0;for(E=0;E<=15;E++)B[E]=0;for(A=0;A<u;A++)B[t[r+A]]++;for(T=x,S=15;S>=1&&0===B[S];S--);if(T>S&&(T=S),0===S)return l[f++]=20971520,l[f++]=20971520,h.bits=1,0;for(k=1;k<S&&0===B[k];k++);for(T<k&&(T=k),j=1,E=1;E<=15;E++)if(j<<=1,(j-=B[E])<0)return-1;if(j>0&&(0===e||1!==S))return-1;for(U[1]=0,E=1;E<15;E++)U[E+1]=U[E]+B[E];for(A=0;A<u;A++)0!==t[r+A]&&(c[U[t[r+A]]++]=A);if(0===e?(L=M=c,y=19):1===e?(L=i,R-=257,M=a,N-=257,y=256):(L=o,M=s,y=-1),D=0,A=0,E=k,v=f,I=T,P=0,_=-1,g=(O=1<<T)-1,1===e&&O>852||2===e&&O>592)return 1;for(;;){m=E-P,c[A]<y?(b=0,w=c[A]):c[A]>y?(b=M[N+c[A]],w=L[R+c[A]]):(b=96,w=0),d=1<<E-P,k=p=1<<I;do{l[v+(D>>P)+(p-=d)]=m<<24|b<<16|w|0}while(0!==p);for(d=1<<E-1;D&d;)d>>=1;if(0!==d?(D&=d-1,D+=d):D=0,A++,0==--B[E]){if(E===S)break;E=t[r+c[A]]}if(E>T&&(D&g)!==_){for(0===P&&(P=T),v+=k,j=1<<(I=E-P);I+P<S&&!((j-=B[I+P])<=0);)I++,j<<=1;if(O+=1<<I,1===e&&O>852||2===e&&O>592)return 1;l[_=D&g]=T<<24|I<<16|v-f|0}}return 0!==D&&(l[v+D]=E-P<<24|64<<16|0),h.bits=T,0}},function(e,t,r){"use strict";e.exports=function(e,t){var r,n,i,a,o,s,u,l,f,c,h,d,p,_,g,v,y,m,b,w,x,E,A,k,S;r=e.state,n=e.next_in,k=e.input,i=n+(e.avail_in-5),a=e.next_out,S=e.output,o=a-(t-e.avail_out),s=a+(e.avail_out-257),u=r.dmax,l=r.wsize,f=r.whave,c=r.wnext,h=r.window,d=r.hold,p=r.bits,_=r.lencode,g=r.distcode,v=(1<<r.lenbits)-1,y=(1<<r.distbits)-1;e:do{p<15&&(d+=k[n++]<<p,p+=8,d+=k[n++]<<p,p+=8),m=_[d&v];t:for(;;){if(d>>>=b=m>>>24,p-=b,0==(b=m>>>16&255))S[a++]=65535&m;else{if(!(16&b)){if(0==(64&b)){m=_[(65535&m)+(d&(1<<b)-1)];continue t}if(32&b){r.mode=12;break e}e.msg="invalid literal/length code",r.mode=30;break e}w=65535&m,(b&=15)&&(p<b&&(d+=k[n++]<<p,p+=8),w+=d&(1<<b)-1,d>>>=b,p-=b),p<15&&(d+=k[n++]<<p,p+=8,d+=k[n++]<<p,p+=8),m=g[d&y];r:for(;;){if(d>>>=b=m>>>24,p-=b,!(16&(b=m>>>16&255))){if(0==(64&b)){m=g[(65535&m)+(d&(1<<b)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(x=65535&m,p<(b&=15)&&(d+=k[n++]<<p,(p+=8)<b&&(d+=k[n++]<<p,p+=8)),(x+=d&(1<<b)-1)>u){e.msg="invalid distance too far back",r.mode=30;break e}if(d>>>=b,p-=b,x>(b=a-o)){if((b=x-b)>f&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(E=0,A=h,0===c){if(E+=l-b,b<w){w-=b;do{S[a++]=h[E++]}while(--b);E=a-x,A=S}}else if(c<b){if(E+=l+c-b,(b-=c)<w){w-=b;do{S[a++]=h[E++]}while(--b);if(E=0,c<w){w-=b=c;do{S[a++]=h[E++]}while(--b);E=a-x,A=S}}}else if(E+=c-b,b<w){w-=b;do{S[a++]=h[E++]}while(--b);E=a-x,A=S}for(;w>2;)S[a++]=A[E++],S[a++]=A[E++],S[a++]=A[E++],w-=3;w&&(S[a++]=A[E++],w>1&&(S[a++]=A[E++]))}else{E=a-x;do{S[a++]=S[E++],S[a++]=S[E++],S[a++]=S[E++],w-=3}while(w>2);w&&(S[a++]=S[E++],w>1&&(S[a++]=S[E++]))}break}}break}}while(n<i&&a<s);n-=w=p>>3,d&=(1<<(p-=w<<3))-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=a<s?s-a+257:257-(a-s),r.hold=d,r.bits=p}},function(e,t,r){"use strict";var n=r(8),i=r(29),a=r(28),o=r(47),s=r(46),u=0,l=1,f=2,c=4,h=5,d=6,p=0,_=1,g=2,v=-2,y=-3,m=-4,b=-5,w=8,x=1,E=2,A=3,k=4,S=5,T=6,I=7,P=8,j=9,O=10,D=11,L=12,R=13,B=14,U=15,M=16,N=17,F=18,C=19,z=20,V=21,q=22,Z=23,W=24,Y=25,H=26,$=27,G=28,J=29,K=30,X=31,Q=32,ee=852,te=592,re=15;function ne(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function ie(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=x,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new n.Buf32(ee),t.distcode=t.distdyn=new n.Buf32(te),t.sane=1,t.back=-1,p):v}function ae(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,ie(e)):v}function oe(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?v:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,ae(e))):v}function se(e,t){var r,i;return e?(i=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},e.state=i,i.window=null,(r=oe(e,t))!==p&&(e.state=null),r):v}var ue,le,fe=!0;function ce(e){if(fe){var t;for(ue=new n.Buf32(512),le=new n.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(l,e.lens,0,288,ue,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(f,e.lens,0,32,le,0,e.work,{bits:5}),fe=!1}e.lencode=ue,e.lenbits=9,e.distcode=le,e.distbits=5}function he(e,t,r,i){var a,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new n.Buf8(o.wsize)),i>=o.wsize?(n.arraySet(o.window,t,r-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((a=o.wsize-o.wnext)>i&&(a=i),n.arraySet(o.window,t,r-i,a,o.wnext),(i-=a)?(n.arraySet(o.window,t,r-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}t.inflateReset=ae,t.inflateReset2=oe,t.inflateResetKeep=ie,t.inflateInit=function(e){return se(e,re)},t.inflateInit2=se,t.inflate=function(e,t){var r,ee,te,re,ie,ae,oe,se,ue,le,fe,de,pe,_e,ge,ve,ye,me,be,we,xe,Ee,Ae,ke,Se=0,Te=new n.Buf8(4),Ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return v;(r=e.state).mode===L&&(r.mode=R),ie=e.next_out,te=e.output,oe=e.avail_out,re=e.next_in,ee=e.input,ae=e.avail_in,se=r.hold,ue=r.bits,le=ae,fe=oe,Ee=p;e:for(;;)switch(r.mode){case x:if(0===r.wrap){r.mode=R;break}for(;ue<16;){if(0===ae)break e;ae--,se+=ee[re++]<<ue,ue+=8}if(2&r.wrap&&35615===se){r.check=0,Te[0]=255&se,Te[1]=se>>>8&255,r.check=a(r.check,Te,2,0),se=0,ue=0,r.mode=E;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&se)<<8)+(se>>8))%31){e.msg="incorrect header check",r.mode=K;break}if((15&se)!==w){e.msg="unknown compression method",r.mode=K;break}if(ue-=4,xe=8+(15&(se>>>=4)),0===r.wbits)r.wbits=xe;else if(xe>r.wbits){e.msg="invalid window size",r.mode=K;break}r.dmax=1<<xe,e.adler=r.check=1,r.mode=512&se?O:L,se=0,ue=0;break;case E:for(;ue<16;){if(0===ae)break e;ae--,se+=ee[re++]<<ue,ue+=8}if(r.flags=se,(255&r.flags)!==w){e.msg="unknown compression method",r.mode=K;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=K;break}r.head&&(r.head.text=se>>8&1),512&r.flags&&(Te[0]=255&se,Te[1]=se>>>8&255,r.check=a(r.check,Te,2,0)),se=0,ue=0,r.mode=A;case A:for(;ue<32;){if(0===ae)break e;ae--,se+=ee[re++]<<ue,ue+=8}r.head&&(r.head.time=se),512&r.flags&&(Te[0]=255&se,Te[1]=se>>>8&255,Te[2]=se>>>16&255,Te[3]=se>>>24&255,r.check=a(r.check,Te,4,0)),se=0,ue=0,r.mode=k;case k:for(;ue<16;){if(0===ae)break e;ae--,se+=ee[re++]<<ue,ue+=8}r.head&&(r.head.xflags=255&se,r.head.os=se>>8),512&r.flags&&(Te[0]=255&se,Te[1]=se>>>8&255,r.check=a(r.check,Te,2,0)),se=0,ue=0,r.mode=S;case S:if(1024&r.flags){for(;ue<16;){if(0===ae)break e;ae--,se+=ee[re++]<<ue,ue+=8}r.length=se,r.head&&(r.head.extra_len=se),512&r.flags&&(Te[0]=255&se,Te[1]=se>>>8&255,r.check=a(r.check,Te,2,0)),se=0,ue=0}else r.head&&(r.head.extra=null);r.mode=T;case T:if(1024&r.flags&&((de=r.length)>ae&&(de=ae),de&&(r.head&&(xe=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,ee,re,de,xe)),512&r.flags&&(r.check=a(r.check,ee,de,re)),ae-=de,re+=de,r.length-=de),r.length))break e;r.length=0,r.mode=I;case I:if(2048&r.flags){if(0===ae)break e;de=0;do{xe=ee[re+de++],r.head&&xe&&r.length<65536&&(r.head.name+=String.fromCharCode(xe))}while(xe&&de<ae);if(512&r.flags&&(r.check=a(r.check,ee,de,re)),ae-=de,re+=de,xe)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=P;case P:if(4096&r.flags){if(0===ae)break e;de=0;do{xe=ee[re+de++],r.head&&xe&&r.length<65536&&(r.head.comment+=String.fromCharCode(xe))}while(xe&&de<ae);if(512&r.flags&&(r.check=a(r.check,ee,de,re)),ae-=de,re+=de,xe)break e}else r.head&&(r.head.comment=null);r.mode=j;case j:if(512&r.flags){for(;ue<16;){if(0===ae)break e;ae--,se+=ee[re++]<<ue,ue+=8}if(se!==(65535&r.check)){e.msg="header crc mismatch",r.mode=K;break}se=0,ue=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=L;break;case O:for(;ue<32;){if(0===ae)break e;ae--,se+=ee[re++]<<ue,ue+=8}e.adler=r.check=ne(se),se=0,ue=0,r.mode=D;case D:if(0===r.havedict)return e.next_out=ie,e.avail_out=oe,e.next_in=re,e.avail_in=ae,r.hold=se,r.bits=ue,g;e.adler=r.check=1,r.mode=L;case L:if(t===h||t===d)break e;case R:if(r.last){se>>>=7&ue,ue-=7&ue,r.mode=$;break}for(;ue<3;){if(0===ae)break e;ae--,se+=ee[re++]<<ue,ue+=8}switch(r.last=1&se,ue-=1,3&(se>>>=1)){case 0:r.mode=B;break;case 1:if(ce(r),r.mode=z,t===d){se>>>=2,ue-=2;break e}break;case 2:r.mode=N;break;case 3:e.msg="invalid block type",r.mode=K}se>>>=2,ue-=2;break;case B:for(se>>>=7&ue,ue-=7&ue;ue<32;){if(0===ae)break e;ae--,se+=ee[re++]<<ue,ue+=8}if((65535&se)!=(se>>>16^65535)){e.msg="invalid stored block lengths",r.mode=K;break}if(r.length=65535&se,se=0,ue=0,r.mode=U,t===d)break e;case U:r.mode=M;case M:if(de=r.length){if(de>ae&&(de=ae),de>oe&&(de=oe),0===de)break e;n.arraySet(te,ee,re,de,ie),ae-=de,re+=de,oe-=de,ie+=de,r.length-=de;break}r.mode=L;break;case N:for(;ue<14;){if(0===ae)break e;ae--,se+=ee[re++]<<ue,ue+=8}if(r.nlen=257+(31&se),se>>>=5,ue-=5,r.ndist=1+(31&se),se>>>=5,ue-=5,r.ncode=4+(15&se),se>>>=4,ue-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=K;break}r.have=0,r.mode=F;case F:for(;r.have<r.ncode;){for(;ue<3;){if(0===ae)break e;ae--,se+=ee[re++]<<ue,ue+=8}r.lens[Ie[r.have++]]=7&se,se>>>=3,ue-=3}for(;r.have<19;)r.lens[Ie[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,Ae={bits:r.lenbits},Ee=s(u,r.lens,0,19,r.lencode,0,r.work,Ae),r.lenbits=Ae.bits,Ee){e.msg="invalid code lengths set",r.mode=K;break}r.have=0,r.mode=C;case C:for(;r.have<r.nlen+r.ndist;){for(;ve=(Se=r.lencode[se&(1<<r.lenbits)-1])>>>16&255,ye=65535&Se,!((ge=Se>>>24)<=ue);){if(0===ae)break e;ae--,se+=ee[re++]<<ue,ue+=8}if(ye<16)se>>>=ge,ue-=ge,r.lens[r.have++]=ye;else{if(16===ye){for(ke=ge+2;ue<ke;){if(0===ae)break e;ae--,se+=ee[re++]<<ue,ue+=8}if(se>>>=ge,ue-=ge,0===r.have){e.msg="invalid bit length repeat",r.mode=K;break}xe=r.lens[r.have-1],de=3+(3&se),se>>>=2,ue-=2}else if(17===ye){for(ke=ge+3;ue<ke;){if(0===ae)break e;ae--,se+=ee[re++]<<ue,ue+=8}ue-=ge,xe=0,de=3+(7&(se>>>=ge)),se>>>=3,ue-=3}else{for(ke=ge+7;ue<ke;){if(0===ae)break e;ae--,se+=ee[re++]<<ue,ue+=8}ue-=ge,xe=0,de=11+(127&(se>>>=ge)),se>>>=7,ue-=7}if(r.have+de>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=K;break}for(;de--;)r.lens[r.have++]=xe}}if(r.mode===K)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=K;break}if(r.lenbits=9,Ae={bits:r.lenbits},Ee=s(l,r.lens,0,r.nlen,r.lencode,0,r.work,Ae),r.lenbits=Ae.bits,Ee){e.msg="invalid literal/lengths set",r.mode=K;break}if(r.distbits=6,r.distcode=r.distdyn,Ae={bits:r.distbits},Ee=s(f,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,Ae),r.distbits=Ae.bits,Ee){e.msg="invalid distances set",r.mode=K;break}if(r.mode=z,t===d)break e;case z:r.mode=V;case V:if(ae>=6&&oe>=258){e.next_out=ie,e.avail_out=oe,e.next_in=re,e.avail_in=ae,r.hold=se,r.bits=ue,o(e,fe),ie=e.next_out,te=e.output,oe=e.avail_out,re=e.next_in,ee=e.input,ae=e.avail_in,se=r.hold,ue=r.bits,r.mode===L&&(r.back=-1);break}for(r.back=0;ve=(Se=r.lencode[se&(1<<r.lenbits)-1])>>>16&255,ye=65535&Se,!((ge=Se>>>24)<=ue);){if(0===ae)break e;ae--,se+=ee[re++]<<ue,ue+=8}if(ve&&0==(240&ve)){for(me=ge,be=ve,we=ye;ve=(Se=r.lencode[we+((se&(1<<me+be)-1)>>me)])>>>16&255,ye=65535&Se,!(me+(ge=Se>>>24)<=ue);){if(0===ae)break e;ae--,se+=ee[re++]<<ue,ue+=8}se>>>=me,ue-=me,r.back+=me}if(se>>>=ge,ue-=ge,r.back+=ge,r.length=ye,0===ve){r.mode=H;break}if(32&ve){r.back=-1,r.mode=L;break}if(64&ve){e.msg="invalid literal/length code",r.mode=K;break}r.extra=15&ve,r.mode=q;case q:if(r.extra){for(ke=r.extra;ue<ke;){if(0===ae)break e;ae--,se+=ee[re++]<<ue,ue+=8}r.length+=se&(1<<r.extra)-1,se>>>=r.extra,ue-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=Z;case Z:for(;ve=(Se=r.distcode[se&(1<<r.distbits)-1])>>>16&255,ye=65535&Se,!((ge=Se>>>24)<=ue);){if(0===ae)break e;ae--,se+=ee[re++]<<ue,ue+=8}if(0==(240&ve)){for(me=ge,be=ve,we=ye;ve=(Se=r.distcode[we+((se&(1<<me+be)-1)>>me)])>>>16&255,ye=65535&Se,!(me+(ge=Se>>>24)<=ue);){if(0===ae)break e;ae--,se+=ee[re++]<<ue,ue+=8}se>>>=me,ue-=me,r.back+=me}if(se>>>=ge,ue-=ge,r.back+=ge,64&ve){e.msg="invalid distance code",r.mode=K;break}r.offset=ye,r.extra=15&ve,r.mode=W;case W:if(r.extra){for(ke=r.extra;ue<ke;){if(0===ae)break e;ae--,se+=ee[re++]<<ue,ue+=8}r.offset+=se&(1<<r.extra)-1,se>>>=r.extra,ue-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=K;break}r.mode=Y;case Y:if(0===oe)break e;if(de=fe-oe,r.offset>de){if((de=r.offset-de)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=K;break}de>r.wnext?(de-=r.wnext,pe=r.wsize-de):pe=r.wnext-de,de>r.length&&(de=r.length),_e=r.window}else _e=te,pe=ie-r.offset,de=r.length;de>oe&&(de=oe),oe-=de,r.length-=de;do{te[ie++]=_e[pe++]}while(--de);0===r.length&&(r.mode=V);break;case H:if(0===oe)break e;te[ie++]=r.length,oe--,r.mode=V;break;case $:if(r.wrap){for(;ue<32;){if(0===ae)break e;ae--,se|=ee[re++]<<ue,ue+=8}if(fe-=oe,e.total_out+=fe,r.total+=fe,fe&&(e.adler=r.check=r.flags?a(r.check,te,fe,ie-fe):i(r.check,te,fe,ie-fe)),fe=oe,(r.flags?se:ne(se))!==r.check){e.msg="incorrect data check",r.mode=K;break}se=0,ue=0}r.mode=G;case G:if(r.wrap&&r.flags){for(;ue<32;){if(0===ae)break e;ae--,se+=ee[re++]<<ue,ue+=8}if(se!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=K;break}se=0,ue=0}r.mode=J;case J:Ee=_;break e;case K:Ee=y;break e;case X:return m;case Q:default:return v}return e.next_out=ie,e.avail_out=oe,e.next_in=re,e.avail_in=ae,r.hold=se,r.bits=ue,(r.wsize||fe!==e.avail_out&&r.mode<K&&(r.mode<$||t!==c))&&he(e,e.output,e.next_out,fe-e.avail_out)?(r.mode=X,m):(le-=e.avail_in,fe-=e.avail_out,e.total_in+=le,e.total_out+=fe,r.total+=fe,r.wrap&&fe&&(e.adler=r.check=r.flags?a(r.check,te,fe,e.next_out-fe):i(r.check,te,fe,e.next_out-fe)),e.data_type=r.bits+(r.last?64:0)+(r.mode===L?128:0)+(r.mode===z||r.mode===U?256:0),(0===le&&0===fe||t===c)&&Ee===p&&(Ee=b),Ee)},t.inflateEnd=function(e){if(!e||!e.state)return v;var t=e.state;return t.window&&(t.window=null),e.state=null,p},t.inflateGetHeader=function(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?v:(r.head=t,t.done=!1,p):v},t.inflateSetDictionary=function(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&r.mode!==D?v:r.mode===D&&i(1,t,n,0)!==r.check?y:he(e,t,n,n)?(r.mode=X,m):(r.havedict=1,p):v},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,r){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,r){"use strict";var n=r(8),i=4,a=0,o=1,s=2;function u(e){for(var t=e.length;--t>=0;)e[t]=0}var l=0,f=1,c=2,h=29,d=256,p=d+1+h,_=30,g=19,v=2*p+1,y=15,m=16,b=7,w=256,x=16,E=17,A=18,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],S=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],P=new Array(2*(p+2));u(P);var j=new Array(2*_);u(j);var O=new Array(512);u(O);var D=new Array(256);u(D);var L=new Array(h);u(L);var R,B,U,M=new Array(_);function N(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function F(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function C(e){return e<256?O[e]:O[256+(e>>>7)]}function z(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function V(e,t,r){e.bi_valid>m-r?(e.bi_buf|=t<<e.bi_valid&65535,z(e,e.bi_buf),e.bi_buf=t>>m-e.bi_valid,e.bi_valid+=r-m):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function q(e,t,r){V(e,r[2*t],r[2*t+1])}function Z(e,t){var r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1}function W(e,t,r){var n,i,a=new Array(y+1),o=0;for(n=1;n<=y;n++)a[n]=o=o+r[n-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=Z(a[s]++,s))}}function Y(e){var t;for(t=0;t<p;t++)e.dyn_ltree[2*t]=0;for(t=0;t<_;t++)e.dyn_dtree[2*t]=0;for(t=0;t<g;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*w]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function H(e){e.bi_valid>8?z(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function $(e,t,r,n){var i=2*t,a=2*r;return e[i]<e[a]||e[i]===e[a]&&n[t]<=n[r]}function G(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&$(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!$(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function J(e,t,r){var n,i,a,o,s=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],i=e.pending_buf[e.l_buf+s],s++,0===n?q(e,i,t):(q(e,(a=D[i])+d+1,t),0!==(o=k[a])&&V(e,i-=L[a],o),q(e,a=C(--n),r),0!==(o=S[a])&&V(e,n-=M[a],o))}while(s<e.last_lit);q(e,w,t)}function K(e,t){var r,n,i,a=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,u=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=v,r=0;r<u;r++)0!==a[2*r]?(e.heap[++e.heap_len]=l=r,e.depth[r]=0):a[2*r+1]=0;for(;e.heap_len<2;)a[2*(i=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=o[2*i+1]);for(t.max_code=l,r=e.heap_len>>1;r>=1;r--)G(e,a,r);i=u;do{r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],G(e,a,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,a[2*i]=a[2*r]+a[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,a[2*r+1]=a[2*n+1]=i,e.heap[1]=i++,G(e,a,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,i,a,o,s,u=t.dyn_tree,l=t.max_code,f=t.stat_desc.static_tree,c=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,p=t.stat_desc.max_length,_=0;for(a=0;a<=y;a++)e.bl_count[a]=0;for(u[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<v;r++)(a=u[2*u[2*(n=e.heap[r])+1]+1]+1)>p&&(a=p,_++),u[2*n+1]=a,n>l||(e.bl_count[a]++,o=0,n>=d&&(o=h[n-d]),s=u[2*n],e.opt_len+=s*(a+o),c&&(e.static_len+=s*(f[2*n+1]+o)));if(0!==_){do{for(a=p-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[p]--,_-=2}while(_>0);for(a=p;0!==a;a--)for(n=e.bl_count[a];0!==n;)(i=e.heap[--r])>l||(u[2*i+1]!==a&&(e.opt_len+=(a-u[2*i+1])*u[2*i],u[2*i+1]=a),n--)}}(e,t),W(a,l,e.bl_count)}function X(e,t,r){var n,i,a=-1,o=t[1],s=0,u=7,l=4;for(0===o&&(u=138,l=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=o,o=t[2*(n+1)+1],++s<u&&i===o||(s<l?e.bl_tree[2*i]+=s:0!==i?(i!==a&&e.bl_tree[2*i]++,e.bl_tree[2*x]++):s<=10?e.bl_tree[2*E]++:e.bl_tree[2*A]++,s=0,a=i,0===o?(u=138,l=3):i===o?(u=6,l=3):(u=7,l=4))}function Q(e,t,r){var n,i,a=-1,o=t[1],s=0,u=7,l=4;for(0===o&&(u=138,l=3),n=0;n<=r;n++)if(i=o,o=t[2*(n+1)+1],!(++s<u&&i===o)){if(s<l)do{q(e,i,e.bl_tree)}while(0!=--s);else 0!==i?(i!==a&&(q(e,i,e.bl_tree),s--),q(e,x,e.bl_tree),V(e,s-3,2)):s<=10?(q(e,E,e.bl_tree),V(e,s-3,3)):(q(e,A,e.bl_tree),V(e,s-11,7));s=0,a=i,0===o?(u=138,l=3):i===o?(u=6,l=3):(u=7,l=4)}}u(M);var ee=!1;function te(e,t,r,i){V(e,(l<<1)+(i?1:0),3),function(e,t,r,i){H(e),i&&(z(e,r),z(e,~r)),n.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r,!0)}t._tr_init=function(e){ee||(function(){var e,t,r,n,i,a=new Array(y+1);for(r=0,n=0;n<h-1;n++)for(L[n]=r,e=0;e<1<<k[n];e++)D[r++]=n;for(D[r-1]=n,i=0,n=0;n<16;n++)for(M[n]=i,e=0;e<1<<S[n];e++)O[i++]=n;for(i>>=7;n<_;n++)for(M[n]=i<<7,e=0;e<1<<S[n]-7;e++)O[256+i++]=n;for(t=0;t<=y;t++)a[t]=0;for(e=0;e<=143;)P[2*e+1]=8,e++,a[8]++;for(;e<=255;)P[2*e+1]=9,e++,a[9]++;for(;e<=279;)P[2*e+1]=7,e++,a[7]++;for(;e<=287;)P[2*e+1]=8,e++,a[8]++;for(W(P,p+1,a),e=0;e<_;e++)j[2*e+1]=5,j[2*e]=Z(e,5);R=new N(P,k,d+1,p,y),B=new N(j,S,0,_,y),U=new N(new Array(0),T,0,g,b)}(),ee=!0),e.l_desc=new F(e.dyn_ltree,R),e.d_desc=new F(e.dyn_dtree,B),e.bl_desc=new F(e.bl_tree,U),e.bi_buf=0,e.bi_valid=0,Y(e)},t._tr_stored_block=te,t._tr_flush_block=function(e,t,r,n){var u,l,h=0;e.level>0?(e.strm.data_type===s&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return a;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return o;for(t=32;t<d;t++)if(0!==e.dyn_ltree[2*t])return o;return a}(e)),K(e,e.l_desc),K(e,e.d_desc),h=function(e){var t;for(X(e,e.dyn_ltree,e.l_desc.max_code),X(e,e.dyn_dtree,e.d_desc.max_code),K(e,e.bl_desc),t=g-1;t>=3&&0===e.bl_tree[2*I[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),u=e.opt_len+3+7>>>3,(l=e.static_len+3+7>>>3)<=u&&(u=l)):u=l=r+5,r+4<=u&&-1!==t?te(e,t,r,n):e.strategy===i||l===u?(V(e,(f<<1)+(n?1:0),3),J(e,P,j)):(V(e,(c<<1)+(n?1:0),3),function(e,t,r,n){var i;for(V(e,t-257,5),V(e,r-1,5),V(e,n-4,4),i=0;i<n;i++)V(e,e.bl_tree[2*I[i]+1],3);Q(e,e.dyn_ltree,t-1),Q(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,h+1),J(e,e.dyn_ltree,e.dyn_dtree)),Y(e),n&&H(e)},t._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(D[r]+d+1)]++,e.dyn_dtree[2*C(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){V(e,f<<1,3),q(e,w,P),function(e){16===e.bi_valid?(z(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,r){"use strict";var n,i=r(8),a=r(50),o=r(29),s=r(28),u=r(49),l=0,f=1,c=3,h=4,d=5,p=0,_=1,g=-2,v=-3,y=-5,m=-1,b=1,w=2,x=3,E=4,A=0,k=2,S=8,T=9,I=15,P=8,j=286,O=30,D=19,L=2*j+1,R=15,B=3,U=258,M=U+B+1,N=32,F=42,C=69,z=73,V=91,q=103,Z=113,W=666,Y=1,H=2,$=3,G=4,J=3;function K(e,t){return e.msg=u[t],t}function X(e){return(e<<1)-(e>4?9:0)}function Q(e){for(var t=e.length;--t>=0;)e[t]=0}function ee(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(i.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function te(e,t){a._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ee(e.strm)}function re(e,t){e.pending_buf[e.pending++]=t}function ne(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function ie(e,t){var r,n,i=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match,u=e.strstart>e.w_size-M?e.strstart-(e.w_size-M):0,l=e.window,f=e.w_mask,c=e.prev,h=e.strstart+U,d=l[a+o-1],p=l[a+o];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(l[(r=t)+o]===p&&l[r+o-1]===d&&l[r]===l[a]&&l[++r]===l[a+1]){a+=2,r++;do{}while(l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&a<h);if(n=U-(h-a),a=h-U,n>o){if(e.match_start=t,o=n,n>=s)break;d=l[a+o-1],p=l[a+o]}}}while((t=c[t&f])>u&&0!=--i);return o<=e.lookahead?o:e.lookahead}function ae(e){var t,r,n,a,u,l,f,c,h,d,p=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-M)){i.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=r=e.hash_size;do{n=e.head[--t],e.head[t]=n>=p?n-p:0}while(--r);t=r=p;do{n=e.prev[--t],e.prev[t]=n>=p?n-p:0}while(--r);a+=p}if(0===e.strm.avail_in)break;if(l=e.strm,f=e.window,c=e.strstart+e.lookahead,h=a,d=void 0,(d=l.avail_in)>h&&(d=h),r=0===d?0:(l.avail_in-=d,i.arraySet(f,l.input,l.next_in,d,c),1===l.state.wrap?l.adler=o(l.adler,f,d,c):2===l.state.wrap&&(l.adler=s(l.adler,f,d,c)),l.next_in+=d,l.total_in+=d,d),e.lookahead+=r,e.lookahead+e.insert>=B)for(u=e.strstart-e.insert,e.ins_h=e.window[u],e.ins_h=(e.ins_h<<e.hash_shift^e.window[u+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[u+B-1])&e.hash_mask,e.prev[u&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=u,u++,e.insert--,!(e.lookahead+e.insert<B)););}while(e.lookahead<M&&0!==e.strm.avail_in)}function oe(e,t){for(var r,n;;){if(e.lookahead<M){if(ae(e),e.lookahead<M&&t===l)return Y;if(0===e.lookahead)break}if(r=0,e.lookahead>=B&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+B-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-M&&(e.match_length=ie(e,r)),e.match_length>=B)if(n=a._tr_tally(e,e.strstart-e.match_start,e.match_length-B),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=B){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+B-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(te(e,!1),0===e.strm.avail_out))return Y}return e.insert=e.strstart<B-1?e.strstart:B-1,t===h?(te(e,!0),0===e.strm.avail_out?$:G):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?Y:H}function se(e,t){for(var r,n,i;;){if(e.lookahead<M){if(ae(e),e.lookahead<M&&t===l)return Y;if(0===e.lookahead)break}if(r=0,e.lookahead>=B&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+B-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=B-1,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-M&&(e.match_length=ie(e,r),e.match_length<=5&&(e.strategy===b||e.match_length===B&&e.strstart-e.match_start>4096)&&(e.match_length=B-1)),e.prev_length>=B&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-B,n=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-B),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+B-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=B-1,e.strstart++,n&&(te(e,!1),0===e.strm.avail_out))return Y}else if(e.match_available){if((n=a._tr_tally(e,0,e.window[e.strstart-1]))&&te(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return Y}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=a._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<B-1?e.strstart:B-1,t===h?(te(e,!0),0===e.strm.avail_out?$:G):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?Y:H}function ue(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}function le(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=k,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?F:Z,e.adler=2===t.wrap?0:1,t.last_flush=l,a._tr_init(t),p):K(e,g)}function fe(e){var t,r=le(e);return r===p&&((t=e.state).window_size=2*t.w_size,Q(t.head),t.max_lazy_match=n[t.level].max_lazy,t.good_match=n[t.level].good_length,t.nice_match=n[t.level].nice_length,t.max_chain_length=n[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=B-1,t.match_available=0,t.ins_h=0),r}function ce(e,t,r,n,a,o){if(!e)return g;var s=1;if(t===m&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),a<1||a>T||r!==S||n<8||n>15||t<0||t>9||o<0||o>E)return K(e,g);8===n&&(n=9);var u=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=S,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*L),this.dyn_dtree=new i.Buf16(2*(2*O+1)),this.bl_tree=new i.Buf16(2*(2*D+1)),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(R+1),this.heap=new i.Buf16(2*j+1),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*j+1),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return e.state=u,u.strm=e,u.wrap=s,u.gzhead=null,u.w_bits=n,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=a+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+B-1)/B),u.window=new i.Buf8(2*u.w_size),u.head=new i.Buf16(u.hash_size),u.prev=new i.Buf16(u.w_size),u.lit_bufsize=1<<a+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new i.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=t,u.strategy=o,u.method=r,fe(e)}n=[new ue(0,0,0,0,(function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(ae(e),0===e.lookahead&&t===l)return Y;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,te(e,!1),0===e.strm.avail_out))return Y;if(e.strstart-e.block_start>=e.w_size-M&&(te(e,!1),0===e.strm.avail_out))return Y}return e.insert=0,t===h?(te(e,!0),0===e.strm.avail_out?$:G):(e.strstart>e.block_start&&(te(e,!1),e.strm.avail_out),Y)})),new ue(4,4,8,4,oe),new ue(4,5,16,8,oe),new ue(4,6,32,32,oe),new ue(4,4,16,16,se),new ue(8,16,32,32,se),new ue(8,16,128,128,se),new ue(8,32,128,256,se),new ue(32,128,258,1024,se),new ue(32,258,258,4096,se)],t.deflateInit=function(e,t){return ce(e,t,S,I,P,A)},t.deflateInit2=ce,t.deflateReset=fe,t.deflateResetKeep=le,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?g:(e.state.gzhead=t,p):g},t.deflate=function(e,t){var r,i,o,u;if(!e||!e.state||t>d||t<0)return e?K(e,g):g;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||i.status===W&&t!==h)return K(e,0===e.avail_out?y:g);if(i.strm=e,r=i.last_flush,i.last_flush=t,i.status===F)if(2===i.wrap)e.adler=0,re(i,31),re(i,139),re(i,8),i.gzhead?(re(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),re(i,255&i.gzhead.time),re(i,i.gzhead.time>>8&255),re(i,i.gzhead.time>>16&255),re(i,i.gzhead.time>>24&255),re(i,9===i.level?2:i.strategy>=w||i.level<2?4:0),re(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(re(i,255&i.gzhead.extra.length),re(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=C):(re(i,0),re(i,0),re(i,0),re(i,0),re(i,0),re(i,9===i.level?2:i.strategy>=w||i.level<2?4:0),re(i,J),i.status=Z);else{var v=S+(i.w_bits-8<<4)<<8;v|=(i.strategy>=w||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(v|=N),v+=31-v%31,i.status=Z,ne(i,v),0!==i.strstart&&(ne(i,e.adler>>>16),ne(i,65535&e.adler)),e.adler=1}if(i.status===C)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),ee(e),o=i.pending,i.pending!==i.pending_buf_size));)re(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=z)}else i.status=z;if(i.status===z)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),ee(e),o=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,re(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),0===u&&(i.gzindex=0,i.status=V)}else i.status=V;if(i.status===V)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),ee(e),o=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,re(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>o&&(e.adler=s(e.adler,i.pending_buf,i.pending-o,o)),0===u&&(i.status=q)}else i.status=q;if(i.status===q&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&ee(e),i.pending+2<=i.pending_buf_size&&(re(i,255&e.adler),re(i,e.adler>>8&255),e.adler=0,i.status=Z)):i.status=Z),0!==i.pending){if(ee(e),0===e.avail_out)return i.last_flush=-1,p}else if(0===e.avail_in&&X(t)<=X(r)&&t!==h)return K(e,y);if(i.status===W&&0!==e.avail_in)return K(e,y);if(0!==e.avail_in||0!==i.lookahead||t!==l&&i.status!==W){var m=i.strategy===w?function(e,t){for(var r;;){if(0===e.lookahead&&(ae(e),0===e.lookahead)){if(t===l)return Y;break}if(e.match_length=0,r=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(te(e,!1),0===e.strm.avail_out))return Y}return e.insert=0,t===h?(te(e,!0),0===e.strm.avail_out?$:G):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?Y:H}(i,t):i.strategy===x?function(e,t){for(var r,n,i,o,s=e.window;;){if(e.lookahead<=U){if(ae(e),e.lookahead<=U&&t===l)return Y;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=B&&e.strstart>0&&(n=s[i=e.strstart-1])===s[++i]&&n===s[++i]&&n===s[++i]){o=e.strstart+U;do{}while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<o);e.match_length=U-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=B?(r=a._tr_tally(e,1,e.match_length-B),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(te(e,!1),0===e.strm.avail_out))return Y}return e.insert=0,t===h?(te(e,!0),0===e.strm.avail_out?$:G):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?Y:H}(i,t):n[i.level].func(i,t);if(m!==$&&m!==G||(i.status=W),m===Y||m===$)return 0===e.avail_out&&(i.last_flush=-1),p;if(m===H&&(t===f?a._tr_align(i):t!==d&&(a._tr_stored_block(i,0,0,!1),t===c&&(Q(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),ee(e),0===e.avail_out))return i.last_flush=-1,p}return t!==h?p:i.wrap<=0?_:(2===i.wrap?(re(i,255&e.adler),re(i,e.adler>>8&255),re(i,e.adler>>16&255),re(i,e.adler>>24&255),re(i,255&e.total_in),re(i,e.total_in>>8&255),re(i,e.total_in>>16&255),re(i,e.total_in>>24&255)):(ne(i,e.adler>>>16),ne(i,65535&e.adler)),ee(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?p:_)},t.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==F&&t!==C&&t!==z&&t!==V&&t!==q&&t!==Z&&t!==W?K(e,g):(e.state=null,t===Z?K(e,v):p):g},t.deflateSetDictionary=function(e,t){var r,n,a,s,u,l,f,c,h=t.length;if(!e||!e.state)return g;if(2===(s=(r=e.state).wrap)||1===s&&r.status!==F||r.lookahead)return g;for(1===s&&(e.adler=o(e.adler,t,h,0)),r.wrap=0,h>=r.w_size&&(0===s&&(Q(r.head),r.strstart=0,r.block_start=0,r.insert=0),c=new i.Buf8(r.w_size),i.arraySet(c,t,h-r.w_size,r.w_size,0),t=c,h=r.w_size),u=e.avail_in,l=e.next_in,f=e.input,e.avail_in=h,e.next_in=0,e.input=t,ae(r);r.lookahead>=B;){n=r.strstart,a=r.lookahead-(B-1);do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+B-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++}while(--a);r.strstart=n,r.lookahead=B-1,ae(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=B-1,r.match_available=0,e.next_in=l,e.input=f,e.avail_in=u,r.wrap=s,p},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,r){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t,r){"use strict";(function(e,n){var i=r(31),a=r(52),o=r(51),s=r(48),u=r(45);for(var l in u)t[l]=u[l];function f(e){if("number"!=typeof e||e<t.DEFLATE||e>t.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=e,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}t.NONE=0,t.DEFLATE=1,t.INFLATE=2,t.GZIP=3,t.GUNZIP=4,t.DEFLATERAW=5,t.INFLATERAW=6,t.UNZIP=7,f.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,i(this.init_done,"close before init"),i(this.mode<=t.UNZIP),this.mode===t.DEFLATE||this.mode===t.GZIP||this.mode===t.DEFLATERAW?o.deflateEnd(this.strm):this.mode!==t.INFLATE&&this.mode!==t.GUNZIP&&this.mode!==t.INFLATERAW&&this.mode!==t.UNZIP||s.inflateEnd(this.strm),this.mode=t.NONE,this.dictionary=null)},f.prototype.write=function(e,t,r,n,i,a,o){return this._write(!0,e,t,r,n,i,a,o)},f.prototype.writeSync=function(e,t,r,n,i,a,o){return this._write(!1,e,t,r,n,i,a,o)},f.prototype._write=function(r,a,o,s,u,l,f,c){if(i.equal(arguments.length,8),i(this.init_done,"write before init"),i(this.mode!==t.NONE,"already finalized"),i.equal(!1,this.write_in_progress,"write already in progress"),i.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,i.equal(!1,void 0===a,"must provide flush value"),this.write_in_progress=!0,a!==t.Z_NO_FLUSH&&a!==t.Z_PARTIAL_FLUSH&&a!==t.Z_SYNC_FLUSH&&a!==t.Z_FULL_FLUSH&&a!==t.Z_FINISH&&a!==t.Z_BLOCK)throw new Error("Invalid flush value");if(null==o&&(o=e.alloc(0),u=0,s=0),this.strm.avail_in=u,this.strm.input=o,this.strm.next_in=s,this.strm.avail_out=c,this.strm.output=l,this.strm.next_out=f,this.flush=a,!r)return this._process(),this._checkError()?this._afterSync():void 0;var h=this;return n.nextTick((function(){h._process(),h._after()})),this},f.prototype._afterSync=function(){var e=this.strm.avail_out,t=this.strm.avail_in;return this.write_in_progress=!1,[t,e]},f.prototype._process=function(){var e=null;switch(this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=o.deflate(this.strm,this.flush);break;case t.UNZIP:switch(this.strm.avail_in>0&&(e=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(null===e)break;if(31!==this.strm.input[e]){this.mode=t.INFLATE;break}if(this.gzip_id_bytes_read=1,e++,1===this.strm.avail_in)break;case 1:if(null===e)break;139===this.strm.input[e]?(this.gzip_id_bytes_read=2,this.mode=t.GUNZIP):this.mode=t.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:for(this.err=s.inflate(this.strm,this.flush),this.err===t.Z_NEED_DICT&&this.dictionary&&(this.err=s.inflateSetDictionary(this.strm,this.dictionary),this.err===t.Z_OK?this.err=s.inflate(this.strm,this.flush):this.err===t.Z_DATA_ERROR&&(this.err=t.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===t.GUNZIP&&this.err===t.Z_STREAM_END&&0!==this.strm.next_in[0];)this.reset(),this.err=s.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},f.prototype._checkError=function(){switch(this.err){case t.Z_OK:case t.Z_BUF_ERROR:if(0!==this.strm.avail_out&&this.flush===t.Z_FINISH)return this._error("unexpected end of file"),!1;break;case t.Z_STREAM_END:break;case t.Z_NEED_DICT:return null==this.dictionary?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},f.prototype._after=function(){if(this._checkError()){var e=this.strm.avail_out,t=this.strm.avail_in;this.write_in_progress=!1,this.callback(t,e),this.pending_close&&this.close()}},f.prototype._error=function(e){this.strm.msg&&(e=this.strm.msg),this.onerror(e,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},f.prototype.init=function(e,r,n,a,o){i(4===arguments.length||5===arguments.length,"init(windowBits, level, memLevel, strategy, [dictionary])"),i(e>=8&&e<=15,"invalid windowBits"),i(r>=-1&&r<=9,"invalid compression level"),i(n>=1&&n<=9,"invalid memlevel"),i(a===t.Z_FILTERED||a===t.Z_HUFFMAN_ONLY||a===t.Z_RLE||a===t.Z_FIXED||a===t.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(r,e,n,a,o),this._setDictionary()},f.prototype.params=function(){throw new Error("deflateParams Not supported")},f.prototype.reset=function(){this._reset(),this._setDictionary()},f.prototype._init=function(e,r,n,i,u){switch(this.level=e,this.windowBits=r,this.memLevel=n,this.strategy=i,this.flush=t.Z_NO_FLUSH,this.err=t.Z_OK,this.mode!==t.GZIP&&this.mode!==t.GUNZIP||(this.windowBits+=16),this.mode===t.UNZIP&&(this.windowBits+=32),this.mode!==t.DEFLATERAW&&this.mode!==t.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new a,this.mode){case t.DEFLATE:case t.GZIP:case t.DEFLATERAW:this.err=o.deflateInit2(this.strm,this.level,t.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case t.INFLATE:case t.GUNZIP:case t.INFLATERAW:case t.UNZIP:this.err=s.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==t.Z_OK&&this._error("Init error"),this.dictionary=u,this.write_in_progress=!1,this.init_done=!0},f.prototype._setDictionary=function(){if(null!=this.dictionary){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:this.err=o.deflateSetDictionary(this.strm,this.dictionary)}this.err!==t.Z_OK&&this._error("Failed to set dictionary")}},f.prototype._reset=function(){switch(this.err=t.Z_OK,this.mode){case t.DEFLATE:case t.DEFLATERAW:case t.GZIP:this.err=o.deflateReset(this.strm);break;case t.INFLATE:case t.INFLATERAW:case t.GUNZIP:this.err=s.inflateReset(this.strm)}this.err!==t.Z_OK&&this._error("Failed to reset stream")},t.Zlib=f}).call(this,r(1).Buffer,r(3))},function(e,t,r){e.exports=r(20).PassThrough},function(e,t,r){e.exports=r(20).Transform},function(e,t,r){e.exports=r(2)},function(e,t,r){e.exports=r(19)},function(e,t,r){"use strict";e.exports=a;var n=r(32),i=r(6);function a(e){if(!(this instanceof a))return new a(e);n.call(this,e)}i.inherits=r(5),i.inherits(a,n),a.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){(function(t){function r(e){try{if(!t.localStorage)return!1}catch(e){return!1}var r=t.localStorage[e];return null!=r&&"true"===String(r).toLowerCase()}e.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(this,r(0))},function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,i,a,o,s,u=1,l={},f=!1,c=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick((function(){p(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?(o="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&p(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),n=function(t){e.postMessage(o+t,"*")}):e.MessageChannel?((a=new MessageChannel).port1.onmessage=function(e){p(e.data)},n=function(e){a.port2.postMessage(e)}):c&&"onreadystatechange"in c.createElement("script")?(i=c.documentElement,n=function(e){var t=c.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):n=function(e){setTimeout(p,0,e)},h.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return l[u]=i,n(u),u++},h.clearImmediate=d}function d(e){delete l[e]}function p(e){if(f)setTimeout(p,0,e);else{var t=l[e];if(t){f=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}(t)}finally{d(e),f=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r(0),r(3))},function(e,t,r){(function(e){var n=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(n.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new i(n.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},r(62),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(0))},function(e,t){},function(e,t,r){"use strict";var n=r(9).Buffer,i=r(64);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,i=n.allocUnsafe(e>>>0),a=this.head,o=0;a;)t=i,r=o,a.data.copy(t,r),o+=a.data.length,a=a.next;return i},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,r){e.exports=i;var n=r(21).EventEmitter;function i(){n.call(this)}r(5)(i,n),i.Readable=r(20),i.Writable=r(59),i.Duplex=r(58),i.Transform=r(57),i.PassThrough=r(56),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function a(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",a),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",u));var o=!1;function s(){o||(o=!0,e.end())}function u(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function l(e){if(f(),0===n.listenerCount(this,"error"))throw e}function f(){r.removeListener("data",i),e.removeListener("drain",a),r.removeListener("end",s),r.removeListener("close",u),r.removeListener("error",l),e.removeListener("error",l),r.removeListener("end",f),r.removeListener("close",f),e.removeListener("close",f)}return r.on("error",l),e.on("error",l),r.on("end",f),r.on("close",f),e.on("close",f),e.emit("pipe",r),e}},function(e,t,r){"use strict";(function(e){var n=r(1).Buffer,i=r(67).Transform,a=r(55),o=r(30),s=r(31).ok,u=r(1).kMaxLength,l="Cannot create final Buffer. It would be larger than 0x"+u.toString(16)+" bytes";a.Z_MIN_WINDOWBITS=8,a.Z_MAX_WINDOWBITS=15,a.Z_DEFAULT_WINDOWBITS=15,a.Z_MIN_CHUNK=64,a.Z_MAX_CHUNK=1/0,a.Z_DEFAULT_CHUNK=16384,a.Z_MIN_MEMLEVEL=1,a.Z_MAX_MEMLEVEL=9,a.Z_DEFAULT_MEMLEVEL=8,a.Z_MIN_LEVEL=-1,a.Z_MAX_LEVEL=9,a.Z_DEFAULT_LEVEL=a.Z_DEFAULT_COMPRESSION;for(var f=Object.keys(a),c=0;c<f.length;c++){var h=f[c];h.match(/^Z/)&&Object.defineProperty(t,h,{enumerable:!0,value:a[h],writable:!1})}for(var d={Z_OK:a.Z_OK,Z_STREAM_END:a.Z_STREAM_END,Z_NEED_DICT:a.Z_NEED_DICT,Z_ERRNO:a.Z_ERRNO,Z_STREAM_ERROR:a.Z_STREAM_ERROR,Z_DATA_ERROR:a.Z_DATA_ERROR,Z_MEM_ERROR:a.Z_MEM_ERROR,Z_BUF_ERROR:a.Z_BUF_ERROR,Z_VERSION_ERROR:a.Z_VERSION_ERROR},p=Object.keys(d),_=0;_<p.length;_++){var g=p[_];d[d[g]]=g}function v(e,t,r){var i=[],a=0;function o(){for(var t;null!==(t=e.read());)i.push(t),a+=t.length;e.once("readable",o)}function s(){var t,o=null;a>=u?o=new RangeError(l):t=n.concat(i,a),i=[],e.close(),r(o,t)}e.on("error",(function(t){e.removeListener("end",s),e.removeListener("readable",o),r(t)})),e.on("end",s),e.end(t),o()}function y(e,t){if("string"==typeof t&&(t=n.from(t)),!n.isBuffer(t))throw new TypeError("Not a string or buffer");var r=e._finishFlushFlag;return e._processChunk(t,r)}function m(e){if(!(this instanceof m))return new m(e);T.call(this,e,a.DEFLATE)}function b(e){if(!(this instanceof b))return new b(e);T.call(this,e,a.INFLATE)}function w(e){if(!(this instanceof w))return new w(e);T.call(this,e,a.GZIP)}function x(e){if(!(this instanceof x))return new x(e);T.call(this,e,a.GUNZIP)}function E(e){if(!(this instanceof E))return new E(e);T.call(this,e,a.DEFLATERAW)}function A(e){if(!(this instanceof A))return new A(e);T.call(this,e,a.INFLATERAW)}function k(e){if(!(this instanceof k))return new k(e);T.call(this,e,a.UNZIP)}function S(e){return e===a.Z_NO_FLUSH||e===a.Z_PARTIAL_FLUSH||e===a.Z_SYNC_FLUSH||e===a.Z_FULL_FLUSH||e===a.Z_FINISH||e===a.Z_BLOCK}function T(e,r){var o=this;if(this._opts=e=e||{},this._chunkSize=e.chunkSize||t.Z_DEFAULT_CHUNK,i.call(this,e),e.flush&&!S(e.flush))throw new Error("Invalid flush flag: "+e.flush);if(e.finishFlush&&!S(e.finishFlush))throw new Error("Invalid flush flag: "+e.finishFlush);if(this._flushFlag=e.flush||a.Z_NO_FLUSH,this._finishFlushFlag=void 0!==e.finishFlush?e.finishFlush:a.Z_FINISH,e.chunkSize&&(e.chunkSize<t.Z_MIN_CHUNK||e.chunkSize>t.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<t.Z_MIN_WINDOWBITS||e.windowBits>t.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<t.Z_MIN_LEVEL||e.level>t.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<t.Z_MIN_MEMLEVEL||e.memLevel>t.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=t.Z_FILTERED&&e.strategy!=t.Z_HUFFMAN_ONLY&&e.strategy!=t.Z_RLE&&e.strategy!=t.Z_FIXED&&e.strategy!=t.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!n.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new a.Zlib(r);var s=this;this._hadError=!1,this._handle.onerror=function(e,r){I(s),s._hadError=!0;var n=new Error(e);n.errno=r,n.code=t.codes[r],s.emit("error",n)};var u=t.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(u=e.level);var l=t.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(l=e.strategy),this._handle.init(e.windowBits||t.Z_DEFAULT_WINDOWBITS,u,e.memLevel||t.Z_DEFAULT_MEMLEVEL,l,e.dictionary),this._buffer=n.allocUnsafe(this._chunkSize),this._offset=0,this._level=u,this._strategy=l,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!o._handle},configurable:!0,enumerable:!0})}function I(t,r){r&&e.nextTick(r),t._handle&&(t._handle.close(),t._handle=null)}function P(e){e.emit("close")}Object.defineProperty(t,"codes",{enumerable:!0,value:Object.freeze(d),writable:!1}),t.Deflate=m,t.Inflate=b,t.Gzip=w,t.Gunzip=x,t.DeflateRaw=E,t.InflateRaw=A,t.Unzip=k,t.createDeflate=function(e){return new m(e)},t.createInflate=function(e){return new b(e)},t.createDeflateRaw=function(e){return new E(e)},t.createInflateRaw=function(e){return new A(e)},t.createGzip=function(e){return new w(e)},t.createGunzip=function(e){return new x(e)},t.createUnzip=function(e){return new k(e)},t.deflate=function(e,t,r){return"function"==typeof t&&(r=t,t={}),v(new m(t),e,r)},t.deflateSync=function(e,t){return y(new m(t),e)},t.gzip=function(e,t,r){return"function"==typeof t&&(r=t,t={}),v(new w(t),e,r)},t.gzipSync=function(e,t){return y(new w(t),e)},t.deflateRaw=function(e,t,r){return"function"==typeof t&&(r=t,t={}),v(new E(t),e,r)},t.deflateRawSync=function(e,t){return y(new E(t),e)},t.unzip=function(e,t,r){return"function"==typeof t&&(r=t,t={}),v(new k(t),e,r)},t.unzipSync=function(e,t){return y(new k(t),e)},t.inflate=function(e,t,r){return"function"==typeof t&&(r=t,t={}),v(new b(t),e,r)},t.inflateSync=function(e,t){return y(new b(t),e)},t.gunzip=function(e,t,r){return"function"==typeof t&&(r=t,t={}),v(new x(t),e,r)},t.gunzipSync=function(e,t){return y(new x(t),e)},t.inflateRaw=function(e,t,r){return"function"==typeof t&&(r=t,t={}),v(new A(t),e,r)},t.inflateRawSync=function(e,t){return y(new A(t),e)},o.inherits(T,i),T.prototype.params=function(r,n,i){if(r<t.Z_MIN_LEVEL||r>t.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+r);if(n!=t.Z_FILTERED&&n!=t.Z_HUFFMAN_ONLY&&n!=t.Z_RLE&&n!=t.Z_FIXED&&n!=t.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+n);if(this._level!==r||this._strategy!==n){var o=this;this.flush(a.Z_SYNC_FLUSH,(function(){s(o._handle,"zlib binding closed"),o._handle.params(r,n),o._hadError||(o._level=r,o._strategy=n,i&&i())}))}else e.nextTick(i)},T.prototype.reset=function(){return s(this._handle,"zlib binding closed"),this._handle.reset()},T.prototype._flush=function(e){this._transform(n.alloc(0),"",e)},T.prototype.flush=function(t,r){var i=this,o=this._writableState;("function"==typeof t||void 0===t&&!r)&&(r=t,t=a.Z_FULL_FLUSH),o.ended?r&&e.nextTick(r):o.ending?r&&this.once("end",r):o.needDrain?r&&this.once("drain",(function(){return i.flush(t,r)})):(this._flushFlag=t,this.write(n.alloc(0),"",r))},T.prototype.close=function(t){I(this,t),e.nextTick(P,this)},T.prototype._transform=function(e,t,r){var i,o=this._writableState,s=(o.ending||o.ended)&&(!e||o.length===e.length);return null===e||n.isBuffer(e)?this._handle?(s?i=this._finishFlushFlag:(i=this._flushFlag,e.length>=o.length&&(this._flushFlag=this._opts.flush||a.Z_NO_FLUSH)),void this._processChunk(e,i,r)):r(new Error("zlib binding closed")):r(new Error("invalid input"))},T.prototype._processChunk=function(e,t,r){var i=e&&e.length,a=this._chunkSize-this._offset,o=0,f=this,c="function"==typeof r;if(!c){var h,d=[],p=0;this.on("error",(function(e){h=e})),s(this._handle,"zlib binding closed");do{var _=this._handle.writeSync(t,e,o,i,this._buffer,this._offset,a)}while(!this._hadError&&y(_[0],_[1]));if(this._hadError)throw h;if(p>=u)throw I(this),new RangeError(l);var g=n.concat(d,p);return I(this),g}s(this._handle,"zlib binding closed");var v=this._handle.write(t,e,o,i,this._buffer,this._offset,a);function y(u,l){if(this&&(this.buffer=null,this.callback=null),!f._hadError){var h=a-l;if(s(h>=0,"have should not go down"),h>0){var _=f._buffer.slice(f._offset,f._offset+h);f._offset+=h,c?f.push(_):(d.push(_),p+=_.length)}if((0===l||f._offset>=f._chunkSize)&&(a=f._chunkSize,f._offset=0,f._buffer=n.allocUnsafe(f._chunkSize)),0===l){if(o+=i-u,i=u,!c)return!0;var g=f._handle.write(t,e,o,i,f._buffer,f._offset,f._chunkSize);return g.callback=y,void(g.buffer=e)}if(!c)return!1;r()}}v.buffer=e,v.callback=y},o.inherits(m,T),o.inherits(b,T),o.inherits(w,T),o.inherits(x,T),o.inherits(E,T),o.inherits(A,T),o.inherits(k,T)}).call(this,r(3))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t,h){if(void 0===t)throw"dicomParser.parseDicom: missing required parameter 'byteArray'";function d(u){var d=function(e){if(void 0===e.elements.x00020010)throw"dicomParser.parseDicom: missing required meta header attribute 0002,0010";var r=e.elements.x00020010;return f.readFixedString(t,r.dataOffset,r.length)}(u),p=function(e){return"1.2.840.10008.1.2"!==e}(d),_=function(o,u){if("1.2.840.10008.1.2.1.99"===o){if(h&&h.inflater){var f=h.inflater(t,u);return new a.default(s.default,f,0)}if(void 0!==e&&this.module!==e){var c=r(68),d=(0,l.default)(t,u,t.length-u),p=c.inflateRawSync(d),_=(0,n.default)(t,p.length+u);return t.copy(_,0,0,u),p.copy(_,u),new a.default(s.default,_,0)}if("undefined"!=typeof pako){var g=t.slice(u),v=pako.inflateRaw(g),y=(0,n.default)(t,v.length+u);return y.set(t.slice(0,u),0),y.set(v,u),new a.default(s.default,y,0)}throw"dicomParser.parseDicom: no inflater available to handle deflate transfer syntax"}return"1.2.840.10008.1.2.2"===o?new a.default(i.default,t,u):new a.default(s.default,t,u)}(d,u.position),g=new o.default(_.byteArrayParser,_.byteArray,{});g.warnings=_.warnings;try{p?c.parseDicomDataSetExplicit(g,_,_.byteArray.length,h):c.parseDicomDataSetImplicit(g,_,_.byteArray.length,h)}catch(e){throw{exception:e,dataSet:g}}return g}return function(e,t){for(var r in e.elements)e.elements.hasOwnProperty(r)&&(t.elements[r]=e.elements[r]);return void 0!==e.warnings&&(t.warnings=e.warnings.concat(t.warnings)),t}(p=(0,u.default)(t,h),d(p));var p};var n=d(r(23)),i=d(r(38)),a=d(r(12)),o=d(r(7)),s=d(r(22)),u=d(r(37)),l=d(r(11)),f=h(r(14)),c=h(r(16));function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}}).call(this,r(69)(e))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="1.8.5"},function(e,t){t.read=function(e,t,r,n,i){var a,o,s=8*i-n-1,u=(1<<s)-1,l=u>>1,f=-7,c=r?i-1:0,h=r?-1:1,d=e[t+c];for(c+=h,a=d&(1<<-f)-1,d>>=-f,f+=s;f>0;a=256*a+e[t+c],c+=h,f-=8);for(o=a&(1<<-f)-1,a>>=-f,f+=n;f>0;o=256*o+e[t+c],c+=h,f-=8);if(0===a)a=1-l;else{if(a===u)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),a-=l}return(d?-1:1)*o*Math.pow(2,a-n)},t.write=function(e,t,r,n,i,a){var o,s,u,l=8*a-i-1,f=(1<<l)-1,c=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:a-1,p=n?1:-1,_=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=f):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+c>=1?h/u:h*Math.pow(2,1-c))*u>=2&&(o++,u/=2),o+c>=f?(s=0,o=f):o+c>=1?(s=(t*u-1)*Math.pow(2,i),o+=c):(s=t*Math.pow(2,c-1)*Math.pow(2,i),o=0));i>=8;e[r+d]=255&s,d+=p,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;e[r+d]=255&o,d+=p,o/=256,l-=8);e[r+d-p]|=128*_}},function(e,t,r){"use strict";t.byteLength=function(e){return 3*e.length/4-l(e)},t.toByteArray=function(e){var t,r,n,o,s,u=e.length;o=l(e),s=new a(3*u/4-o),r=o>0?u-4:u;var f=0;for(t=0;t<r;t+=4)n=i[e.charCodeAt(t)]<<18|i[e.charCodeAt(t+1)]<<12|i[e.charCodeAt(t+2)]<<6|i[e.charCodeAt(t+3)],s[f++]=n>>16&255,s[f++]=n>>8&255,s[f++]=255&n;return 2===o?(n=i[e.charCodeAt(t)]<<2|i[e.charCodeAt(t+1)]>>4,s[f++]=255&n):1===o&&(n=i[e.charCodeAt(t)]<<10|i[e.charCodeAt(t+1)]<<4|i[e.charCodeAt(t+2)]>>2,s[f++]=n>>8&255,s[f++]=255&n),s},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,a="",o=[],s=0,u=r-i;s<u;s+=16383)o.push(f(e,s,s+16383>u?u:s+16383));return 1===i?(t=e[r-1],a+=n[t>>2],a+=n[t<<4&63],a+="=="):2===i&&(t=(e[r-2]<<8)+e[r-1],a+=n[t>>10],a+=n[t>>4&63],a+=n[t<<2&63],a+="="),o.push(a),o.join("")};for(var n=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=o.length;s<u;++s)n[s]=o[s],i[o.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function f(e,t,r){for(var i,a,o=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(n[(a=i)>>18&63]+n[a>>12&63]+n[a>>6&63]+n[63&a]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t,r){"use strict";function n(e,t){return 255===e.byteArray[t]&&217===e.byteArray[t+1]}function i(e,t,r){var i=t.fragments[r];return!(!n(e,i.position+i.length-2)&&!n(e,i.position+i.length-3))}function a(e,t,r){for(var n=r;n<t.fragments.length;n++)if(i(e,t,n))return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){if(void 0===e)throw"dicomParser.createJPEGBasicOffsetTable: missing required parameter dataSet";if(void 0===t)throw"dicomParser.createJPEGBasicOffsetTable: missing required parameter pixelDataElement";if("x7fe00010"!==t.tag)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to non pixel data tag (expected tag = x7fe00010'";if(!0!==t.encapsulatedPixelData)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(!0!==t.hadUndefinedLength)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(void 0===t.basicOffsetTable)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(void 0===t.fragments)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(t.fragments.length<=0)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'pixelDataElement' refers to pixel data element that does not have encapsulated pixel data";if(r&&r.length<=0)throw"dicomParser.createJPEGBasicOffsetTable: parameter 'fragments' must not be zero length";r=r||t.fragments;for(var n=[],i=0;;){n.push(t.fragments[i].offset);var o=a(e,t,i);if(void 0===o||o===t.fragments.length-1)return n;i=o+1}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,r){if(void 0===t)throw"dicomParser.explicitDataSetToJS: missing required parameter dataSet";r=r||{omitPrivateAttibutes:!0,maxElementLength:128};var n={};for(var o in t.elements){var s=t.elements[o];if(!0!==r.omitPrivateAttibutes||!a.isPrivateTag(o))if(s.items){for(var u=[],l=0;l<s.items.length;l++)u.push(e(s.items[l].dataSet,r));n[o]=u}else{var f;f=void 0,s.length<r.maxElementLength&&(f=(0,i.default)(t,s)),n[o]=void 0!==f?f:{dataOffset:s.dataOffset,length:s.length}}}return n};var n,i=(n=r(43))&&n.__esModule?n:{default:n},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(17))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e&&8===e.length){var r=parseInt(e.substring(0,4),10),n=parseInt(e.substring(4,6),10),i=parseInt(e.substring(6,8),10);if(t&&!0!==function(e,t,r){return!isNaN(r)&&t>0&&t<=12&&e>0&&e<=function(e,t){switch(e){case 2:return t%4==0&&t%100||t%400==0?29:28;case 9:case 4:case 6:case 11:return 30;default:return 31}}(t,r)}(i,n,r))throw"invalid DA '"+e+"'";return{year:r,month:n,day:i}}if(t)throw"invalid DA '"+e+"'"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e.length>=2){var r=parseInt(e.substring(0,2),10),n=e.length>=4?parseInt(e.substring(2,4),10):void 0,i=e.length>=6?parseInt(e.substring(4,6),10):void 0,a=e.length>=8?e.substring(7,13):void 0,o=a?parseInt(a,10)*Math.pow(10,6-a.length):void 0;if(t&&(isNaN(r)||void 0!==n&&isNaN(n)||void 0!==i&&isNaN(i)||void 0!==o&&isNaN(o)||r<0||r>23||n&&(n<0||n>59)||i&&(i<0||i>59)||o&&(o<0||o>999999)))throw"invalid TM '"+e+"'";return{hours:r,minutes:n,seconds:i,fractionalSeconds:o}}if(t)throw"invalid TM '"+e+"'"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createJPEGBasicOffsetTable=t.explicitDataSetToJS=t.explicitElementToString=t.parseDA=t.parseTM=t.parsePN=t.isPrivateTag=t.isStringVr=void 0;var n=r(17),i=l(r(77)),a=l(r(76)),o=l(r(43)),s=l(r(75)),u=l(r(74));function l(e){return e&&e.__esModule?e:{default:e}}t.isStringVr=n.isStringVr,t.isPrivateTag=n.isPrivateTag,t.parsePN=n.parsePN,t.parseTM=i.default,t.parseDA=a.default,t.explicitElementToString=o.default,t.explicitDataSetToJS=s.default,t.createJPEGBasicOffsetTable=u.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readTag=t.readSequenceItem=t.readSequenceItemsImplicit=t.readSequenceItemsExplicit=t.readPart10Header=t.readEncapsulatedPixelDataFromFragments=t.readEncapsulatedPixelData=t.readEncapsulatedImageFrame=t.readDicomElementImplicit=t.readDicomElementExplicit=t.parseDicom=t.littleEndianByteArrayParser=t.findItemDelimitationItemAndSetElementLength=t.findEndOfEncapsulatedElement=t.findAndSetUNElementLength=t.DataSet=t.sharedCopy=t.ByteStream=t.bigEndianByteArrayParser=t.version=t.alloc=t.readFixedString=t.parseDicomDataSetImplicit=t.parseDicomDataSetExplicit=t.createJPEGBasicOffsetTable=t.explicitDataSetToJS=t.explicitElementToString=t.parseDA=t.parseTM=t.parsePN=t.isPrivateTag=t.isStringVr=void 0;var n=r(78),i=r(16),a=r(14),o=T(r(23)),s=T(r(71)),u=T(r(38)),l=T(r(12)),f=T(r(11)),c=T(r(7)),h=T(r(41)),d=T(r(42)),p=T(r(24)),_=T(r(22)),g=T(r(70)),v=T(r(15)),y=T(r(25)),m=T(r(27)),b=T(r(44)),w=T(r(18)),x=T(r(37)),E=T(r(40)),A=T(r(26)),k=T(r(13)),S=T(r(4));function T(e){return e&&e.__esModule?e:{default:e}}var I={isStringVr:n.isStringVr,isPrivateTag:n.isPrivateTag,parsePN:n.parsePN,parseTM:n.parseTM,parseDA:n.parseDA,explicitElementToString:n.explicitElementToString,explicitDataSetToJS:n.explicitDataSetToJS,createJPEGBasicOffsetTable:n.createJPEGBasicOffsetTable,parseDicomDataSetExplicit:i.parseDicomDataSetExplicit,parseDicomDataSetImplicit:i.parseDicomDataSetImplicit,readFixedString:a.readFixedString,alloc:o.default,version:s.default,bigEndianByteArrayParser:u.default,ByteStream:l.default,sharedCopy:f.default,DataSet:c.default,findAndSetUNElementLength:h.default,findEndOfEncapsulatedElement:d.default,findItemDelimitationItemAndSetElementLength:p.default,littleEndianByteArrayParser:_.default,parseDicom:g.default,readDicomElementExplicit:v.default,readDicomElementImplicit:y.default,readEncapsulatedImageFrame:m.default,readEncapsulatedPixelData:b.default,readEncapsulatedPixelDataFromFragments:w.default,readPart10Header:x.default,readSequenceItemsExplicit:E.default,readSequenceItemsImplicit:A.default,readSequenceItem:k.default,readTag:S.default};t.isStringVr=n.isStringVr,t.isPrivateTag=n.isPrivateTag,t.parsePN=n.parsePN,t.parseTM=n.parseTM,t.parseDA=n.parseDA,t.explicitElementToString=n.explicitElementToString,t.explicitDataSetToJS=n.explicitDataSetToJS,t.createJPEGBasicOffsetTable=n.createJPEGBasicOffsetTable,t.parseDicomDataSetExplicit=i.parseDicomDataSetExplicit,t.parseDicomDataSetImplicit=i.parseDicomDataSetImplicit,t.readFixedString=a.readFixedString,t.alloc=o.default,t.version=s.default,t.bigEndianByteArrayParser=u.default,t.ByteStream=l.default,t.sharedCopy=f.default,t.DataSet=c.default,t.findAndSetUNElementLength=h.default,t.findEndOfEncapsulatedElement=d.default,t.findItemDelimitationItemAndSetElementLength=p.default,t.littleEndianByteArrayParser=_.default,t.parseDicom=g.default,t.readDicomElementExplicit=v.default,t.readDicomElementImplicit=y.default,t.readEncapsulatedImageFrame=m.default,t.readEncapsulatedPixelData=b.default,t.readEncapsulatedPixelDataFromFragments=w.default,t.readPart10Header=x.default,t.readSequenceItemsExplicit=E.default,t.readSequenceItemsImplicit=A.default,t.readSequenceItem=k.default,t.readTag=S.default,t.default=I}])},711:(e,t,r)=>{e.exports=function(){var e;return function(){function e(t,r,n){function i(o,s){if(!r[o]){if(!t[o]){if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var l=r[o]={exports:{}};t[o][0].call(l.exports,(function(e){return i(t[o][1][e]||e)}),l,l.exports,e,t,r,n)}return r[o].exports}for(var a=void 0,o=0;o<n.length;o++)i(n[o]);return i}return e}()({1:[function(e,t,r){"use strict";r.byteLength=f,r.toByteArray=h,r.fromByteArray=_;for(var n=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=o.length;s<u;++s)n[s]=o[s],i[o.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function f(e){var t=l(e),r=t[0],n=t[1];return 3*(r+n)/4-n}function c(e,t,r){return 3*(t+r)/4-r}function h(e){for(var t,r=l(e),n=r[0],o=r[1],s=new a(c(e,n,o)),u=0,f=o>0?n-4:n,h=0;h<f;h+=4)t=i[e.charCodeAt(h)]<<18|i[e.charCodeAt(h+1)]<<12|i[e.charCodeAt(h+2)]<<6|i[e.charCodeAt(h+3)],s[u++]=t>>16&255,s[u++]=t>>8&255,s[u++]=255&t;return 2===o&&(t=i[e.charCodeAt(h)]<<2|i[e.charCodeAt(h+1)]>>4,s[u++]=255&t),1===o&&(t=i[e.charCodeAt(h)]<<10|i[e.charCodeAt(h+1)]<<4|i[e.charCodeAt(h+2)]>>2,s[u++]=t>>8&255,s[u++]=255&t),s}function d(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function p(e,t,r){for(var n,i=[],a=t;a<r;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),i.push(d(n));return i.join("")}function _(e){for(var t,r=e.length,i=r%3,a=[],o=16383,s=0,u=r-i;s<u;s+=o)a.push(p(e,s,s+o>u?u:s+o));return 1===i?(t=e[r-1],a.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],a.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],2:[function(e,t,r){"use strict";var n=32;function i(e){var t=32;return(e&=-e)&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&(t-=1),t}r.INT_BITS=n,r.INT_MAX=2147483647,r.INT_MIN=-1<<n-1,r.sign=function(e){return(e>0)-(e<0)},r.abs=function(e){var t=e>>n-1;return(e^t)-t},r.min=function(e,t){return t^(e^t)&-(e<t)},r.max=function(e,t){return e^(e^t)&-(e<t)},r.isPow2=function(e){return!(e&e-1||!e)},r.log2=function(e){var t,r;return t=(e>65535)<<4,t|=r=((e>>>=t)>255)<<3,t|=r=((e>>>=r)>15)<<2,(t|=r=((e>>>=r)>3)<<1)|(e>>>=r)>>1},r.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},r.popCount=function(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24},r.countTrailingZeros=i,r.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,1+(e|=e>>>16)},r.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)-(e>>>1)},r.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,27030>>>(e&=15)&1};var a=new Array(256);!function(e){for(var t=0;t<256;++t){var r=t,n=t,i=7;for(r>>>=1;r;r>>>=1)n<<=1,n|=1&r,--i;e[t]=n<<i&255}}(a),r.reverse=function(e){return a[255&e]<<24|a[e>>>8&255]<<16|a[e>>>16&255]<<8|a[e>>>24&255]},r.interleave2=function(e,t){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))<<1},r.deinterleave2=function(e,t){return(e=65535&((e=16711935&((e=252645135&((e=858993459&((e=e>>>t&1431655765)|e>>>1))|e>>>2))|e>>>4))|e>>>16))<<16>>16},r.interleave3=function(e,t,r){return e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2),(e|=(t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2))<<1)|(r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2))<<2},r.deinterleave3=function(e,t){return(e=1023&((e=4278190335&((e=251719695&((e=3272356035&((e=e>>>t&1227133513)|e>>>2))|e>>>4))|e>>>8))|e>>>16))<<22>>22},r.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>i(e)+1}},{}],3:[function(e,t,r){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
"use strict";var n=e("base64-js"),i=e("ieee754");r.Buffer=u,r.SlowBuffer=y,r.INSPECT_MAX_BYTES=50;var a=2147483647;function o(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}function s(e){if(e>a)throw new RangeError("Invalid typed array length");var t=new Uint8Array(e);return t.__proto__=u.prototype,t}function u(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(e)}return l(e,t,r)}function l(e,t,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return K(e)||e&&K(e.buffer)?_(e,t,r):"string"==typeof e?d(e,t):g(e)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('"size" argument must not be negative')}function c(e,t,r){return f(e),e<=0?s(e):void 0!==t?"string"==typeof r?s(e).fill(t,r):s(e).fill(t):s(e)}function h(e){return f(e),s(e<0?0:0|v(e))}function d(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|m(e,t),n=s(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}function p(e){for(var t=e.length<0?0:0|v(e.length),r=s(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function _(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r)).__proto__=u.prototype,n}function g(e){if(u.isBuffer(e)){var t=0|v(e.length),r=s(t);return 0===r.length||e.copy(r,0,0,t),r}if(e){if(ArrayBuffer.isView(e)||"length"in e)return"number"!=typeof e.length||X(e.length)?s(0):p(e);if("Buffer"===e.type&&Array.isArray(e.data))return p(e.data)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object.")}function v(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function y(e){return+e!=e&&(e=0),u.alloc(+e)}function m(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||K(e))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return Y(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return G(e).length;default:if(n)return Y(e).length;t=(""+t).toLowerCase(),n=!0}}function b(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return U(this,t,r);case"utf8":case"utf-8":return O(this,t,r);case"ascii":return R(this,t,r);case"latin1":case"binary":return B(this,t,r);case"base64":return j(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function w(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function x(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),X(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:E(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):E(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function E(e,t,r,n,i){var a,o=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,r/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var f=-1;for(a=r;a<s;a++)if(l(e,a)===l(t,-1===f?0:a-f)){if(-1===f&&(f=a),a-f+1===u)return f*o}else-1!==f&&(a-=a-f),f=-1}else for(r+u>s&&(r=s-u),a=r;a>=0;a--){for(var c=!0,h=0;h<u;h++)if(l(e,a+h)!==l(t,h)){c=!1;break}if(c)return a}return-1}function A(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a=t.length;n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(t.substr(2*o,2),16);if(X(s))return o;e[r+o]=s}return o}function k(e,t,r,n){return J(Y(t,e.length-r),e,r,n)}function S(e,t,r,n){return J(H(t),e,r,n)}function T(e,t,r,n){return S(e,t,r,n)}function I(e,t,r,n){return J(G(t),e,r,n)}function P(e,t,r,n){return J($(t,e.length-r),e,r,n)}function j(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function O(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var a,o,s,u,l=e[i],f=null,c=l>239?4:l>223?3:l>191?2:1;if(i+c<=r)switch(c){case 1:l<128&&(f=l);break;case 2:128==(192&(a=e[i+1]))&&(u=(31&l)<<6|63&a)>127&&(f=u);break;case 3:a=e[i+1],o=e[i+2],128==(192&a)&&128==(192&o)&&(u=(15&l)<<12|(63&a)<<6|63&o)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:a=e[i+1],o=e[i+2],s=e[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(u=(15&l)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&u<1114112&&(f=u)}null===f?(f=65533,c=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=c}return L(n)}r.kMaxLength=a,u.TYPED_ARRAY_SUPPORT=o(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{get:function(){if(this instanceof u)return this.buffer}}),Object.defineProperty(u.prototype,"offset",{get:function(){if(this instanceof u)return this.byteOffset}}),"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),u.poolSize=8192,u.from=function(e,t,r){return l(e,t,r)},u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,u.alloc=function(e,t,r){return c(e,t,r)},u.allocUnsafe=function(e){return h(e)},u.allocUnsafeSlow=function(e){return h(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(ArrayBuffer.isView(a)&&(a=u.from(a)),!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},u.byteLength=m,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)w(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)w(this,t,t+3),w(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)w(this,t,t+7),w(this,t+1,t+6),w(this,t+2,t+5),w(this,t+3,t+4);return this},u.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?O(this,0,e):b.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),s=Math.min(a,o),l=this.slice(n,i),f=e.slice(t,r),c=0;c<s;++c)if(l[c]!==f[c]){a=l[c],o=f[c];break}return a<o?-1:o<a?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return x(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return x(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return A(this,e,t,r);case"utf8":case"utf-8":return k(this,e,t,r);case"ascii":return S(this,e,t,r);case"latin1":case"binary":return T(this,e,t,r);case"base64":return I(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var D=4096;function L(e){var t=e.length;if(t<=D)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=D));return r}function R(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function B(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function U(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=t;a<r;++a)i+=W(e[a]);return i}function M(e,t,r){for(var n=e.slice(t,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function N(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function F(e,t,r,n,i,a){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function C(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function z(e,t,r,n,a){return t=+t,r>>>=0,a||C(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function V(e,t,r,n,a){return t=+t,r>>>=0,a||C(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return n.__proto__=u.prototype,n},u.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||N(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n},u.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||N(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUInt8=function(e,t){return e>>>=0,t||N(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||N(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||N(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||N(e,t,this.length);for(var n=this[e],i=1,a=0;++a<t&&(i*=256);)n+=this[e+a]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||N(e,t,this.length);for(var n=t,i=1,a=this[e+--n];n>0&&(i*=256);)a+=this[e+--n]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},u.prototype.readInt8=function(e,t){return e>>>=0,t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||N(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){e>>>=0,t||N(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return e>>>=0,t||N(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||N(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||N(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||N(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||F(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||F(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);F(this,e,t,r,i-1,-i)}var a=0,o=1,s=0;for(this[t]=255&e;++a<r&&(o*=256);)e<0&&0===s&&0!==this[t+a-1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);F(this,e,t,r,i-1,-i)}var a=r-1,o=1,s=0;for(this[t+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[t+a+1]&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeFloatLE=function(e,t,r){return z(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return z(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return V(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return V(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var a=i-1;a>=0;--a)e[a+t]=this[a+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return i},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var a;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(a=t;a<r;++a)this[a]=e;else{var o=u.isBuffer(e)?e:new u(e,n),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<r-t;++a)this[a+t]=o[a%s]}return this};var q=/[^+/0-9A-Za-z-_]/g;function Z(e){if((e=(e=e.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function W(e){return e<16?"0"+e.toString(16):e.toString(16)}function Y(e,t){var r;t=t||1/0;for(var n=e.length,i=null,a=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function H(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function $(e,t){for(var r,n,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i=r%256,a.push(i),a.push(n);return a}function G(e){return n.toByteArray(Z(e))}function J(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function K(e){return e instanceof ArrayBuffer||null!=e&&null!=e.constructor&&"ArrayBuffer"===e.constructor.name&&"number"==typeof e.byteLength}function X(e){return e!=e}},{"base64-js":1,ieee754:9}],4:[function(e,t,r){"use strict";var n=e("./lib/thunk.js");function i(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function a(e){var t=new i;t.pre=e.pre,t.body=e.body,t.post=e.post;var r=e.args.slice(0);t.argTypes=r;for(var a=0;a<r.length;++a){var o=r[a];if("array"===o||"object"==typeof o&&o.blockIndices){if(t.argTypes[a]="array",t.arrayArgs.push(a),t.arrayBlockIndices.push(o.blockIndices?o.blockIndices:0),t.shimArgs.push("array"+a),a<t.pre.args.length&&t.pre.args[a].count>0)throw new Error("cwise: pre() block may not reference array args");if(a<t.post.args.length&&t.post.args[a].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===o)t.scalarArgs.push(a),t.shimArgs.push("scalar"+a);else if("index"===o){if(t.indexArgs.push(a),a<t.pre.args.length&&t.pre.args[a].count>0)throw new Error("cwise: pre() block may not reference array index");if(a<t.body.args.length&&t.body.args[a].lvalue)throw new Error("cwise: body() block may not write to array index");if(a<t.post.args.length&&t.post.args[a].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===o){if(t.shapeArgs.push(a),a<t.pre.args.length&&t.pre.args[a].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(a<t.body.args.length&&t.body.args[a].lvalue)throw new Error("cwise: body() block may not write to array shape");if(a<t.post.args.length&&t.post.args[a].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof o||!o.offset)throw new Error("cwise: Unknown argument type "+r[a]);t.argTypes[a]="offset",t.offsetArgs.push({array:o.array,offset:o.offset}),t.offsetArgIndex.push(a)}}if(t.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(t.pre.args.length>r.length)throw new Error("cwise: Too many arguments in pre() block");if(t.body.args.length>r.length)throw new Error("cwise: Too many arguments in body() block");if(t.post.args.length>r.length)throw new Error("cwise: Too many arguments in post() block");return t.debug=!!e.printCode||!!e.debug,t.funcName=e.funcName||"cwise",t.blockSize=e.blockSize||64,n(t)}t.exports=a},{"./lib/thunk.js":6}],5:[function(e,t,r){"use strict";var n=e("uniq");function i(e,t,r){var n,i,a=e.length,o=t.arrayArgs.length,s=t.indexArgs.length>0,u=[],l=[],f=0,c=0;for(n=0;n<a;++n)l.push(["i",n,"=0"].join(""));for(i=0;i<o;++i)for(n=0;n<a;++n)c=f,f=e[n],0===n?l.push(["d",i,"s",n,"=t",i,"p",f].join("")):l.push(["d",i,"s",n,"=(t",i,"p",f,"-s",c,"*t",i,"p",c,")"].join(""));for(l.length>0&&u.push("var "+l.join(",")),n=a-1;n>=0;--n)f=e[n],u.push(["for(i",n,"=0;i",n,"<s",f,";++i",n,"){"].join(""));for(u.push(r),n=0;n<a;++n){for(c=f,f=e[n],i=0;i<o;++i)u.push(["p",i,"+=d",i,"s",n].join(""));s&&(n>0&&u.push(["index[",c,"]-=s",c].join("")),u.push(["++index[",f,"]"].join(""))),u.push("}")}return u.join("\n")}function a(e,t,r,n){for(var a=t.length,o=r.arrayArgs.length,s=r.blockSize,u=r.indexArgs.length>0,l=[],f=0;f<o;++f)l.push(["var offset",f,"=p",f].join(""));for(f=e;f<a;++f)l.push(["for(var j"+f+"=SS[",t[f],"]|0;j",f,">0;){"].join("")),l.push(["if(j",f,"<",s,"){"].join("")),l.push(["s",t[f],"=j",f].join("")),l.push(["j",f,"=0"].join("")),l.push(["}else{s",t[f],"=",s].join("")),l.push(["j",f,"-=",s,"}"].join("")),u&&l.push(["index[",t[f],"]=j",f].join(""));for(f=0;f<o;++f){for(var c=["offset"+f],h=e;h<a;++h)c.push(["j",h,"*t",f,"p",t[h]].join(""));l.push(["p",f,"=(",c.join("+"),")"].join(""))}for(l.push(i(t,r,n)),f=e;f<a;++f)l.push("}");return l.join("\n")}function o(e){for(var t=0,r=e[0].length;t<r;){for(var n=1;n<e.length;++n)if(e[n][t]!==e[0][t])return t;++t}return t}function s(e,t,r){for(var n=e.body,i=[],a=[],o=0;o<e.args.length;++o){var s=e.args[o];if(!(s.count<=0)){var u=new RegExp(s.name,"g"),l="",f=t.arrayArgs.indexOf(o);switch(t.argTypes[o]){case"offset":var c=t.offsetArgIndex.indexOf(o);f=t.offsetArgs[c].array,l="+q"+c;case"array":l="p"+f+l;var h="l"+o,d="a"+f;if(0===t.arrayBlockIndices[f])1===s.count?"generic"===r[f]?s.lvalue?(i.push(["var ",h,"=",d,".get(",l,")"].join("")),n=n.replace(u,h),a.push([d,".set(",l,",",h,")"].join(""))):n=n.replace(u,[d,".get(",l,")"].join("")):n=n.replace(u,[d,"[",l,"]"].join("")):"generic"===r[f]?(i.push(["var ",h,"=",d,".get(",l,")"].join("")),n=n.replace(u,h),s.lvalue&&a.push([d,".set(",l,",",h,")"].join(""))):(i.push(["var ",h,"=",d,"[",l,"]"].join("")),n=n.replace(u,h),s.lvalue&&a.push([d,"[",l,"]=",h].join("")));else{for(var p=[s.name],_=[l],g=0;g<Math.abs(t.arrayBlockIndices[f]);g++)p.push("\\s*\\[([^\\]]+)\\]"),_.push("$"+(g+1)+"*t"+f+"b"+g);if(u=new RegExp(p.join(""),"g"),l=_.join("+"),"generic"===r[f])throw new Error("cwise: Generic arrays not supported in combination with blocks!");n=n.replace(u,[d,"[",l,"]"].join(""))}break;case"scalar":n=n.replace(u,"Y"+t.scalarArgs.indexOf(o));break;case"index":n=n.replace(u,"index");break;case"shape":n=n.replace(u,"shape")}}}return[i.join("\n"),n,a.join("\n")].join("\n").trim()}function u(e){for(var t=new Array(e.length),r=!0,n=0;n<e.length;++n){var i=e[n],a=i.match(/\d+/);a=a?a[0]:"",0===i.charAt(0)?t[n]="u"+i.charAt(1)+a:t[n]=i.charAt(0)+a,n>0&&(r=r&&t[n]===t[n-1])}return r?t[0]:t.join("")}function l(e,t){for(var r=t[1].length-Math.abs(e.arrayBlockIndices[0])|0,l=new Array(e.arrayArgs.length),f=new Array(e.arrayArgs.length),c=0;c<e.arrayArgs.length;++c)f[c]=t[2*c],l[c]=t[2*c+1];var h=[],d=[],p=[],_=[],g=[];for(c=0;c<e.arrayArgs.length;++c){e.arrayBlockIndices[c]<0?(p.push(0),_.push(r),h.push(r),d.push(r+e.arrayBlockIndices[c])):(p.push(e.arrayBlockIndices[c]),_.push(e.arrayBlockIndices[c]+r),h.push(0),d.push(e.arrayBlockIndices[c]));for(var v=[],y=0;y<l[c].length;y++)p[c]<=l[c][y]&&l[c][y]<_[c]&&v.push(l[c][y]-p[c]);g.push(v)}var m=["SS"],b=["'use strict'"],w=[];for(y=0;y<r;++y)w.push(["s",y,"=SS[",y,"]"].join(""));for(c=0;c<e.arrayArgs.length;++c){for(m.push("a"+c),m.push("t"+c),m.push("p"+c),y=0;y<r;++y)w.push(["t",c,"p",y,"=t",c,"[",p[c]+y,"]"].join(""));for(y=0;y<Math.abs(e.arrayBlockIndices[c]);++y)w.push(["t",c,"b",y,"=t",c,"[",h[c]+y,"]"].join(""))}for(c=0;c<e.scalarArgs.length;++c)m.push("Y"+c);if(e.shapeArgs.length>0&&w.push("shape=SS.slice(0)"),e.indexArgs.length>0){var x=new Array(r);for(c=0;c<r;++c)x[c]="0";w.push(["index=[",x.join(","),"]"].join(""))}for(c=0;c<e.offsetArgs.length;++c){var E=e.offsetArgs[c],A=[];for(y=0;y<E.offset.length;++y)0!==E.offset[y]&&(1===E.offset[y]?A.push(["t",E.array,"p",y].join("")):A.push([E.offset[y],"*t",E.array,"p",y].join("")));0===A.length?w.push("q"+c+"=0"):w.push(["q",c,"=",A.join("+")].join(""))}var k=n([].concat(e.pre.thisVars).concat(e.body.thisVars).concat(e.post.thisVars));for((w=w.concat(k)).length>0&&b.push("var "+w.join(",")),c=0;c<e.arrayArgs.length;++c)b.push("p"+c+"|=0");e.pre.body.length>3&&b.push(s(e.pre,e,f));var S=s(e.body,e,f),T=o(g);T<r?b.push(a(T,g[0],e,S)):b.push(i(g[0],e,S)),e.post.body.length>3&&b.push(s(e.post,e,f)),e.debug&&console.log("-----Generated cwise routine for ",t,":\n"+b.join("\n")+"\n----------");var I=[e.funcName||"unnamed","_cwise_loop_",l[0].join("s"),"m",T,u(f)].join("");return new Function(["function ",I,"(",m.join(","),"){",b.join("\n"),"} return ",I].join(""))()}t.exports=l},{uniq:22}],6:[function(e,t,r){"use strict";var n=e("./compile.js");function i(e){var t=["'use strict'","var CACHED={}"],r=[],i=e.funcName+"_cwise_thunk";t.push(["return function ",i,"(",e.shimArgs.join(","),"){"].join(""));for(var a=[],o=[],s=[["array",e.arrayArgs[0],".shape.slice(",Math.max(0,e.arrayBlockIndices[0]),e.arrayBlockIndices[0]<0?","+e.arrayBlockIndices[0]+")":")"].join("")],u=[],l=[],f=0;f<e.arrayArgs.length;++f){var c=e.arrayArgs[f];r.push(["t",c,"=array",c,".dtype,","r",c,"=array",c,".order"].join("")),a.push("t"+c),a.push("r"+c),o.push("t"+c),o.push("r"+c+".join()"),s.push("array"+c+".data"),s.push("array"+c+".stride"),s.push("array"+c+".offset|0"),f>0&&(u.push("array"+e.arrayArgs[0]+".shape.length===array"+c+".shape.length+"+(Math.abs(e.arrayBlockIndices[0])-Math.abs(e.arrayBlockIndices[f]))),l.push("array"+e.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[0])+"]===array"+c+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[f])+"]"))}for(e.arrayArgs.length>1&&(t.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),t.push("for(var shapeIndex=array"+e.arrayArgs[0]+".shape.length-"+Math.abs(e.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),t.push("if (!("+l.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),t.push("}")),f=0;f<e.scalarArgs.length;++f)s.push("scalar"+e.scalarArgs[f]);return r.push(["type=[",o.join(","),"].join()"].join("")),r.push("proc=CACHED[type]"),t.push("var "+r.join(",")),t.push(["if(!proc){","CACHED[type]=proc=compile([",a.join(","),"])}","return proc(",s.join(","),")}"].join("")),e.debug&&console.log("-----Generated thunk:\n"+t.join("\n")+"\n----------"),new Function("compile",t.join("\n"))(n.bind(void 0,e))}t.exports=i},{"./compile.js":5}],7:[function(e,t,r){t.exports=e("cwise-compiler")},{"cwise-compiler":4}],8:[function(e,t,r){"use strict";function n(e,t,r){var i=0|e[r];if(i<=0)return[];var a,o=new Array(i);if(r===e.length-1)for(a=0;a<i;++a)o[a]=t;else for(a=0;a<i;++a)o[a]=n(e,t,r+1);return o}function i(e,t){var r,n;for(r=new Array(e),n=0;n<e;++n)r[n]=t;return r}function a(e,t){switch(void 0===t&&(t=0),typeof e){case"number":if(e>0)return i(0|e,t);break;case"object":if("number"==typeof e.length)return n(e,t,0)}return[]}t.exports=a},{}],9:[function(e,t,r){r.read=function(e,t,r,n,i){var a,o,s=8*i-n-1,u=(1<<s)-1,l=u>>1,f=-7,c=r?i-1:0,h=r?-1:1,d=e[t+c];for(c+=h,a=d&(1<<-f)-1,d>>=-f,f+=s;f>0;a=256*a+e[t+c],c+=h,f-=8);for(o=a&(1<<-f)-1,a>>=-f,f+=n;f>0;o=256*o+e[t+c],c+=h,f-=8);if(0===a)a=1-l;else{if(a===u)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),a-=l}return(d?-1:1)*o*Math.pow(2,a-n)},r.write=function(e,t,r,n,i,a){var o,s,u,l=8*a-i-1,f=(1<<l)-1,c=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:a-1,p=n?1:-1,_=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=f):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+c>=1?h/u:h*Math.pow(2,1-c))*u>=2&&(o++,u/=2),o+c>=f?(s=0,o=f):o+c>=1?(s=(t*u-1)*Math.pow(2,i),o+=c):(s=t*Math.pow(2,c-1)*Math.pow(2,i),o=0));i>=8;e[r+d]=255&s,d+=p,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;e[r+d]=255&o,d+=p,o/=256,l-=8);e[r+d-p]|=128*_}},{}],10:[function(e,t,r){"use strict";function n(e){for(var t=new Array(e),r=0;r<e;++r)t[r]=r;return t}t.exports=n},{}],11:[function(e,t,r){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function i(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(e){return null!=e&&(n(e)||i(e)||!!e._isBuffer)}},{}],12:[function(t,n,i){(function(t){(function(){var r,a="4.17.10",o=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",l="__lodash_hash_undefined__",f=500,c="__lodash_placeholder__",h=1,d=2,p=4,_=1,g=2,v=1,y=2,m=4,b=8,w=16,x=32,E=64,A=128,k=256,S=512,T=30,I="...",P=800,j=16,O=1,D=2,L=3,R=1/0,B=9007199254740991,U=17976931348623157e292,M=NaN,N=4294967295,F=N-1,C=N>>>1,z=[["ary",A],["bind",v],["bindKey",y],["curry",b],["curryRight",w],["flip",S],["partial",x],["partialRight",E],["rearg",k]],V="[object Arguments]",q="[object Array]",Z="[object AsyncFunction]",W="[object Boolean]",Y="[object Date]",H="[object DOMException]",$="[object Error]",G="[object Function]",J="[object GeneratorFunction]",K="[object Map]",X="[object Number]",Q="[object Null]",ee="[object Object]",te="[object Promise]",re="[object Proxy]",ne="[object RegExp]",ie="[object Set]",ae="[object String]",oe="[object Symbol]",se="[object Undefined]",ue="[object WeakMap]",le="[object WeakSet]",fe="[object ArrayBuffer]",ce="[object DataView]",he="[object Float32Array]",de="[object Float64Array]",pe="[object Int8Array]",_e="[object Int16Array]",ge="[object Int32Array]",ve="[object Uint8Array]",ye="[object Uint8ClampedArray]",me="[object Uint16Array]",be="[object Uint32Array]",we=/\b__p \+= '';/g,xe=/\b(__p \+=) '' \+/g,Ee=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ae=/&(?:amp|lt|gt|quot|#39);/g,ke=/[&<>"']/g,Se=RegExp(Ae.source),Te=RegExp(ke.source),Ie=/<%-([\s\S]+?)%>/g,Pe=/<%([\s\S]+?)%>/g,je=/<%=([\s\S]+?)%>/g,Oe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,De=/^\w*$/,Le=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Re=/[\\^$.*+?()[\]{}|]/g,Be=RegExp(Re.source),Ue=/^\s+|\s+$/g,Me=/^\s+/,Ne=/\s+$/,Fe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ce=/\{\n\/\* \[wrapped with (.+)\] \*/,ze=/,? & /,Ve=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,qe=/\\(\\)?/g,Ze=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,We=/\w*$/,Ye=/^[-+]0x[0-9a-f]+$/i,He=/^0b[01]+$/i,$e=/^\[object .+?Constructor\]$/,Ge=/^0o[0-7]+$/i,Je=/^(?:0|[1-9]\d*)$/,Ke=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xe=/($^)/,Qe=/['\n\r\u2028\u2029\\]/g,et="\\ud800-\\udfff",tt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",rt="\\u2700-\\u27bf",nt="a-z\\xdf-\\xf6\\xf8-\\xff",it="A-Z\\xc0-\\xd6\\xd8-\\xde",at="\\ufe0e\\ufe0f",ot="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",st="['’]",ut="["+et+"]",lt="["+ot+"]",ft="["+tt+"]",ct="\\d+",ht="["+rt+"]",dt="["+nt+"]",pt="[^"+et+ot+ct+rt+nt+it+"]",_t="\\ud83c[\\udffb-\\udfff]",gt="[^"+et+"]",vt="(?:\\ud83c[\\udde6-\\uddff]){2}",yt="[\\ud800-\\udbff][\\udc00-\\udfff]",mt="["+it+"]",bt="\\u200d",wt="(?:"+dt+"|"+pt+")",xt="(?:"+mt+"|"+pt+")",Et="(?:"+st+"(?:d|ll|m|re|s|t|ve))?",At="(?:"+st+"(?:D|LL|M|RE|S|T|VE))?",kt="(?:"+ft+"|"+_t+")?",St="["+at+"]?",Tt="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",It="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Pt=St+kt+"(?:"+bt+"(?:"+[gt,vt,yt].join("|")+")"+St+kt+")*",jt="(?:"+[ht,vt,yt].join("|")+")"+Pt,Ot="(?:"+[gt+ft+"?",ft,vt,yt,ut].join("|")+")",Dt=RegExp(st,"g"),Lt=RegExp(ft,"g"),Rt=RegExp(_t+"(?="+_t+")|"+Ot+Pt,"g"),Bt=RegExp([mt+"?"+dt+"+"+Et+"(?="+[lt,mt,"$"].join("|")+")",xt+"+"+At+"(?="+[lt,mt+wt,"$"].join("|")+")",mt+"?"+wt+"+"+Et,mt+"+"+At,It,Tt,ct,jt].join("|"),"g"),Ut=RegExp("["+bt+et+tt+at+"]"),Mt=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Nt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ft=-1,Ct={};Ct[he]=Ct[de]=Ct[pe]=Ct[_e]=Ct[ge]=Ct[ve]=Ct[ye]=Ct[me]=Ct[be]=!0,Ct[V]=Ct[q]=Ct[fe]=Ct[W]=Ct[ce]=Ct[Y]=Ct[$]=Ct[G]=Ct[K]=Ct[X]=Ct[ee]=Ct[ne]=Ct[ie]=Ct[ae]=Ct[ue]=!1;var zt={};zt[V]=zt[q]=zt[fe]=zt[ce]=zt[W]=zt[Y]=zt[he]=zt[de]=zt[pe]=zt[_e]=zt[ge]=zt[K]=zt[X]=zt[ee]=zt[ne]=zt[ie]=zt[ae]=zt[oe]=zt[ve]=zt[ye]=zt[me]=zt[be]=!0,zt[$]=zt[G]=zt[ue]=!1;var Vt={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},qt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Zt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Wt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Yt=parseFloat,Ht=parseInt,$t="object"==typeof t&&t&&t.Object===Object&&t,Gt="object"==typeof self&&self&&self.Object===Object&&self,Jt=$t||Gt||Function("return this")(),Kt="object"==typeof i&&i&&!i.nodeType&&i,Xt=Kt&&"object"==typeof n&&n&&!n.nodeType&&n,Qt=Xt&&Xt.exports===Kt,er=Qt&&$t.process,tr=function(){try{var e=Xt&&Xt.require&&Xt.require("util").types;return e||er&&er.binding&&er.binding("util")}catch(e){}}(),rr=tr&&tr.isArrayBuffer,nr=tr&&tr.isDate,ir=tr&&tr.isMap,ar=tr&&tr.isRegExp,or=tr&&tr.isSet,sr=tr&&tr.isTypedArray;function ur(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function lr(e,t,r,n){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(n,o,r(o),e)}return n}function fr(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function cr(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function hr(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function dr(e,t){for(var r=-1,n=null==e?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}function pr(e,t){return!(null==e||!e.length)&&Sr(e,t,0)>-1}function _r(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function gr(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function vr(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function yr(e,t,r,n){var i=-1,a=null==e?0:e.length;for(n&&a&&(r=e[++i]);++i<a;)r=t(r,e[i],i,e);return r}function mr(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function br(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var wr=jr("length");function xr(e){return e.split("")}function Er(e){return e.match(Ve)||[]}function Ar(e,t,r){var n;return r(e,(function(e,r,i){if(t(e,r,i))return n=r,!1})),n}function kr(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function Sr(e,t,r){return t==t?rn(e,t,r):kr(e,Ir,r)}function Tr(e,t,r,n){for(var i=r-1,a=e.length;++i<a;)if(n(e[i],t))return i;return-1}function Ir(e){return e!=e}function Pr(e,t){var r=null==e?0:e.length;return r?Rr(e,t)/r:M}function jr(e){return function(t){return null==t?r:t[e]}}function Or(e){return function(t){return null==e?r:e[t]}}function Dr(e,t,r,n,i){return i(e,(function(e,i,a){r=n?(n=!1,e):t(r,e,i,a)})),r}function Lr(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}function Rr(e,t){for(var n,i=-1,a=e.length;++i<a;){var o=t(e[i]);o!==r&&(n=n===r?o:n+o)}return n}function Br(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Ur(e,t){return gr(t,(function(t){return[t,e[t]]}))}function Mr(e){return function(t){return e(t)}}function Nr(e,t){return gr(t,(function(t){return e[t]}))}function Fr(e,t){return e.has(t)}function Cr(e,t){for(var r=-1,n=e.length;++r<n&&Sr(t,e[r],0)>-1;);return r}function zr(e,t){for(var r=e.length;r--&&Sr(t,e[r],0)>-1;);return r}function Vr(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}var qr=Or(Vt),Zr=Or(qt);function Wr(e){return"\\"+Wt[e]}function Yr(e,t){return null==e?r:e[t]}function Hr(e){return Ut.test(e)}function $r(e){return Mt.test(e)}function Gr(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}function Jr(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function Kr(e,t){return function(r){return e(t(r))}}function Xr(e,t){for(var r=-1,n=e.length,i=0,a=[];++r<n;){var o=e[r];o!==t&&o!==c||(e[r]=c,a[i++]=r)}return a}function Qr(e,t){return"__proto__"==t?r:e[t]}function en(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function tn(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}function rn(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}function nn(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}function an(e){return Hr(e)?un(e):wr(e)}function on(e){return Hr(e)?ln(e):xr(e)}var sn=Or(Zt);function un(e){for(var t=Rt.lastIndex=0;Rt.test(e);)++t;return t}function ln(e){return e.match(Rt)||[]}function fn(e){return e.match(Bt)||[]}var cn=function e(t){var n,i=(t=null==t?Jt:cn.defaults(Jt.Object(),t,cn.pick(Jt,Nt))).Array,Ve=t.Date,et=t.Error,tt=t.Function,rt=t.Math,nt=t.Object,it=t.RegExp,at=t.String,ot=t.TypeError,st=i.prototype,ut=tt.prototype,lt=nt.prototype,ft=t["__core-js_shared__"],ct=ut.toString,ht=lt.hasOwnProperty,dt=0,pt=(n=/[^.]+$/.exec(ft&&ft.keys&&ft.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",_t=lt.toString,gt=ct.call(nt),vt=Jt._,yt=it("^"+ct.call(ht).replace(Re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mt=Qt?t.Buffer:r,bt=t.Symbol,wt=t.Uint8Array,xt=mt?mt.allocUnsafe:r,Et=Kr(nt.getPrototypeOf,nt),At=nt.create,kt=lt.propertyIsEnumerable,St=st.splice,Tt=bt?bt.isConcatSpreadable:r,It=bt?bt.iterator:r,Pt=bt?bt.toStringTag:r,jt=function(){try{var e=Ho(nt,"defineProperty");return e({},"",{}),e}catch(e){}}(),Ot=t.clearTimeout!==Jt.clearTimeout&&t.clearTimeout,Rt=Ve&&Ve.now!==Jt.Date.now&&Ve.now,Bt=t.setTimeout!==Jt.setTimeout&&t.setTimeout,Ut=rt.ceil,Mt=rt.floor,Vt=nt.getOwnPropertySymbols,qt=mt?mt.isBuffer:r,Zt=t.isFinite,Wt=st.join,$t=Kr(nt.keys,nt),Gt=rt.max,Kt=rt.min,Xt=Ve.now,er=t.parseInt,tr=rt.random,wr=st.reverse,xr=Ho(t,"DataView"),Or=Ho(t,"Map"),rn=Ho(t,"Promise"),un=Ho(t,"Set"),ln=Ho(t,"WeakMap"),hn=Ho(nt,"create"),dn=ln&&new ln,pn={},_n=Os(xr),gn=Os(Or),vn=Os(rn),yn=Os(un),mn=Os(ln),bn=bt?bt.prototype:r,wn=bn?bn.valueOf:r,xn=bn?bn.toString:r;function En(e){if(kf(e)&&!uf(e)&&!(e instanceof Tn)){if(e instanceof Sn)return e;if(ht.call(e,"__wrapped__"))return Ls(e)}return new Sn(e)}var An=function(){function e(){}return function(t){if(!Af(t))return{};if(At)return At(t);e.prototype=t;var n=new e;return e.prototype=r,n}}();function kn(){}function Sn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}function Tn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=N,this.__views__=[]}function In(){var e=new Tn(this.__wrapped__);return e.__actions__=no(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=no(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=no(this.__views__),e}function Pn(){if(this.__filtered__){var e=new Tn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e}function jn(){var e=this.__wrapped__.value(),t=this.__dir__,r=uf(e),n=t<0,i=r?e.length:0,a=Xo(0,i,this.__views__),o=a.start,s=a.end,u=s-o,l=n?s:o-1,f=this.__iteratees__,c=f.length,h=0,d=Kt(u,this.__takeCount__);if(!r||!n&&i==u&&d==u)return Na(e,this.__actions__);var p=[];e:for(;u--&&h<d;){for(var _=-1,g=e[l+=t];++_<c;){var v=f[_],y=v.iteratee,m=v.type,b=y(g);if(m==D)g=b;else if(!b){if(m==O)continue e;break e}}p[h++]=g}return p}function On(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Dn(){this.__data__=hn?hn(null):{},this.size=0}function Ln(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Rn(e){var t=this.__data__;if(hn){var n=t[e];return n===l?r:n}return ht.call(t,e)?t[e]:r}function Bn(e){var t=this.__data__;return hn?t[e]!==r:ht.call(t,e)}function Un(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=hn&&t===r?l:t,this}function Mn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Nn(){this.__data__=[],this.size=0}function Fn(e){var t=this.__data__,r=fi(t,e);return!(r<0||(r==t.length-1?t.pop():St.call(t,r,1),--this.size,0))}function Cn(e){var t=this.__data__,n=fi(t,e);return n<0?r:t[n][1]}function zn(e){return fi(this.__data__,e)>-1}function Vn(e,t){var r=this.__data__,n=fi(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function qn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Zn(){this.size=0,this.__data__={hash:new On,map:new(Or||Mn),string:new On}}function Wn(e){var t=Wo(this,e).delete(e);return this.size-=t?1:0,t}function Yn(e){return Wo(this,e).get(e)}function Hn(e){return Wo(this,e).has(e)}function $n(e,t){var r=Wo(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function Gn(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new qn;++t<r;)this.add(e[t])}function Jn(e){return this.__data__.set(e,l),this}function Kn(e){return this.__data__.has(e)}function Xn(e){var t=this.__data__=new Mn(e);this.size=t.size}function Qn(){this.__data__=new Mn,this.size=0}function ei(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function ti(e){return this.__data__.get(e)}function ri(e){return this.__data__.has(e)}function ni(e,t){var r=this.__data__;if(r instanceof Mn){var n=r.__data__;if(!Or||n.length<o-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new qn(n)}return r.set(e,t),this.size=r.size,this}function ii(e,t){var r=uf(e),n=!r&&sf(e),i=!r&&!n&&df(e),a=!r&&!n&&!i&&Cf(e),o=r||n||i||a,s=o?Br(e.length,at):[],u=s.length;for(var l in e)!t&&!ht.call(e,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||os(l,u))||s.push(l);return s}function ai(e){var t=e.length;return t?e[va(0,t-1)]:r}function oi(e,t){return Is(no(e),gi(t,0,e.length))}function si(e){return Is(no(e))}function ui(e,t,n){(n!==r&&!nf(e[t],n)||n===r&&!(t in e))&&pi(e,t,n)}function li(e,t,n){var i=e[t];ht.call(e,t)&&nf(i,n)&&(n!==r||t in e)||pi(e,t,n)}function fi(e,t){for(var r=e.length;r--;)if(nf(e[r][0],t))return r;return-1}function ci(e,t,r,n){return xi(e,(function(e,i,a){t(n,e,r(e),a)})),n}function hi(e,t){return e&&io(t,xc(t),e)}function di(e,t){return e&&io(t,Ec(t),e)}function pi(e,t,r){"__proto__"==t&&jt?jt(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function _i(e,t){for(var n=-1,a=t.length,o=i(a),s=null==e;++n<a;)o[n]=s?r:gc(e,t[n]);return o}function gi(e,t,n){return e==e&&(n!==r&&(e=e<=n?e:n),t!==r&&(e=e>=t?e:t)),e}function vi(e,t,n,i,a,o){var s,u=t&h,l=t&d,f=t&p;if(n&&(s=a?n(e,i,a,o):n(e)),s!==r)return s;if(!Af(e))return e;var c=uf(e);if(c){if(s=ts(e),!u)return no(e,s)}else{var _=Ko(e),g=_==G||_==J;if(df(e))return Ha(e,u);if(_==ee||_==V||g&&!a){if(s=l||g?{}:rs(e),!u)return l?oo(e,di(s,e)):ao(e,hi(s,e))}else{if(!zt[_])return a?e:{};s=ns(e,_,u)}}o||(o=new Xn);var v=o.get(e);if(v)return v;if(o.set(e,s),Mf(e))return e.forEach((function(r){s.add(vi(r,t,n,r,e,o))})),s;if(Sf(e))return e.forEach((function(r,i){s.set(i,vi(r,t,n,i,e,o))})),s;var y=c?r:(f?l?Co:Fo:l?Ec:xc)(e);return fr(y||e,(function(r,i){y&&(r=e[i=r]),li(s,i,vi(r,t,n,i,e,o))})),s}function yi(e){var t=xc(e);return function(r){return mi(r,e,t)}}function mi(e,t,n){var i=n.length;if(null==e)return!i;for(e=nt(e);i--;){var a=n[i],o=t[a],s=e[a];if(s===r&&!(a in e)||!o(s))return!1}return!0}function bi(e,t,n){if("function"!=typeof e)throw new ot(u);return As((function(){e.apply(r,n)}),t)}function wi(e,t,r,n){var i=-1,a=pr,s=!0,u=e.length,l=[],f=t.length;if(!u)return l;r&&(t=gr(t,Mr(r))),n?(a=_r,s=!1):t.length>=o&&(a=Fr,s=!1,t=new Gn(t));e:for(;++i<u;){var c=e[i],h=null==r?c:r(c);if(c=n||0!==c?c:0,s&&h==h){for(var d=f;d--;)if(t[d]===h)continue e;l.push(c)}else a(t,h,n)||l.push(c)}return l}En.templateSettings={escape:Ie,evaluate:Pe,interpolate:je,variable:"",imports:{_:En}},En.prototype=kn.prototype,En.prototype.constructor=En,Sn.prototype=An(kn.prototype),Sn.prototype.constructor=Sn,Tn.prototype=An(kn.prototype),Tn.prototype.constructor=Tn,On.prototype.clear=Dn,On.prototype.delete=Ln,On.prototype.get=Rn,On.prototype.has=Bn,On.prototype.set=Un,Mn.prototype.clear=Nn,Mn.prototype.delete=Fn,Mn.prototype.get=Cn,Mn.prototype.has=zn,Mn.prototype.set=Vn,qn.prototype.clear=Zn,qn.prototype.delete=Wn,qn.prototype.get=Yn,qn.prototype.has=Hn,qn.prototype.set=$n,Gn.prototype.add=Gn.prototype.push=Jn,Gn.prototype.has=Kn,Xn.prototype.clear=Qn,Xn.prototype.delete=ei,Xn.prototype.get=ti,Xn.prototype.has=ri,Xn.prototype.set=ni;var xi=lo(Oi),Ei=lo(Di,!0);function Ai(e,t){var r=!0;return xi(e,(function(e,n,i){return r=!!t(e,n,i)})),r}function ki(e,t,n){for(var i=-1,a=e.length;++i<a;){var o=e[i],s=t(o);if(null!=s&&(u===r?s==s&&!Ff(s):n(s,u)))var u=s,l=o}return l}function Si(e,t,n,i){var a=e.length;for((n=$f(n))<0&&(n=-n>a?0:a+n),(i=i===r||i>a?a:$f(i))<0&&(i+=a),i=n>i?0:Gf(i);n<i;)e[n++]=t;return e}function Ti(e,t){var r=[];return xi(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function Ii(e,t,r,n,i){var a=-1,o=e.length;for(r||(r=as),i||(i=[]);++a<o;){var s=e[a];t>0&&r(s)?t>1?Ii(s,t-1,r,n,i):vr(i,s):n||(i[i.length]=s)}return i}var Pi=fo(),ji=fo(!0);function Oi(e,t){return e&&Pi(e,t,xc)}function Di(e,t){return e&&ji(e,t,xc)}function Li(e,t){return dr(t,(function(t){return wf(e[t])}))}function Ri(e,t){for(var n=0,i=(t=qa(t,e)).length;null!=e&&n<i;)e=e[js(t[n++])];return n&&n==i?e:r}function Bi(e,t,r){var n=t(e);return uf(e)?n:vr(n,r(e))}function Ui(e){return null==e?e===r?se:Q:Pt&&Pt in nt(e)?$o(e):ms(e)}function Mi(e,t){return e>t}function Ni(e,t){return null!=e&&ht.call(e,t)}function Fi(e,t){return null!=e&&t in nt(e)}function Ci(e,t,r){return e>=Kt(t,r)&&e<Gt(t,r)}function zi(e,t,n){for(var a=n?_r:pr,o=e[0].length,s=e.length,u=s,l=i(s),f=1/0,c=[];u--;){var h=e[u];u&&t&&(h=gr(h,Mr(t))),f=Kt(h.length,f),l[u]=!n&&(t||o>=120&&h.length>=120)?new Gn(u&&h):r}h=e[0];var d=-1,p=l[0];e:for(;++d<o&&c.length<f;){var _=h[d],g=t?t(_):_;if(_=n||0!==_?_:0,!(p?Fr(p,g):a(c,g,n))){for(u=s;--u;){var v=l[u];if(!(v?Fr(v,g):a(e[u],g,n)))continue e}p&&p.push(g),c.push(_)}}return c}function Vi(e,t,r,n){return Oi(e,(function(e,i,a){t(n,r(e),i,a)})),n}function qi(e,t,n){var i=null==(e=ws(e,t=qa(t,e)))?e:e[js(iu(t))];return null==i?r:ur(i,e,n)}function Zi(e){return kf(e)&&Ui(e)==V}function Wi(e){return kf(e)&&Ui(e)==fe}function Yi(e){return kf(e)&&Ui(e)==Y}function Hi(e,t,r,n,i){return e===t||(null==e||null==t||!kf(e)&&!kf(t)?e!=e&&t!=t:$i(e,t,r,n,Hi,i))}function $i(e,t,r,n,i,a){var o=uf(e),s=uf(t),u=o?q:Ko(e),l=s?q:Ko(t),f=(u=u==V?ee:u)==ee,c=(l=l==V?ee:l)==ee,h=u==l;if(h&&df(e)){if(!df(t))return!1;o=!0,f=!1}if(h&&!f)return a||(a=new Xn),o||Cf(e)?Bo(e,t,r,n,i,a):Uo(e,t,u,r,n,i,a);if(!(r&_)){var d=f&&ht.call(e,"__wrapped__"),p=c&&ht.call(t,"__wrapped__");if(d||p){var g=d?e.value():e,v=p?t.value():t;return a||(a=new Xn),i(g,v,r,n,a)}}return!!h&&(a||(a=new Xn),Mo(e,t,r,n,i,a))}function Gi(e){return kf(e)&&Ko(e)==K}function Ji(e,t,n,i){var a=n.length,o=a,s=!i;if(null==e)return!o;for(e=nt(e);a--;){var u=n[a];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<o;){var l=(u=n[a])[0],f=e[l],c=u[1];if(s&&u[2]){if(f===r&&!(l in e))return!1}else{var h=new Xn;if(i)var d=i(f,c,l,e,t,h);if(!(d===r?Hi(c,f,_|g,i,h):d))return!1}}return!0}function Ki(e){return!(!Af(e)||cs(e))&&(wf(e)?yt:$e).test(Os(e))}function Xi(e){return kf(e)&&Ui(e)==ne}function Qi(e){return kf(e)&&Ko(e)==ie}function ea(e){return kf(e)&&Ef(e.length)&&!!Ct[Ui(e)]}function ta(e){return"function"==typeof e?e:null==e?jh:"object"==typeof e?uf(e)?sa(e[0],e[1]):oa(e):qh(e)}function ra(e){if(!ds(e))return $t(e);var t=[];for(var r in nt(e))ht.call(e,r)&&"constructor"!=r&&t.push(r);return t}function na(e){if(!Af(e))return ys(e);var t=ds(e),r=[];for(var n in e)("constructor"!=n||!t&&ht.call(e,n))&&r.push(n);return r}function ia(e,t){return e<t}function aa(e,t){var r=-1,n=ff(e)?i(e.length):[];return xi(e,(function(e,i,a){n[++r]=t(e,i,a)})),n}function oa(e){var t=Yo(e);return 1==t.length&&t[0][2]?_s(t[0][0],t[0][1]):function(r){return r===e||Ji(r,e,t)}}function sa(e,t){return us(e)&&ps(t)?_s(js(e),t):function(n){var i=gc(n,e);return i===r&&i===t?yc(n,e):Hi(t,i,_|g)}}function ua(e,t,n,i,a){e!==t&&Pi(t,(function(o,s){if(Af(o))a||(a=new Xn),la(e,t,s,n,ua,i,a);else{var u=i?i(Qr(e,s),o,s+"",e,t,a):r;u===r&&(u=o),ui(e,s,u)}}),Ec)}function la(e,t,n,i,a,o,s){var u=Qr(e,n),l=Qr(t,n),f=s.get(l);if(f)ui(e,n,f);else{var c=o?o(u,l,n+"",e,t,s):r,h=c===r;if(h){var d=uf(l),p=!d&&df(l),_=!d&&!p&&Cf(l);c=l,d||p||_?uf(u)?c=u:cf(u)?c=no(u):p?(h=!1,c=Ha(l,!0)):_?(h=!1,c=Xa(l,!0)):c=[]:Rf(l)||sf(l)?(c=u,sf(u)?c=Kf(u):(!Af(u)||i&&wf(u))&&(c=rs(l))):h=!1}h&&(s.set(l,c),a(c,l,i,o,s),s.delete(l)),ui(e,n,c)}}function fa(e,t){var n=e.length;if(n)return os(t+=t<0?n:0,n)?e[t]:r}function ca(e,t,r){var n=-1;return t=gr(t.length?t:[jh],Mr(Zo())),Lr(aa(e,(function(e,r,i){return{criteria:gr(t,(function(t){return t(e)})),index:++n,value:e}})),(function(e,t){return eo(e,t,r)}))}function ha(e,t){return da(e,t,(function(t,r){return yc(e,r)}))}function da(e,t,r){for(var n=-1,i=t.length,a={};++n<i;){var o=t[n],s=Ri(e,o);r(s,o)&&Ea(a,qa(o,e),s)}return a}function pa(e){return function(t){return Ri(t,e)}}function _a(e,t,r,n){var i=n?Tr:Sr,a=-1,o=t.length,s=e;for(e===t&&(t=no(t)),r&&(s=gr(e,Mr(r)));++a<o;)for(var u=0,l=t[a],f=r?r(l):l;(u=i(s,f,u,n))>-1;)s!==e&&St.call(s,u,1),St.call(e,u,1);return e}function ga(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==a){var a=i;os(i)?St.call(e,i,1):Ba(e,i)}}return e}function va(e,t){return e+Mt(tr()*(t-e+1))}function ya(e,t,r,n){for(var a=-1,o=Gt(Ut((t-e)/(r||1)),0),s=i(o);o--;)s[n?o:++a]=e,e+=r;return s}function ma(e,t){var r="";if(!e||t<1||t>B)return r;do{t%2&&(r+=e),(t=Mt(t/2))&&(e+=e)}while(t);return r}function ba(e,t){return ks(bs(e,t,jh),e+"")}function wa(e){return ai(zc(e))}function xa(e,t){var r=zc(e);return Is(r,gi(t,0,r.length))}function Ea(e,t,n,i){if(!Af(e))return e;for(var a=-1,o=(t=qa(t,e)).length,s=o-1,u=e;null!=u&&++a<o;){var l=js(t[a]),f=n;if(a!=s){var c=u[l];(f=i?i(c,l,u):r)===r&&(f=Af(c)?c:os(t[a+1])?[]:{})}li(u,l,f),u=u[l]}return e}var Aa=dn?function(e,t){return dn.set(e,t),e}:jh,ka=jt?function(e,t){return jt(e,"toString",{configurable:!0,enumerable:!1,value:Sh(t),writable:!0})}:jh;function Sa(e){return Is(zc(e))}function Ta(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=i(a);++n<a;)o[n]=e[n+t];return o}function Ia(e,t){var r;return xi(e,(function(e,n,i){return!(r=t(e,n,i))})),!!r}function Pa(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t==t&&i<=C){for(;n<i;){var a=n+i>>>1,o=e[a];null!==o&&!Ff(o)&&(r?o<=t:o<t)?n=a+1:i=a}return i}return ja(e,t,jh,r)}function ja(e,t,n,i){t=n(t);for(var a=0,o=null==e?0:e.length,s=t!=t,u=null===t,l=Ff(t),f=t===r;a<o;){var c=Mt((a+o)/2),h=n(e[c]),d=h!==r,p=null===h,_=h==h,g=Ff(h);if(s)var v=i||_;else v=f?_&&(i||d):u?_&&d&&(i||!p):l?_&&d&&!p&&(i||!g):!p&&!g&&(i?h<=t:h<t);v?a=c+1:o=c}return Kt(o,F)}function Oa(e,t){for(var r=-1,n=e.length,i=0,a=[];++r<n;){var o=e[r],s=t?t(o):o;if(!r||!nf(s,u)){var u=s;a[i++]=0===o?0:o}}return a}function Da(e){return"number"==typeof e?e:Ff(e)?M:+e}function La(e){if("string"==typeof e)return e;if(uf(e))return gr(e,La)+"";if(Ff(e))return xn?xn.call(e):"";var t=e+"";return"0"==t&&1/e==-R?"-0":t}function Ra(e,t,r){var n=-1,i=pr,a=e.length,s=!0,u=[],l=u;if(r)s=!1,i=_r;else if(a>=o){var f=t?null:Po(e);if(f)return en(f);s=!1,i=Fr,l=new Gn}else l=t?[]:u;e:for(;++n<a;){var c=e[n],h=t?t(c):c;if(c=r||0!==c?c:0,s&&h==h){for(var d=l.length;d--;)if(l[d]===h)continue e;t&&l.push(h),u.push(c)}else i(l,h,r)||(l!==u&&l.push(h),u.push(c))}return u}function Ba(e,t){return null==(e=ws(e,t=qa(t,e)))||delete e[js(iu(t))]}function Ua(e,t,r,n){return Ea(e,t,r(Ri(e,t)),n)}function Ma(e,t,r,n){for(var i=e.length,a=n?i:-1;(n?a--:++a<i)&&t(e[a],a,e););return r?Ta(e,n?0:a,n?a+1:i):Ta(e,n?a+1:0,n?i:a)}function Na(e,t){var r=e;return r instanceof Tn&&(r=r.value()),yr(t,(function(e,t){return t.func.apply(t.thisArg,vr([e],t.args))}),r)}function Fa(e,t,r){var n=e.length;if(n<2)return n?Ra(e[0]):[];for(var a=-1,o=i(n);++a<n;)for(var s=e[a],u=-1;++u<n;)u!=a&&(o[a]=wi(o[a]||s,e[u],t,r));return Ra(Ii(o,1),t,r)}function Ca(e,t,n){for(var i=-1,a=e.length,o=t.length,s={};++i<a;){var u=i<o?t[i]:r;n(s,e[i],u)}return s}function za(e){return cf(e)?e:[]}function Va(e){return"function"==typeof e?e:jh}function qa(e,t){return uf(e)?e:us(e,t)?[e]:Ps(Qf(e))}var Za=ba;function Wa(e,t,n){var i=e.length;return n=n===r?i:n,!t&&n>=i?e:Ta(e,t,n)}var Ya=Ot||function(e){return Jt.clearTimeout(e)};function Ha(e,t){if(t)return e.slice();var r=e.length,n=xt?xt(r):new e.constructor(r);return e.copy(n),n}function $a(e){var t=new e.constructor(e.byteLength);return new wt(t).set(new wt(e)),t}function Ga(e,t){var r=t?$a(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}function Ja(e){var t=new e.constructor(e.source,We.exec(e));return t.lastIndex=e.lastIndex,t}function Ka(e){return wn?nt(wn.call(e)):{}}function Xa(e,t){var r=t?$a(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Qa(e,t){if(e!==t){var n=e!==r,i=null===e,a=e==e,o=Ff(e),s=t!==r,u=null===t,l=t==t,f=Ff(t);if(!u&&!f&&!o&&e>t||o&&s&&l&&!u&&!f||i&&s&&l||!n&&l||!a)return 1;if(!i&&!o&&!f&&e<t||f&&n&&a&&!i&&!o||u&&n&&a||!s&&a||!l)return-1}return 0}function eo(e,t,r){for(var n=-1,i=e.criteria,a=t.criteria,o=i.length,s=r.length;++n<o;){var u=Qa(i[n],a[n]);if(u)return n>=s?u:u*("desc"==r[n]?-1:1)}return e.index-t.index}function to(e,t,r,n){for(var a=-1,o=e.length,s=r.length,u=-1,l=t.length,f=Gt(o-s,0),c=i(l+f),h=!n;++u<l;)c[u]=t[u];for(;++a<s;)(h||a<o)&&(c[r[a]]=e[a]);for(;f--;)c[u++]=e[a++];return c}function ro(e,t,r,n){for(var a=-1,o=e.length,s=-1,u=r.length,l=-1,f=t.length,c=Gt(o-u,0),h=i(c+f),d=!n;++a<c;)h[a]=e[a];for(var p=a;++l<f;)h[p+l]=t[l];for(;++s<u;)(d||a<o)&&(h[p+r[s]]=e[a++]);return h}function no(e,t){var r=-1,n=e.length;for(t||(t=i(n));++r<n;)t[r]=e[r];return t}function io(e,t,n,i){var a=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var u=t[o],l=i?i(n[u],e[u],u,n,e):r;l===r&&(l=e[u]),a?pi(n,u,l):li(n,u,l)}return n}function ao(e,t){return io(e,Go(e),t)}function oo(e,t){return io(e,Jo(e),t)}function so(e,t){return function(r,n){var i=uf(r)?lr:ci,a=t?t():{};return i(r,e,Zo(n,2),a)}}function uo(e){return ba((function(t,n){var i=-1,a=n.length,o=a>1?n[a-1]:r,s=a>2?n[2]:r;for(o=e.length>3&&"function"==typeof o?(a--,o):r,s&&ss(n[0],n[1],s)&&(o=a<3?r:o,a=1),t=nt(t);++i<a;){var u=n[i];u&&e(t,u,i,o)}return t}))}function lo(e,t){return function(r,n){if(null==r)return r;if(!ff(r))return e(r,n);for(var i=r.length,a=t?i:-1,o=nt(r);(t?a--:++a<i)&&!1!==n(o[a],a,o););return r}}function fo(e){return function(t,r,n){for(var i=-1,a=nt(t),o=n(t),s=o.length;s--;){var u=o[e?s:++i];if(!1===r(a[u],u,a))break}return t}}function co(e,t,r){var n=t&v,i=_o(e);function a(){return(this&&this!==Jt&&this instanceof a?i:e).apply(n?r:this,arguments)}return a}function ho(e){return function(t){var n=Hr(t=Qf(t))?on(t):r,i=n?n[0]:t.charAt(0),a=n?Wa(n,1).join(""):t.slice(1);return i[e]()+a}}function po(e){return function(t){return yr(wh($c(t).replace(Dt,"")),e,"")}}function _o(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=An(e.prototype),n=e.apply(r,t);return Af(n)?n:r}}function go(e,t,n){var a=_o(e);function o(){for(var s=arguments.length,u=i(s),l=s,f=qo(o);l--;)u[l]=arguments[l];var c=s<3&&u[0]!==f&&u[s-1]!==f?[]:Xr(u,f);return(s-=c.length)<n?To(e,t,mo,o.placeholder,r,u,c,r,r,n-s):ur(this&&this!==Jt&&this instanceof o?a:e,this,u)}return o}function vo(e){return function(t,n,i){var a=nt(t);if(!ff(t)){var o=Zo(n,3);t=xc(t),n=function(e){return o(a[e],e,a)}}var s=e(t,n,i);return s>-1?a[o?t[s]:s]:r}}function yo(e){return No((function(t){var n=t.length,i=n,a=Sn.prototype.thru;for(e&&t.reverse();i--;){var o=t[i];if("function"!=typeof o)throw new ot(u);if(a&&!s&&"wrapper"==Vo(o))var s=new Sn([],!0)}for(i=s?i:n;++i<n;){var l=Vo(o=t[i]),f="wrapper"==l?zo(o):r;s=f&&fs(f[0])&&f[1]==(A|b|x|k)&&!f[4].length&&1==f[9]?s[Vo(f[0])].apply(s,f[3]):1==o.length&&fs(o)?s[l]():s.thru(o)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&uf(r))return s.plant(r).value();for(var i=0,a=n?t[i].apply(this,e):r;++i<n;)a=t[i].call(this,a);return a}}))}function mo(e,t,n,a,o,s,u,l,f,c){var h=t&A,d=t&v,p=t&y,_=t&(b|w),g=t&S,m=p?r:_o(e);function x(){for(var r=arguments.length,v=i(r),y=r;y--;)v[y]=arguments[y];if(_)var b=qo(x),w=Vr(v,b);if(a&&(v=to(v,a,o,_)),s&&(v=ro(v,s,u,_)),r-=w,_&&r<c){var E=Xr(v,b);return To(e,t,mo,x.placeholder,n,v,E,l,f,c-r)}var A=d?n:this,k=p?A[e]:e;return r=v.length,l?v=xs(v,l):g&&r>1&&v.reverse(),h&&f<r&&(v.length=f),this&&this!==Jt&&this instanceof x&&(k=m||_o(k)),k.apply(A,v)}return x}function bo(e,t){return function(r,n){return Vi(r,e,t(n),{})}}function wo(e,t){return function(n,i){var a;if(n===r&&i===r)return t;if(n!==r&&(a=n),i!==r){if(a===r)return i;"string"==typeof n||"string"==typeof i?(n=La(n),i=La(i)):(n=Da(n),i=Da(i)),a=e(n,i)}return a}}function xo(e){return No((function(t){return t=gr(t,Mr(Zo())),ba((function(r){var n=this;return e(t,(function(e){return ur(e,n,r)}))}))}))}function Eo(e,t){var n=(t=t===r?" ":La(t)).length;if(n<2)return n?ma(t,e):t;var i=ma(t,Ut(e/an(t)));return Hr(t)?Wa(on(i),0,e).join(""):i.slice(0,e)}function Ao(e,t,r,n){var a=t&v,o=_o(e);function s(){for(var t=-1,u=arguments.length,l=-1,f=n.length,c=i(f+u),h=this&&this!==Jt&&this instanceof s?o:e;++l<f;)c[l]=n[l];for(;u--;)c[l++]=arguments[++t];return ur(h,a?r:this,c)}return s}function ko(e){return function(t,n,i){return i&&"number"!=typeof i&&ss(t,n,i)&&(n=i=r),t=Hf(t),n===r?(n=t,t=0):n=Hf(n),ya(t,n,i=i===r?t<n?1:-1:Hf(i),e)}}function So(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=Jf(t),r=Jf(r)),e(t,r)}}function To(e,t,n,i,a,o,s,u,l,f){var c=t&b;t|=c?x:E,(t&=~(c?E:x))&m||(t&=~(v|y));var h=[e,t,a,c?o:r,c?s:r,c?r:o,c?r:s,u,l,f],d=n.apply(r,h);return fs(e)&&Es(d,h),d.placeholder=i,Ss(d,e,t)}function Io(e){var t=rt[e];return function(e,r){if(e=Jf(e),r=null==r?0:Kt($f(r),292)){var n=(Qf(e)+"e").split("e");return+((n=(Qf(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var Po=un&&1/en(new un([,-0]))[1]==R?function(e){return new un(e)}:Nh;function jo(e){return function(t){var r=Ko(t);return r==K?Jr(t):r==ie?tn(t):Ur(t,e(t))}}function Oo(e,t,n,i,a,o,s,l){var f=t&y;if(!f&&"function"!=typeof e)throw new ot(u);var c=i?i.length:0;if(c||(t&=~(x|E),i=a=r),s=s===r?s:Gt($f(s),0),l=l===r?l:$f(l),c-=a?a.length:0,t&E){var h=i,d=a;i=a=r}var p=f?r:zo(e),_=[e,t,n,i,a,h,d,o,s,l];if(p&&vs(_,p),e=_[0],t=_[1],n=_[2],i=_[3],a=_[4],!(l=_[9]=_[9]===r?f?0:e.length:Gt(_[9]-c,0))&&t&(b|w)&&(t&=~(b|w)),t&&t!=v)g=t==b||t==w?go(e,t,l):t!=x&&t!=(v|x)||a.length?mo.apply(r,_):Ao(e,t,n,i);else var g=co(e,t,n);return Ss((p?Aa:Es)(g,_),e,t)}function Do(e,t,n,i){return e===r||nf(e,lt[n])&&!ht.call(i,n)?t:e}function Lo(e,t,n,i,a,o){return Af(e)&&Af(t)&&(o.set(t,e),ua(e,t,r,Lo,o),o.delete(t)),e}function Ro(e){return Rf(e)?r:e}function Bo(e,t,n,i,a,o){var s=n&_,u=e.length,l=t.length;if(u!=l&&!(s&&l>u))return!1;var f=o.get(e);if(f&&o.get(t))return f==t;var c=-1,h=!0,d=n&g?new Gn:r;for(o.set(e,t),o.set(t,e);++c<u;){var p=e[c],v=t[c];if(i)var y=s?i(v,p,c,t,e,o):i(p,v,c,e,t,o);if(y!==r){if(y)continue;h=!1;break}if(d){if(!br(t,(function(e,t){if(!Fr(d,t)&&(p===e||a(p,e,n,i,o)))return d.push(t)}))){h=!1;break}}else if(p!==v&&!a(p,v,n,i,o)){h=!1;break}}return o.delete(e),o.delete(t),h}function Uo(e,t,r,n,i,a,o){switch(r){case ce:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case fe:return!(e.byteLength!=t.byteLength||!a(new wt(e),new wt(t)));case W:case Y:case X:return nf(+e,+t);case $:return e.name==t.name&&e.message==t.message;case ne:case ae:return e==t+"";case K:var s=Jr;case ie:var u=n&_;if(s||(s=en),e.size!=t.size&&!u)return!1;var l=o.get(e);if(l)return l==t;n|=g,o.set(e,t);var f=Bo(s(e),s(t),n,i,a,o);return o.delete(e),f;case oe:if(wn)return wn.call(e)==wn.call(t)}return!1}function Mo(e,t,n,i,a,o){var s=n&_,u=Fo(e),l=u.length;if(l!=Fo(t).length&&!s)return!1;for(var f=l;f--;){var c=u[f];if(!(s?c in t:ht.call(t,c)))return!1}var h=o.get(e);if(h&&o.get(t))return h==t;var d=!0;o.set(e,t),o.set(t,e);for(var p=s;++f<l;){var g=e[c=u[f]],v=t[c];if(i)var y=s?i(v,g,c,t,e,o):i(g,v,c,e,t,o);if(!(y===r?g===v||a(g,v,n,i,o):y)){d=!1;break}p||(p="constructor"==c)}if(d&&!p){var m=e.constructor,b=t.constructor;m==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof m&&m instanceof m&&"function"==typeof b&&b instanceof b||(d=!1)}return o.delete(e),o.delete(t),d}function No(e){return ks(bs(e,r,Hs),e+"")}function Fo(e){return Bi(e,xc,Go)}function Co(e){return Bi(e,Ec,Jo)}var zo=dn?function(e){return dn.get(e)}:Nh;function Vo(e){for(var t=e.name+"",r=pn[t],n=ht.call(pn,t)?r.length:0;n--;){var i=r[n],a=i.func;if(null==a||a==e)return i.name}return t}function qo(e){return(ht.call(En,"placeholder")?En:e).placeholder}function Zo(){var e=En.iteratee||Oh;return e=e===Oh?ta:e,arguments.length?e(arguments[0],arguments[1]):e}function Wo(e,t){var r=e.__data__;return ls(t)?r["string"==typeof t?"string":"hash"]:r.map}function Yo(e){for(var t=xc(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,ps(i)]}return t}function Ho(e,t){var n=Yr(e,t);return Ki(n)?n:r}function $o(e){var t=ht.call(e,Pt),n=e[Pt];try{e[Pt]=r;var i=!0}catch(e){}var a=_t.call(e);return i&&(t?e[Pt]=n:delete e[Pt]),a}var Go=Vt?function(e){return null==e?[]:(e=nt(e),dr(Vt(e),(function(t){return kt.call(e,t)})))}:Hh,Jo=Vt?function(e){for(var t=[];e;)vr(t,Go(e)),e=Et(e);return t}:Hh,Ko=Ui;function Xo(e,t,r){for(var n=-1,i=r.length;++n<i;){var a=r[n],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=Kt(t,e+o);break;case"takeRight":e=Gt(e,t-o)}}return{start:e,end:t}}function Qo(e){var t=e.match(Ce);return t?t[1].split(ze):[]}function es(e,t,r){for(var n=-1,i=(t=qa(t,e)).length,a=!1;++n<i;){var o=js(t[n]);if(!(a=null!=e&&r(e,o)))break;e=e[o]}return a||++n!=i?a:!!(i=null==e?0:e.length)&&Ef(i)&&os(o,i)&&(uf(e)||sf(e))}function ts(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&ht.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function rs(e){return"function"!=typeof e.constructor||ds(e)?{}:An(Et(e))}function ns(e,t,r){var n=e.constructor;switch(t){case fe:return $a(e);case W:case Y:return new n(+e);case ce:return Ga(e,r);case he:case de:case pe:case _e:case ge:case ve:case ye:case me:case be:return Xa(e,r);case K:return new n;case X:case ae:return new n(e);case ne:return Ja(e);case ie:return new n;case oe:return Ka(e)}}function is(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(Fe,"{\n/* [wrapped with "+t+"] */\n")}function as(e){return uf(e)||sf(e)||!!(Tt&&e&&e[Tt])}function os(e,t){var r=typeof e;return!!(t=null==t?B:t)&&("number"==r||"symbol"!=r&&Je.test(e))&&e>-1&&e%1==0&&e<t}function ss(e,t,r){if(!Af(r))return!1;var n=typeof t;return!!("number"==n?ff(r)&&os(t,r.length):"string"==n&&t in r)&&nf(r[t],e)}function us(e,t){if(uf(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!Ff(e))||De.test(e)||!Oe.test(e)||null!=t&&e in nt(t)}function ls(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function fs(e){var t=Vo(e),r=En[t];if("function"!=typeof r||!(t in Tn.prototype))return!1;if(e===r)return!0;var n=zo(r);return!!n&&e===n[0]}function cs(e){return!!pt&&pt in e}(xr&&Ko(new xr(new ArrayBuffer(1)))!=ce||Or&&Ko(new Or)!=K||rn&&Ko(rn.resolve())!=te||un&&Ko(new un)!=ie||ln&&Ko(new ln)!=ue)&&(Ko=function(e){var t=Ui(e),n=t==ee?e.constructor:r,i=n?Os(n):"";if(i)switch(i){case _n:return ce;case gn:return K;case vn:return te;case yn:return ie;case mn:return ue}return t});var hs=ft?wf:$h;function ds(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||lt)}function ps(e){return e==e&&!Af(e)}function _s(e,t){return function(n){return null!=n&&n[e]===t&&(t!==r||e in nt(n))}}function gs(e){var t=Fl(e,(function(e){return r.size===f&&r.clear(),e})),r=t.cache;return t}function vs(e,t){var r=e[1],n=t[1],i=r|n,a=i<(v|y|A),o=n==A&&r==b||n==A&&r==k&&e[7].length<=t[8]||n==(A|k)&&t[7].length<=t[8]&&r==b;if(!a&&!o)return e;n&v&&(e[2]=t[2],i|=r&v?0:m);var s=t[3];if(s){var u=e[3];e[3]=u?to(u,s,t[4]):s,e[4]=u?Xr(e[3],c):t[4]}return(s=t[5])&&(u=e[5],e[5]=u?ro(u,s,t[6]):s,e[6]=u?Xr(e[5],c):t[6]),(s=t[7])&&(e[7]=s),n&A&&(e[8]=null==e[8]?t[8]:Kt(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function ys(e){var t=[];if(null!=e)for(var r in nt(e))t.push(r);return t}function ms(e){return _t.call(e)}function bs(e,t,n){return t=Gt(t===r?e.length-1:t,0),function(){for(var r=arguments,a=-1,o=Gt(r.length-t,0),s=i(o);++a<o;)s[a]=r[t+a];a=-1;for(var u=i(t+1);++a<t;)u[a]=r[a];return u[t]=n(s),ur(e,this,u)}}function ws(e,t){return t.length<2?e:Ri(e,Ta(t,0,-1))}function xs(e,t){for(var n=e.length,i=Kt(t.length,n),a=no(e);i--;){var o=t[i];e[i]=os(o,n)?a[o]:r}return e}var Es=Ts(Aa),As=Bt||function(e,t){return Jt.setTimeout(e,t)},ks=Ts(ka);function Ss(e,t,r){var n=t+"";return ks(e,is(n,Ds(Qo(n),r)))}function Ts(e){var t=0,n=0;return function(){var i=Xt(),a=j-(i-n);if(n=i,a>0){if(++t>=P)return arguments[0]}else t=0;return e.apply(r,arguments)}}function Is(e,t){var n=-1,i=e.length,a=i-1;for(t=t===r?i:t;++n<t;){var o=va(n,a),s=e[o];e[o]=e[n],e[n]=s}return e.length=t,e}var Ps=gs((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Le,(function(e,r,n,i){t.push(n?i.replace(qe,"$1"):r||e)})),t}));function js(e){if("string"==typeof e||Ff(e))return e;var t=e+"";return"0"==t&&1/e==-R?"-0":t}function Os(e){if(null!=e){try{return ct.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ds(e,t){return fr(z,(function(r){var n="_."+r[0];t&r[1]&&!pr(e,n)&&e.push(n)})),e.sort()}function Ls(e){if(e instanceof Tn)return e.clone();var t=new Sn(e.__wrapped__,e.__chain__);return t.__actions__=no(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Rs(e,t,n){t=(n?ss(e,t,n):t===r)?1:Gt($f(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var o=0,s=0,u=i(Ut(a/t));o<a;)u[s++]=Ta(e,o,o+=t);return u}function Bs(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var a=e[t];a&&(i[n++]=a)}return i}function Us(){var e=arguments.length;if(!e)return[];for(var t=i(e-1),r=arguments[0],n=e;n--;)t[n-1]=arguments[n];return vr(uf(r)?no(r):[r],Ii(t,1))}var Ms=ba((function(e,t){return cf(e)?wi(e,Ii(t,1,cf,!0)):[]})),Ns=ba((function(e,t){var n=iu(t);return cf(n)&&(n=r),cf(e)?wi(e,Ii(t,1,cf,!0),Zo(n,2)):[]})),Fs=ba((function(e,t){var n=iu(t);return cf(n)&&(n=r),cf(e)?wi(e,Ii(t,1,cf,!0),r,n):[]}));function Cs(e,t,n){var i=null==e?0:e.length;return i?Ta(e,(t=n||t===r?1:$f(t))<0?0:t,i):[]}function zs(e,t,n){var i=null==e?0:e.length;return i?Ta(e,0,(t=i-(t=n||t===r?1:$f(t)))<0?0:t):[]}function Vs(e,t){return e&&e.length?Ma(e,Zo(t,3),!0,!0):[]}function qs(e,t){return e&&e.length?Ma(e,Zo(t,3),!0):[]}function Zs(e,t,r,n){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&ss(e,t,r)&&(r=0,n=i),Si(e,t,r,n)):[]}function Ws(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:$f(r);return i<0&&(i=Gt(n+i,0)),kr(e,Zo(t,3),i)}function Ys(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var a=i-1;return n!==r&&(a=$f(n),a=n<0?Gt(i+a,0):Kt(a,i-1)),kr(e,Zo(t,3),a,!0)}function Hs(e){return null!=e&&e.length?Ii(e,1):[]}function $s(e){return null!=e&&e.length?Ii(e,R):[]}function Gs(e,t){return null!=e&&e.length?Ii(e,t=t===r?1:$f(t)):[]}function Js(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n}function Ks(e){return e&&e.length?e[0]:r}function Xs(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:$f(r);return i<0&&(i=Gt(n+i,0)),Sr(e,t,i)}function Qs(e){return null!=e&&e.length?Ta(e,0,-1):[]}var eu=ba((function(e){var t=gr(e,za);return t.length&&t[0]===e[0]?zi(t):[]})),tu=ba((function(e){var t=iu(e),n=gr(e,za);return t===iu(n)?t=r:n.pop(),n.length&&n[0]===e[0]?zi(n,Zo(t,2)):[]})),ru=ba((function(e){var t=iu(e),n=gr(e,za);return(t="function"==typeof t?t:r)&&n.pop(),n.length&&n[0]===e[0]?zi(n,r,t):[]}));function nu(e,t){return null==e?"":Wt.call(e,t)}function iu(e){var t=null==e?0:e.length;return t?e[t-1]:r}function au(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var a=i;return n!==r&&(a=(a=$f(n))<0?Gt(i+a,0):Kt(a,i-1)),t==t?nn(e,t,a):kr(e,Ir,a,!0)}function ou(e,t){return e&&e.length?fa(e,$f(t)):r}var su=ba(uu);function uu(e,t){return e&&e.length&&t&&t.length?_a(e,t):e}function lu(e,t,r){return e&&e.length&&t&&t.length?_a(e,t,Zo(r,2)):e}function fu(e,t,n){return e&&e.length&&t&&t.length?_a(e,t,r,n):e}var cu=No((function(e,t){var r=null==e?0:e.length,n=_i(e,t);return ga(e,gr(t,(function(e){return os(e,r)?+e:e})).sort(Qa)),n}));function hu(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],a=e.length;for(t=Zo(t,3);++n<a;){var o=e[n];t(o,n,e)&&(r.push(o),i.push(n))}return ga(e,i),r}function du(e){return null==e?e:wr.call(e)}function pu(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&ss(e,t,n)?(t=0,n=i):(t=null==t?0:$f(t),n=n===r?i:$f(n)),Ta(e,t,n)):[]}function _u(e,t){return Pa(e,t)}function gu(e,t,r){return ja(e,t,Zo(r,2))}function vu(e,t){var r=null==e?0:e.length;if(r){var n=Pa(e,t);if(n<r&&nf(e[n],t))return n}return-1}function yu(e,t){return Pa(e,t,!0)}function mu(e,t,r){return ja(e,t,Zo(r,2),!0)}function bu(e,t){if(null!=e&&e.length){var r=Pa(e,t,!0)-1;if(nf(e[r],t))return r}return-1}function wu(e){return e&&e.length?Oa(e):[]}function xu(e,t){return e&&e.length?Oa(e,Zo(t,2)):[]}function Eu(e){var t=null==e?0:e.length;return t?Ta(e,1,t):[]}function Au(e,t,n){return e&&e.length?Ta(e,0,(t=n||t===r?1:$f(t))<0?0:t):[]}function ku(e,t,n){var i=null==e?0:e.length;return i?Ta(e,(t=i-(t=n||t===r?1:$f(t)))<0?0:t,i):[]}function Su(e,t){return e&&e.length?Ma(e,Zo(t,3),!1,!0):[]}function Tu(e,t){return e&&e.length?Ma(e,Zo(t,3)):[]}var Iu=ba((function(e){return Ra(Ii(e,1,cf,!0))})),Pu=ba((function(e){var t=iu(e);return cf(t)&&(t=r),Ra(Ii(e,1,cf,!0),Zo(t,2))})),ju=ba((function(e){var t=iu(e);return t="function"==typeof t?t:r,Ra(Ii(e,1,cf,!0),r,t)}));function Ou(e){return e&&e.length?Ra(e):[]}function Du(e,t){return e&&e.length?Ra(e,Zo(t,2)):[]}function Lu(e,t){return t="function"==typeof t?t:r,e&&e.length?Ra(e,r,t):[]}function Ru(e){if(!e||!e.length)return[];var t=0;return e=dr(e,(function(e){if(cf(e))return t=Gt(e.length,t),!0})),Br(t,(function(t){return gr(e,jr(t))}))}function Bu(e,t){if(!e||!e.length)return[];var n=Ru(e);return null==t?n:gr(n,(function(e){return ur(t,r,e)}))}var Uu=ba((function(e,t){return cf(e)?wi(e,t):[]})),Mu=ba((function(e){return Fa(dr(e,cf))})),Nu=ba((function(e){var t=iu(e);return cf(t)&&(t=r),Fa(dr(e,cf),Zo(t,2))})),Fu=ba((function(e){var t=iu(e);return t="function"==typeof t?t:r,Fa(dr(e,cf),r,t)})),Cu=ba(Ru);function zu(e,t){return Ca(e||[],t||[],li)}function Vu(e,t){return Ca(e||[],t||[],Ea)}var qu=ba((function(e){var t=e.length,n=t>1?e[t-1]:r;return n="function"==typeof n?(e.pop(),n):r,Bu(e,n)}));function Zu(e){var t=En(e);return t.__chain__=!0,t}function Wu(e,t){return t(e),e}function Yu(e,t){return t(e)}var Hu=No((function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,a=function(t){return _i(t,e)};return!(t>1||this.__actions__.length)&&i instanceof Tn&&os(n)?((i=i.slice(n,+n+(t?1:0))).__actions__.push({func:Yu,args:[a],thisArg:r}),new Sn(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(r),e}))):this.thru(a)}));function $u(){return Zu(this)}function Gu(){return new Sn(this.value(),this.__chain__)}function Ju(){this.__values__===r&&(this.__values__=Yf(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?r:this.__values__[this.__index__++]}}function Ku(){return this}function Xu(e){for(var t,n=this;n instanceof kn;){var i=Ls(n);i.__index__=0,i.__values__=r,t?a.__wrapped__=i:t=i;var a=i;n=n.__wrapped__}return a.__wrapped__=e,t}function Qu(){var e=this.__wrapped__;if(e instanceof Tn){var t=e;return this.__actions__.length&&(t=new Tn(this)),(t=t.reverse()).__actions__.push({func:Yu,args:[du],thisArg:r}),new Sn(t,this.__chain__)}return this.thru(du)}function el(){return Na(this.__wrapped__,this.__actions__)}var tl=so((function(e,t,r){ht.call(e,r)?++e[r]:pi(e,r,1)}));function rl(e,t,n){var i=uf(e)?hr:Ai;return n&&ss(e,t,n)&&(t=r),i(e,Zo(t,3))}function nl(e,t){return(uf(e)?dr:Ti)(e,Zo(t,3))}var il=vo(Ws),al=vo(Ys);function ol(e,t){return Ii(_l(e,t),1)}function sl(e,t){return Ii(_l(e,t),R)}function ul(e,t,n){return n=n===r?1:$f(n),Ii(_l(e,t),n)}function ll(e,t){return(uf(e)?fr:xi)(e,Zo(t,3))}function fl(e,t){return(uf(e)?cr:Ei)(e,Zo(t,3))}var cl=so((function(e,t,r){ht.call(e,r)?e[r].push(t):pi(e,r,[t])}));function hl(e,t,r,n){e=ff(e)?e:zc(e),r=r&&!n?$f(r):0;var i=e.length;return r<0&&(r=Gt(i+r,0)),Nf(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&Sr(e,t,r)>-1}var dl=ba((function(e,t,r){var n=-1,a="function"==typeof t,o=ff(e)?i(e.length):[];return xi(e,(function(e){o[++n]=a?ur(t,e,r):qi(e,t,r)})),o})),pl=so((function(e,t,r){pi(e,r,t)}));function _l(e,t){return(uf(e)?gr:aa)(e,Zo(t,3))}function gl(e,t,n,i){return null==e?[]:(uf(t)||(t=null==t?[]:[t]),uf(n=i?r:n)||(n=null==n?[]:[n]),ca(e,t,n))}var vl=so((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]}));function yl(e,t,r){var n=uf(e)?yr:Dr,i=arguments.length<3;return n(e,Zo(t,4),r,i,xi)}function ml(e,t,r){var n=uf(e)?mr:Dr,i=arguments.length<3;return n(e,Zo(t,4),r,i,Ei)}function bl(e,t){return(uf(e)?dr:Ti)(e,Cl(Zo(t,3)))}function wl(e){return(uf(e)?ai:wa)(e)}function xl(e,t,n){return t=(n?ss(e,t,n):t===r)?1:$f(t),(uf(e)?oi:xa)(e,t)}function El(e){return(uf(e)?si:Sa)(e)}function Al(e){if(null==e)return 0;if(ff(e))return Nf(e)?an(e):e.length;var t=Ko(e);return t==K||t==ie?e.size:ra(e).length}function kl(e,t,n){var i=uf(e)?br:Ia;return n&&ss(e,t,n)&&(t=r),i(e,Zo(t,3))}var Sl=ba((function(e,t){if(null==e)return[];var r=t.length;return r>1&&ss(e,t[0],t[1])?t=[]:r>2&&ss(t[0],t[1],t[2])&&(t=[t[0]]),ca(e,Ii(t,1),[])})),Tl=Rt||function(){return Jt.Date.now()};function Il(e,t){if("function"!=typeof t)throw new ot(u);return e=$f(e),function(){if(--e<1)return t.apply(this,arguments)}}function Pl(e,t,n){return t=n?r:t,t=e&&null==t?e.length:t,Oo(e,A,r,r,r,r,t)}function jl(e,t){var n;if("function"!=typeof t)throw new ot(u);return e=$f(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=r),n}}var Ol=ba((function(e,t,r){var n=v;if(r.length){var i=Xr(r,qo(Ol));n|=x}return Oo(e,n,t,r,i)})),Dl=ba((function(e,t,r){var n=v|y;if(r.length){var i=Xr(r,qo(Dl));n|=x}return Oo(t,n,e,r,i)}));function Ll(e,t,n){var i=Oo(e,b,r,r,r,r,r,t=n?r:t);return i.placeholder=Ll.placeholder,i}function Rl(e,t,n){var i=Oo(e,w,r,r,r,r,r,t=n?r:t);return i.placeholder=Rl.placeholder,i}function Bl(e,t,n){var i,a,o,s,l,f,c=0,h=!1,d=!1,p=!0;if("function"!=typeof e)throw new ot(u);function _(t){var n=i,o=a;return i=a=r,c=t,s=e.apply(o,n)}function g(e){return c=e,l=As(m,t),h?_(e):s}function v(e){var r=t-(e-f);return d?Kt(r,o-(e-c)):r}function y(e){var n=e-f;return f===r||n>=t||n<0||d&&e-c>=o}function m(){var e=Tl();if(y(e))return b(e);l=As(m,v(e))}function b(e){return l=r,p&&i?_(e):(i=a=r,s)}function w(){l!==r&&Ya(l),c=0,i=f=a=l=r}function x(){return l===r?s:b(Tl())}function E(){var e=Tl(),n=y(e);if(i=arguments,a=this,f=e,n){if(l===r)return g(f);if(d)return l=As(m,t),_(f)}return l===r&&(l=As(m,t)),s}return t=Jf(t)||0,Af(n)&&(h=!!n.leading,o=(d="maxWait"in n)?Gt(Jf(n.maxWait)||0,t):o,p="trailing"in n?!!n.trailing:p),E.cancel=w,E.flush=x,E}var Ul=ba((function(e,t){return bi(e,1,t)})),Ml=ba((function(e,t,r){return bi(e,Jf(t)||0,r)}));function Nl(e){return Oo(e,S)}function Fl(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new ot(u);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(Fl.Cache||qn),r}function Cl(e){if("function"!=typeof e)throw new ot(u);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function zl(e){return jl(2,e)}Fl.Cache=qn;var Vl=Za((function(e,t){var r=(t=1==t.length&&uf(t[0])?gr(t[0],Mr(Zo())):gr(Ii(t,1),Mr(Zo()))).length;return ba((function(n){for(var i=-1,a=Kt(n.length,r);++i<a;)n[i]=t[i].call(this,n[i]);return ur(e,this,n)}))})),ql=ba((function(e,t){var n=Xr(t,qo(ql));return Oo(e,x,r,t,n)})),Zl=ba((function(e,t){var n=Xr(t,qo(Zl));return Oo(e,E,r,t,n)})),Wl=No((function(e,t){return Oo(e,k,r,r,r,t)}));function Yl(e,t){if("function"!=typeof e)throw new ot(u);return ba(e,t=t===r?t:$f(t))}function Hl(e,t){if("function"!=typeof e)throw new ot(u);return t=null==t?0:Gt($f(t),0),ba((function(r){var n=r[t],i=Wa(r,0,t);return n&&vr(i,n),ur(e,this,i)}))}function $l(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new ot(u);return Af(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Bl(e,t,{leading:n,maxWait:t,trailing:i})}function Gl(e){return Pl(e,1)}function Jl(e,t){return ql(Va(t),e)}function Kl(){if(!arguments.length)return[];var e=arguments[0];return uf(e)?e:[e]}function Xl(e){return vi(e,p)}function Ql(e,t){return vi(e,p,t="function"==typeof t?t:r)}function ef(e){return vi(e,h|p)}function tf(e,t){return vi(e,h|p,t="function"==typeof t?t:r)}function rf(e,t){return null==t||mi(e,t,xc(t))}function nf(e,t){return e===t||e!=e&&t!=t}var af=So(Mi),of=So((function(e,t){return e>=t})),sf=Zi(function(){return arguments}())?Zi:function(e){return kf(e)&&ht.call(e,"callee")&&!kt.call(e,"callee")},uf=i.isArray,lf=rr?Mr(rr):Wi;function ff(e){return null!=e&&Ef(e.length)&&!wf(e)}function cf(e){return kf(e)&&ff(e)}function hf(e){return!0===e||!1===e||kf(e)&&Ui(e)==W}var df=qt||$h,pf=nr?Mr(nr):Yi;function _f(e){return kf(e)&&1===e.nodeType&&!Rf(e)}function gf(e){if(null==e)return!0;if(ff(e)&&(uf(e)||"string"==typeof e||"function"==typeof e.splice||df(e)||Cf(e)||sf(e)))return!e.length;var t=Ko(e);if(t==K||t==ie)return!e.size;if(ds(e))return!ra(e).length;for(var r in e)if(ht.call(e,r))return!1;return!0}function vf(e,t){return Hi(e,t)}function yf(e,t,n){var i=(n="function"==typeof n?n:r)?n(e,t):r;return i===r?Hi(e,t,r,n):!!i}function mf(e){if(!kf(e))return!1;var t=Ui(e);return t==$||t==H||"string"==typeof e.message&&"string"==typeof e.name&&!Rf(e)}function bf(e){return"number"==typeof e&&Zt(e)}function wf(e){if(!Af(e))return!1;var t=Ui(e);return t==G||t==J||t==Z||t==re}function xf(e){return"number"==typeof e&&e==$f(e)}function Ef(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=B}function Af(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function kf(e){return null!=e&&"object"==typeof e}var Sf=ir?Mr(ir):Gi;function Tf(e,t){return e===t||Ji(e,t,Yo(t))}function If(e,t,n){return n="function"==typeof n?n:r,Ji(e,t,Yo(t),n)}function Pf(e){return Lf(e)&&e!=+e}function jf(e){if(hs(e))throw new et(s);return Ki(e)}function Of(e){return null===e}function Df(e){return null==e}function Lf(e){return"number"==typeof e||kf(e)&&Ui(e)==X}function Rf(e){if(!kf(e)||Ui(e)!=ee)return!1;var t=Et(e);if(null===t)return!0;var r=ht.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&ct.call(r)==gt}var Bf=ar?Mr(ar):Xi;function Uf(e){return xf(e)&&e>=-B&&e<=B}var Mf=or?Mr(or):Qi;function Nf(e){return"string"==typeof e||!uf(e)&&kf(e)&&Ui(e)==ae}function Ff(e){return"symbol"==typeof e||kf(e)&&Ui(e)==oe}var Cf=sr?Mr(sr):ea;function zf(e){return e===r}function Vf(e){return kf(e)&&Ko(e)==ue}function qf(e){return kf(e)&&Ui(e)==le}var Zf=So(ia),Wf=So((function(e,t){return e<=t}));function Yf(e){if(!e)return[];if(ff(e))return Nf(e)?on(e):no(e);if(It&&e[It])return Gr(e[It]());var t=Ko(e);return(t==K?Jr:t==ie?en:zc)(e)}function Hf(e){return e?(e=Jf(e))===R||e===-R?(e<0?-1:1)*U:e==e?e:0:0===e?e:0}function $f(e){var t=Hf(e),r=t%1;return t==t?r?t-r:t:0}function Gf(e){return e?gi($f(e),0,N):0}function Jf(e){if("number"==typeof e)return e;if(Ff(e))return M;if(Af(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Af(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Ue,"");var r=He.test(e);return r||Ge.test(e)?Ht(e.slice(2),r?2:8):Ye.test(e)?M:+e}function Kf(e){return io(e,Ec(e))}function Xf(e){return e?gi($f(e),-B,B):0===e?e:0}function Qf(e){return null==e?"":La(e)}var ec=uo((function(e,t){if(ds(t)||ff(t))io(t,xc(t),e);else for(var r in t)ht.call(t,r)&&li(e,r,t[r])})),tc=uo((function(e,t){io(t,Ec(t),e)})),rc=uo((function(e,t,r,n){io(t,Ec(t),e,n)})),nc=uo((function(e,t,r,n){io(t,xc(t),e,n)})),ic=No(_i);function ac(e,t){var r=An(e);return null==t?r:hi(r,t)}var oc=ba((function(e,t){e=nt(e);var n=-1,i=t.length,a=i>2?t[2]:r;for(a&&ss(t[0],t[1],a)&&(i=1);++n<i;)for(var o=t[n],s=Ec(o),u=-1,l=s.length;++u<l;){var f=s[u],c=e[f];(c===r||nf(c,lt[f])&&!ht.call(e,f))&&(e[f]=o[f])}return e})),sc=ba((function(e){return e.push(r,Lo),ur(Tc,r,e)}));function uc(e,t){return Ar(e,Zo(t,3),Oi)}function lc(e,t){return Ar(e,Zo(t,3),Di)}function fc(e,t){return null==e?e:Pi(e,Zo(t,3),Ec)}function cc(e,t){return null==e?e:ji(e,Zo(t,3),Ec)}function hc(e,t){return e&&Oi(e,Zo(t,3))}function dc(e,t){return e&&Di(e,Zo(t,3))}function pc(e){return null==e?[]:Li(e,xc(e))}function _c(e){return null==e?[]:Li(e,Ec(e))}function gc(e,t,n){var i=null==e?r:Ri(e,t);return i===r?n:i}function vc(e,t){return null!=e&&es(e,t,Ni)}function yc(e,t){return null!=e&&es(e,t,Fi)}var mc=bo((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=_t.call(t)),e[t]=r}),Sh(jh)),bc=bo((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=_t.call(t)),ht.call(e,t)?e[t].push(r):e[t]=[r]}),Zo),wc=ba(qi);function xc(e){return ff(e)?ii(e):ra(e)}function Ec(e){return ff(e)?ii(e,!0):na(e)}function Ac(e,t){var r={};return t=Zo(t,3),Oi(e,(function(e,n,i){pi(r,t(e,n,i),e)})),r}function kc(e,t){var r={};return t=Zo(t,3),Oi(e,(function(e,n,i){pi(r,n,t(e,n,i))})),r}var Sc=uo((function(e,t,r){ua(e,t,r)})),Tc=uo((function(e,t,r,n){ua(e,t,r,n)})),Ic=No((function(e,t){var r={};if(null==e)return r;var n=!1;t=gr(t,(function(t){return t=qa(t,e),n||(n=t.length>1),t})),io(e,Co(e),r),n&&(r=vi(r,h|d|p,Ro));for(var i=t.length;i--;)Ba(r,t[i]);return r}));function Pc(e,t){return Oc(e,Cl(Zo(t)))}var jc=No((function(e,t){return null==e?{}:ha(e,t)}));function Oc(e,t){if(null==e)return{};var r=gr(Co(e),(function(e){return[e]}));return t=Zo(t),da(e,r,(function(e,r){return t(e,r[0])}))}function Dc(e,t,n){var i=-1,a=(t=qa(t,e)).length;for(a||(a=1,e=r);++i<a;){var o=null==e?r:e[js(t[i])];o===r&&(i=a,o=n),e=wf(o)?o.call(e):o}return e}function Lc(e,t,r){return null==e?e:Ea(e,t,r)}function Rc(e,t,n,i){return i="function"==typeof i?i:r,null==e?e:Ea(e,t,n,i)}var Bc=jo(xc),Uc=jo(Ec);function Mc(e,t,r){var n=uf(e),i=n||df(e)||Cf(e);if(t=Zo(t,4),null==r){var a=e&&e.constructor;r=i?n?new a:[]:Af(e)&&wf(a)?An(Et(e)):{}}return(i?fr:Oi)(e,(function(e,n,i){return t(r,e,n,i)})),r}function Nc(e,t){return null==e||Ba(e,t)}function Fc(e,t,r){return null==e?e:Ua(e,t,Va(r))}function Cc(e,t,n,i){return i="function"==typeof i?i:r,null==e?e:Ua(e,t,Va(n),i)}function zc(e){return null==e?[]:Nr(e,xc(e))}function Vc(e){return null==e?[]:Nr(e,Ec(e))}function qc(e,t,n){return n===r&&(n=t,t=r),n!==r&&(n=(n=Jf(n))==n?n:0),t!==r&&(t=(t=Jf(t))==t?t:0),gi(Jf(e),t,n)}function Zc(e,t,n){return t=Hf(t),n===r?(n=t,t=0):n=Hf(n),Ci(e=Jf(e),t,n)}function Wc(e,t,n){if(n&&"boolean"!=typeof n&&ss(e,t,n)&&(t=n=r),n===r&&("boolean"==typeof t?(n=t,t=r):"boolean"==typeof e&&(n=e,e=r)),e===r&&t===r?(e=0,t=1):(e=Hf(e),t===r?(t=e,e=0):t=Hf(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var a=tr();return Kt(e+a*(t-e+Yt("1e-"+((a+"").length-1))),t)}return va(e,t)}var Yc=po((function(e,t,r){return t=t.toLowerCase(),e+(r?Hc(t):t)}));function Hc(e){return bh(Qf(e).toLowerCase())}function $c(e){return(e=Qf(e))&&e.replace(Ke,qr).replace(Lt,"")}function Gc(e,t,n){e=Qf(e),t=La(t);var i=e.length,a=n=n===r?i:gi($f(n),0,i);return(n-=t.length)>=0&&e.slice(n,a)==t}function Jc(e){return(e=Qf(e))&&Te.test(e)?e.replace(ke,Zr):e}function Kc(e){return(e=Qf(e))&&Be.test(e)?e.replace(Re,"\\$&"):e}var Xc=po((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),Qc=po((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),eh=ho("toLowerCase");function th(e,t,r){e=Qf(e);var n=(t=$f(t))?an(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return Eo(Mt(i),r)+e+Eo(Ut(i),r)}function rh(e,t,r){e=Qf(e);var n=(t=$f(t))?an(e):0;return t&&n<t?e+Eo(t-n,r):e}function nh(e,t,r){e=Qf(e);var n=(t=$f(t))?an(e):0;return t&&n<t?Eo(t-n,r)+e:e}function ih(e,t,r){return r||null==t?t=0:t&&(t=+t),er(Qf(e).replace(Me,""),t||0)}function ah(e,t,n){return t=(n?ss(e,t,n):t===r)?1:$f(t),ma(Qf(e),t)}function oh(){var e=arguments,t=Qf(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var sh=po((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}));function uh(e,t,n){return n&&"number"!=typeof n&&ss(e,t,n)&&(t=n=r),(n=n===r?N:n>>>0)?(e=Qf(e))&&("string"==typeof t||null!=t&&!Bf(t))&&!(t=La(t))&&Hr(e)?Wa(on(e),0,n):e.split(t,n):[]}var lh=po((function(e,t,r){return e+(r?" ":"")+bh(t)}));function fh(e,t,r){return e=Qf(e),r=null==r?0:gi($f(r),0,e.length),t=La(t),e.slice(r,r+t.length)==t}function ch(e,t,n){var i=En.templateSettings;n&&ss(e,t,n)&&(t=r),e=Qf(e),t=rc({},t,i,Do);var a,o,s=rc({},t.imports,i.imports,Do),u=xc(s),l=Nr(s,u),f=0,c=t.interpolate||Xe,h="__p += '",d=it((t.escape||Xe).source+"|"+c.source+"|"+(c===je?Ze:Xe).source+"|"+(t.evaluate||Xe).source+"|$","g"),p="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Ft+"]")+"\n";e.replace(d,(function(t,r,n,i,s,u){return n||(n=i),h+=e.slice(f,u).replace(Qe,Wr),r&&(a=!0,h+="' +\n__e("+r+") +\n'"),s&&(o=!0,h+="';\n"+s+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),f=u+t.length,t})),h+="';\n";var _=t.variable;_||(h="with (obj) {\n"+h+"\n}\n"),h=(o?h.replace(we,""):h).replace(xe,"$1").replace(Ee,"$1;"),h="function("+(_||"obj")+") {\n"+(_?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=xh((function(){return tt(u,p+"return "+h).apply(r,l)}));if(g.source=h,mf(g))throw g;return g}function hh(e){return Qf(e).toLowerCase()}function dh(e){return Qf(e).toUpperCase()}function ph(e,t,n){if((e=Qf(e))&&(n||t===r))return e.replace(Ue,"");if(!e||!(t=La(t)))return e;var i=on(e),a=on(t);return Wa(i,Cr(i,a),zr(i,a)+1).join("")}function _h(e,t,n){if((e=Qf(e))&&(n||t===r))return e.replace(Ne,"");if(!e||!(t=La(t)))return e;var i=on(e);return Wa(i,0,zr(i,on(t))+1).join("")}function gh(e,t,n){if((e=Qf(e))&&(n||t===r))return e.replace(Me,"");if(!e||!(t=La(t)))return e;var i=on(e);return Wa(i,Cr(i,on(t))).join("")}function vh(e,t){var n=T,i=I;if(Af(t)){var a="separator"in t?t.separator:a;n="length"in t?$f(t.length):n,i="omission"in t?La(t.omission):i}var o=(e=Qf(e)).length;if(Hr(e)){var s=on(e);o=s.length}if(n>=o)return e;var u=n-an(i);if(u<1)return i;var l=s?Wa(s,0,u).join(""):e.slice(0,u);if(a===r)return l+i;if(s&&(u+=l.length-u),Bf(a)){if(e.slice(u).search(a)){var f,c=l;for(a.global||(a=it(a.source,Qf(We.exec(a))+"g")),a.lastIndex=0;f=a.exec(c);)var h=f.index;l=l.slice(0,h===r?u:h)}}else if(e.indexOf(La(a),u)!=u){var d=l.lastIndexOf(a);d>-1&&(l=l.slice(0,d))}return l+i}function yh(e){return(e=Qf(e))&&Se.test(e)?e.replace(Ae,sn):e}var mh=po((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),bh=ho("toUpperCase");function wh(e,t,n){return e=Qf(e),(t=n?r:t)===r?$r(e)?fn(e):Er(e):e.match(t)||[]}var xh=ba((function(e,t){try{return ur(e,r,t)}catch(e){return mf(e)?e:new et(e)}})),Eh=No((function(e,t){return fr(t,(function(t){t=js(t),pi(e,t,Ol(e[t],e))})),e}));function Ah(e){var t=null==e?0:e.length,r=Zo();return e=t?gr(e,(function(e){if("function"!=typeof e[1])throw new ot(u);return[r(e[0]),e[1]]})):[],ba((function(r){for(var n=-1;++n<t;){var i=e[n];if(ur(i[0],this,r))return ur(i[1],this,r)}}))}function kh(e){return yi(vi(e,h))}function Sh(e){return function(){return e}}function Th(e,t){return null==e||e!=e?t:e}var Ih=yo(),Ph=yo(!0);function jh(e){return e}function Oh(e){return ta("function"==typeof e?e:vi(e,h))}function Dh(e){return oa(vi(e,h))}function Lh(e,t){return sa(e,vi(t,h))}var Rh=ba((function(e,t){return function(r){return qi(r,e,t)}})),Bh=ba((function(e,t){return function(r){return qi(e,r,t)}}));function Uh(e,t,r){var n=xc(t),i=Li(t,n);null!=r||Af(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=Li(t,xc(t)));var a=!(Af(r)&&"chain"in r&&!r.chain),o=wf(e);return fr(i,(function(r){var n=t[r];e[r]=n,o&&(e.prototype[r]=function(){var t=this.__chain__;if(a||t){var r=e(this.__wrapped__);return(r.__actions__=no(this.__actions__)).push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,vr([this.value()],arguments))})})),e}function Mh(){return Jt._===this&&(Jt._=vt),this}function Nh(){}function Fh(e){return e=$f(e),ba((function(t){return fa(t,e)}))}var Ch=xo(gr),zh=xo(hr),Vh=xo(br);function qh(e){return us(e)?jr(js(e)):pa(e)}function Zh(e){return function(t){return null==e?r:Ri(e,t)}}var Wh=ko(),Yh=ko(!0);function Hh(){return[]}function $h(){return!1}function Gh(){return{}}function Jh(){return""}function Kh(){return!0}function Xh(e,t){if((e=$f(e))<1||e>B)return[];var r=N,n=Kt(e,N);t=Zo(t),e-=N;for(var i=Br(n,t);++r<e;)t(r);return i}function Qh(e){return uf(e)?gr(e,js):Ff(e)?[e]:no(Ps(Qf(e)))}function ed(e){var t=++dt;return Qf(e)+t}var td=wo((function(e,t){return e+t}),0),rd=Io("ceil"),nd=wo((function(e,t){return e/t}),1),id=Io("floor");function ad(e){return e&&e.length?ki(e,jh,Mi):r}function od(e,t){return e&&e.length?ki(e,Zo(t,2),Mi):r}function sd(e){return Pr(e,jh)}function ud(e,t){return Pr(e,Zo(t,2))}function ld(e){return e&&e.length?ki(e,jh,ia):r}function fd(e,t){return e&&e.length?ki(e,Zo(t,2),ia):r}var cd,hd=wo((function(e,t){return e*t}),1),dd=Io("round"),pd=wo((function(e,t){return e-t}),0);function _d(e){return e&&e.length?Rr(e,jh):0}function gd(e,t){return e&&e.length?Rr(e,Zo(t,2)):0}return En.after=Il,En.ary=Pl,En.assign=ec,En.assignIn=tc,En.assignInWith=rc,En.assignWith=nc,En.at=ic,En.before=jl,En.bind=Ol,En.bindAll=Eh,En.bindKey=Dl,En.castArray=Kl,En.chain=Zu,En.chunk=Rs,En.compact=Bs,En.concat=Us,En.cond=Ah,En.conforms=kh,En.constant=Sh,En.countBy=tl,En.create=ac,En.curry=Ll,En.curryRight=Rl,En.debounce=Bl,En.defaults=oc,En.defaultsDeep=sc,En.defer=Ul,En.delay=Ml,En.difference=Ms,En.differenceBy=Ns,En.differenceWith=Fs,En.drop=Cs,En.dropRight=zs,En.dropRightWhile=Vs,En.dropWhile=qs,En.fill=Zs,En.filter=nl,En.flatMap=ol,En.flatMapDeep=sl,En.flatMapDepth=ul,En.flatten=Hs,En.flattenDeep=$s,En.flattenDepth=Gs,En.flip=Nl,En.flow=Ih,En.flowRight=Ph,En.fromPairs=Js,En.functions=pc,En.functionsIn=_c,En.groupBy=cl,En.initial=Qs,En.intersection=eu,En.intersectionBy=tu,En.intersectionWith=ru,En.invert=mc,En.invertBy=bc,En.invokeMap=dl,En.iteratee=Oh,En.keyBy=pl,En.keys=xc,En.keysIn=Ec,En.map=_l,En.mapKeys=Ac,En.mapValues=kc,En.matches=Dh,En.matchesProperty=Lh,En.memoize=Fl,En.merge=Sc,En.mergeWith=Tc,En.method=Rh,En.methodOf=Bh,En.mixin=Uh,En.negate=Cl,En.nthArg=Fh,En.omit=Ic,En.omitBy=Pc,En.once=zl,En.orderBy=gl,En.over=Ch,En.overArgs=Vl,En.overEvery=zh,En.overSome=Vh,En.partial=ql,En.partialRight=Zl,En.partition=vl,En.pick=jc,En.pickBy=Oc,En.property=qh,En.propertyOf=Zh,En.pull=su,En.pullAll=uu,En.pullAllBy=lu,En.pullAllWith=fu,En.pullAt=cu,En.range=Wh,En.rangeRight=Yh,En.rearg=Wl,En.reject=bl,En.remove=hu,En.rest=Yl,En.reverse=du,En.sampleSize=xl,En.set=Lc,En.setWith=Rc,En.shuffle=El,En.slice=pu,En.sortBy=Sl,En.sortedUniq=wu,En.sortedUniqBy=xu,En.split=uh,En.spread=Hl,En.tail=Eu,En.take=Au,En.takeRight=ku,En.takeRightWhile=Su,En.takeWhile=Tu,En.tap=Wu,En.throttle=$l,En.thru=Yu,En.toArray=Yf,En.toPairs=Bc,En.toPairsIn=Uc,En.toPath=Qh,En.toPlainObject=Kf,En.transform=Mc,En.unary=Gl,En.union=Iu,En.unionBy=Pu,En.unionWith=ju,En.uniq=Ou,En.uniqBy=Du,En.uniqWith=Lu,En.unset=Nc,En.unzip=Ru,En.unzipWith=Bu,En.update=Fc,En.updateWith=Cc,En.values=zc,En.valuesIn=Vc,En.without=Uu,En.words=wh,En.wrap=Jl,En.xor=Mu,En.xorBy=Nu,En.xorWith=Fu,En.zip=Cu,En.zipObject=zu,En.zipObjectDeep=Vu,En.zipWith=qu,En.entries=Bc,En.entriesIn=Uc,En.extend=tc,En.extendWith=rc,Uh(En,En),En.add=td,En.attempt=xh,En.camelCase=Yc,En.capitalize=Hc,En.ceil=rd,En.clamp=qc,En.clone=Xl,En.cloneDeep=ef,En.cloneDeepWith=tf,En.cloneWith=Ql,En.conformsTo=rf,En.deburr=$c,En.defaultTo=Th,En.divide=nd,En.endsWith=Gc,En.eq=nf,En.escape=Jc,En.escapeRegExp=Kc,En.every=rl,En.find=il,En.findIndex=Ws,En.findKey=uc,En.findLast=al,En.findLastIndex=Ys,En.findLastKey=lc,En.floor=id,En.forEach=ll,En.forEachRight=fl,En.forIn=fc,En.forInRight=cc,En.forOwn=hc,En.forOwnRight=dc,En.get=gc,En.gt=af,En.gte=of,En.has=vc,En.hasIn=yc,En.head=Ks,En.identity=jh,En.includes=hl,En.indexOf=Xs,En.inRange=Zc,En.invoke=wc,En.isArguments=sf,En.isArray=uf,En.isArrayBuffer=lf,En.isArrayLike=ff,En.isArrayLikeObject=cf,En.isBoolean=hf,En.isBuffer=df,En.isDate=pf,En.isElement=_f,En.isEmpty=gf,En.isEqual=vf,En.isEqualWith=yf,En.isError=mf,En.isFinite=bf,En.isFunction=wf,En.isInteger=xf,En.isLength=Ef,En.isMap=Sf,En.isMatch=Tf,En.isMatchWith=If,En.isNaN=Pf,En.isNative=jf,En.isNil=Df,En.isNull=Of,En.isNumber=Lf,En.isObject=Af,En.isObjectLike=kf,En.isPlainObject=Rf,En.isRegExp=Bf,En.isSafeInteger=Uf,En.isSet=Mf,En.isString=Nf,En.isSymbol=Ff,En.isTypedArray=Cf,En.isUndefined=zf,En.isWeakMap=Vf,En.isWeakSet=qf,En.join=nu,En.kebabCase=Xc,En.last=iu,En.lastIndexOf=au,En.lowerCase=Qc,En.lowerFirst=eh,En.lt=Zf,En.lte=Wf,En.max=ad,En.maxBy=od,En.mean=sd,En.meanBy=ud,En.min=ld,En.minBy=fd,En.stubArray=Hh,En.stubFalse=$h,En.stubObject=Gh,En.stubString=Jh,En.stubTrue=Kh,En.multiply=hd,En.nth=ou,En.noConflict=Mh,En.noop=Nh,En.now=Tl,En.pad=th,En.padEnd=rh,En.padStart=nh,En.parseInt=ih,En.random=Wc,En.reduce=yl,En.reduceRight=ml,En.repeat=ah,En.replace=oh,En.result=Dc,En.round=dd,En.runInContext=e,En.sample=wl,En.size=Al,En.snakeCase=sh,En.some=kl,En.sortedIndex=_u,En.sortedIndexBy=gu,En.sortedIndexOf=vu,En.sortedLastIndex=yu,En.sortedLastIndexBy=mu,En.sortedLastIndexOf=bu,En.startCase=lh,En.startsWith=fh,En.subtract=pd,En.sum=_d,En.sumBy=gd,En.template=ch,En.times=Xh,En.toFinite=Hf,En.toInteger=$f,En.toLength=Gf,En.toLower=hh,En.toNumber=Jf,En.toSafeInteger=Xf,En.toString=Qf,En.toUpper=dh,En.trim=ph,En.trimEnd=_h,En.trimStart=gh,En.truncate=vh,En.unescape=yh,En.uniqueId=ed,En.upperCase=mh,En.upperFirst=bh,En.each=ll,En.eachRight=fl,En.first=Ks,Uh(En,(cd={},Oi(En,(function(e,t){ht.call(En.prototype,t)||(cd[t]=e)})),cd),{chain:!1}),En.VERSION=a,fr(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){En[e].placeholder=En})),fr(["drop","take"],(function(e,t){Tn.prototype[e]=function(n){n=n===r?1:Gt($f(n),0);var i=this.__filtered__&&!t?new Tn(this):this.clone();return i.__filtered__?i.__takeCount__=Kt(n,i.__takeCount__):i.__views__.push({size:Kt(n,N),type:e+(i.__dir__<0?"Right":"")}),i},Tn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),fr(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=r==O||r==L;Tn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Zo(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),fr(["head","last"],(function(e,t){var r="take"+(t?"Right":"");Tn.prototype[e]=function(){return this[r](1).value()[0]}})),fr(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");Tn.prototype[e]=function(){return this.__filtered__?new Tn(this):this[r](1)}})),Tn.prototype.compact=function(){return this.filter(jh)},Tn.prototype.find=function(e){return this.filter(e).head()},Tn.prototype.findLast=function(e){return this.reverse().find(e)},Tn.prototype.invokeMap=ba((function(e,t){return"function"==typeof e?new Tn(this):this.map((function(r){return qi(r,e,t)}))})),Tn.prototype.reject=function(e){return this.filter(Cl(Zo(e)))},Tn.prototype.slice=function(e,t){e=$f(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Tn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==r&&(n=(t=$f(t))<0?n.dropRight(-t):n.take(t-e)),n)},Tn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Tn.prototype.toArray=function(){return this.take(N)},Oi(Tn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),a=En[i?"take"+("last"==t?"Right":""):t],o=i||/^find/.test(t);a&&(En.prototype[t]=function(){var t=this.__wrapped__,s=i?[1]:arguments,u=t instanceof Tn,l=s[0],f=u||uf(t),c=function(e){var t=a.apply(En,vr([e],s));return i&&h?t[0]:t};f&&n&&"function"==typeof l&&1!=l.length&&(u=f=!1);var h=this.__chain__,d=!!this.__actions__.length,p=o&&!h,_=u&&!d;if(!o&&f){t=_?t:new Tn(this);var g=e.apply(t,s);return g.__actions__.push({func:Yu,args:[c],thisArg:r}),new Sn(g,h)}return p&&_?e.apply(this,s):(g=this.thru(c),p?i?g.value()[0]:g.value():g)})})),fr(["pop","push","shift","sort","splice","unshift"],(function(e){var t=st[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);En.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(uf(i)?i:[],e)}return this[r]((function(r){return t.apply(uf(r)?r:[],e)}))}})),Oi(Tn.prototype,(function(e,t){var r=En[t];if(r){var n=r.name+"";(pn[n]||(pn[n]=[])).push({name:t,func:r})}})),pn[mo(r,y).name]=[{name:"wrapper",func:r}],Tn.prototype.clone=In,Tn.prototype.reverse=Pn,Tn.prototype.value=jn,En.prototype.at=Hu,En.prototype.chain=$u,En.prototype.commit=Gu,En.prototype.next=Ju,En.prototype.plant=Xu,En.prototype.reverse=Qu,En.prototype.toJSON=En.prototype.valueOf=En.prototype.value=el,En.prototype.first=En.prototype.head,It&&(En.prototype[It]=Ku),En}();"function"==typeof e&&"object"==typeof e.amd&&e.amd?(Jt._=cn,e((function(){return cn}))):Xt?((Xt.exports=cn)._=cn,Kt._=cn):Jt._=cn}).call(this)}).call(this,void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],13:[function(e,t,r){"use strict";var n=e("ndarray-ops"),i=e("ndarray"),a=e("typedarray-pool"),o=e("./lib/fft-matrix.js");function s(e,t,r){var s,u,l=t.shape,f=l.length,c=1,h=new Array(f),d=0;for(s=f-1;s>=0;--s)if(h[s]=c,c*=l[s],d=Math.max(d,o.scratchMemory(l[s])),t.shape[s]!==r.shape[s])throw new Error("Shape mismatch, real and imaginary arrays must have same size");var p,_=4*c+d;p="array"===t.dtype||"float64"===t.dtype||"custom"===t.dtype?a.mallocDouble(_):a.mallocFloat(_);var g,v,y,m,b=i(p,l.slice(0),h,0),w=i(p,l.slice(0),h.slice(0),c),x=i(p,l.slice(0),h.slice(0),2*c),E=i(p,l.slice(0),h.slice(0),3*c),A=4*c;for(n.assign(b,t),n.assign(w,r),s=f-1;s>=0&&(o(e,c/l[s],l[s],p,b.offset,w.offset,A),0!==s);--s){for(v=1,y=x.stride,m=E.stride,u=s-1;u<f;++u)m[u]=y[u]=v,v*=l[u];for(u=s-2;u>=0;--u)m[u]=y[u]=v,v*=l[u];n.assign(x,b),n.assign(E,w),g=b,b=x,x=g,g=w,w=E,E=g}n.assign(t,b),n.assign(r,w),a.free(p)}t.exports=s},{"./lib/fft-matrix.js":14,ndarray:18,"ndarray-ops":17,"typedarray-pool":21}],14:[function(e,t,r){var n=e("bit-twiddle");function i(e,t,r,i,a,u,l){e|=0,t|=0,r|=0,a|=0,u|=0,n.isPow2(r)?o(e,t,r,i,a,u):s(e,t,r,i,a,u,l)}function a(e){return n.isPow2(e)?0:2*e+4*n.nextPow2(2*e+1)}function o(e,t,r,i,a,o){var s,u,l,f,c,h,d,p,_,g,v,y,m,b,w,x,E,A,k,S,T,I,P,j;for(e|=0,t|=0,a|=0,o|=0,s=r|=0,u=n.log2(s),A=0;A<t;++A){for(d=s>>1,c=0,l=0;l<s-1;l++){for(l<c&&(m=i[a+l],i[a+l]=i[a+c],i[a+c]=m,m=i[o+l],i[o+l]=i[o+c],i[o+c]=m),h=d;h<=c;)c-=h,h>>=1;c+=h}for(v=-1,y=0,g=1,p=0;p<u;p++){for(_=g,g<<=1,x=1,E=0,c=0;c<_;c++){for(l=c;l<s;l+=g)k=i[a+(f=l+_)],S=i[o+f],T=i[a+l],I=i[o+l],b=(P=x*(k+S))-S*(x+E),w=P+(j=k*(E-x)),i[a+f]=T-b,i[o+f]=I-w,i[a+l]+=b,i[o+l]+=w;j=x*(y-v),x=(P=v*(x+E))-E*(v+y),E=P+j}y=Math.sqrt((1-v)/2),e<0&&(y=-y),v=Math.sqrt((1+v)/2)}if(e<0){var O=1/s;for(l=0;l<s;l++)i[a+l]*=O,i[o+l]*=O}a+=r,o+=r}}function s(e,t,r,i,a,s,u){e|=0,t|=0,r|=0,a|=0,s|=0,u|=0;var l,f,c,h,d,p,_,g,v,y=n.nextPow2(2*r+1),m=u,b=m+r,w=b+r,x=w+y,E=x+y,A=E+y,k=-e*Math.PI/r;for(v=0;v<r;++v)f=k*(v*v%(2*r)),h=Math.cos(f),d=Math.sin(f),i[E+(y-v)]=i[E+v]=i[m+v]=h,i[A+(y-v)]=i[A+v]=i[b+v]=d;for(v=r;v<=y-r;++v)i[E+v]=0;for(v=r;v<=y-r;++v)i[A+v]=0;for(o(1,1,y,i,E,A),k=e<0?1/r:1,l=0;l<t;++l){for(v=0;v<r;++v)f=i[a+v],c=i[s+v],p=(h=i[m+v])*(f+c),_=f*((d=-i[b+v])-h),g=c*(h+d),i[w+v]=p-g,i[x+v]=p+_;for(v=r;v<y;++v)i[w+v]=0;for(v=r;v<y;++v)i[x+v]=0;for(o(1,1,y,i,w,x),v=0;v<y;++v)f=i[w+v],c=i[x+v],p=(h=i[E+v])*(f+c),_=f*((d=i[A+v])-h),g=c*(h+d),i[w+v]=p-g,i[x+v]=p+_;for(o(-1,1,y,i,w,x),v=0;v<r;++v)f=i[w+v],c=i[x+v],p=(h=i[m+v])*(f+c),_=f*((d=-i[b+v])-h),g=c*(h+d),i[a+v]=k*(p-g),i[s+v]=k*(p+_);a+=r,s+=r}}t.exports=i,t.exports.scratchMemory=a},{"bit-twiddle":2}],15:[function(e,t,r){"use strict";t.exports=u;var n=e("./lib/planner.js");function i(e){return Array.isArray(e)?[e.length,e[0].length]:e.shape}function a(e,t,r){var n=i(e),a=i(t),o=i(r);if(n[0]!==a[0]||n[1]!==o[1]||a[1]!==o[0])throw new Error("Mismatched array shapes for matrix product")}function o(e){if(Array.isArray(e)){if(Array.isArray(e))return["r","native"]}else if(e.shape&&2===e.shape.length)return e.order[0]?["r",e.dtype]:["c",e.dtype];throw new Error("Unrecognized data type")}var s={};function u(e,t,r,i,u){void 0===i&&(i=1),void 0===u&&(u=0);var l=1!==i,f=0!==u,c=o(e),h=o(t),d=o(r);a(e,t,r);var p=[c,h,d,l,f].join(":"),_=s[p];return _||(_=s[p]=n(c,h,d,l,f)),_(e,t,r,i,u)}},{"./lib/planner.js":16}],16:[function(e,t,r){"use strict";t.exports=h;var n=32;function i(e,t){return"native"===t[1]?[e,"d0=",e,".length,",e,"d1=",e,"[0].length,"].join(""):[e,"d0=",e,".shape[0],",e,"d1=",e,".shape[1],",e,"s0=",e,".stride[0],",e,"s1=",e,".stride[1],",e,"o=",e,".offset,",e,"d=",e,".data,"].join("")}function a(e,t,r,n,i,a){var o=[];return"native"===r[1]?e[0]&&(n?o.push("var ",t,"p=",t,"[",n,"];"):o.push("var ",t,"p=",t,"[0];")):n&&i?a?o.push("var ",t,"t0=",t,"s",e[0],",",t,"t1=",t,"s",e[1],"-",t,"s",e[0],"*",a,",",t,"p=",t,"o+",n,"*",t,"s0+",i,"*",t,"s1;"):o.push("var ",t,"t0=",t,"s",e[0],",",t,"p=",t,"o+",n,"*",t,"s0+",i,"*",t,"s1;"):n?o.push("var ",t,"t0=",t,"s",e[0],",",t,"p=",t,"o+",n,"*",t,"s0;"):i?o.push("var ",t,"t0=",t,"s",e[0],",",t,"p=",t,"o+",i,"*",t,"s1;"):o.push("var ",t,"t0=",t,"s",e[0],",",t,"t1=",t,"s",e[1],"-",t,"s",e[0],"*",t,"d",e[0],",",t,"p=",t,"o;"),o}function o(e,t,r,n,i){var a=[];return"native"===r[1]?e[0]&&1===n&&a.push(t,"p=",t,"[",i,"+1]"):a.push(t,"p+=",t,"t",n,";"),a}function s(e,t,r,n,i,a){var o=[];return"native"===r[1]?e[0]?o.push(t,"p[",i,"]=",a,";"):o.push(t,"[",n,"][",i,"]=",a,";"):"generic"===r[1]?o.push(t,"d.set(",t,"p,",a,");"):o.push(t,"d[",t,"p]=",a,";"),o}function u(e,t,r,n,i){var a=[];return"native"===r[1]?e[0]?a.push(t,"p[",i,"]"):a.push(t,"[",n,"][",i,"]"):"generic"===r[1]?a.push(t,"d.get(",t,"p)"):a.push(t,"d[",t,"p]"),a.join("")}function l(e,t,r,n,i){var l=[],f="r"===e[0]?[1,0]:[0,1],c=[1,0],h=[0,1],d=["i","j"];return l.push.apply(l,a(f,"o",e)),f[1]?(l.push("for(j=0;j<od1;++j){"),l.push("for(i=0;i<od0;++i){")):(l.push("for(i=0;i<od0;++i){"),l.push("for(j=0;j<od1;++j){")),l.push.apply(l,a(c,"a",t,"i")),l.push.apply(l,a(h,"b",r,void 0,"j")),l.push("var r=0.0;","for(k=0;k<ad1;++k){","r+=",u(c,"a",t,"i","k"),"*",u(h,"b",r,"k","j"),";"),l.push.apply(l,o(c,"a",t,0,"k")),l.push.apply(l,o(h,"b",r,0,"k")),l.push("}"),n&&l.push("r*=A;"),i&&l.push("r+=B*",u(f,"o",e,"i","j"),";"),l.push.apply(l,s(f,"o",e,"i","j","r")),l.push.apply(l,o(f,"o",e,0,d[1])),l.push("}"),l.push.apply(l,o(f,"o",e,1,d[0])),l.push("}"),l}function f(e,t){var r,n=[],i="r"===e[0]?[1,0]:[0,1];return t&&n.push("if(B!==1.0){"),n.push.apply(n,a(i,"o",e)),i[0]?(n.push("for(i=0;i<od0;++i){for(j=0;j<od1;++j){"),r=["i","j"]):(n.push("for(j=0;j<od1;++j){for(i=0;i<od0;++i){"),r=["j","i"]),t?n.push.apply(n,s(i,"o",e,"i","j","B*"+u(i,"o",e,"i","j"))):n.push.apply(n,s(i,"o",e,"i","j","0")),n.push.apply(n,o(i,"o",e,0,r[1])),n.push("}"),n.push.apply(n,o(i,"o",e,1,r[0])),n.push("}"),t&&n.push("}"),n}function c(e,t,r,i,l){var c=[],h=["od0","od1","ad1"],d=[1,0],p=[1,0],_=[0,1];c.push.apply(c,f(e,l));for(var g=0;g<3;++g)c.push("for(var i",g,"=",h[g],";i",g,">0;){","var w",g,"=",n,";","if(i",g,"<",n,"){","w",g,"=i",g,";","i",g,"=0;","}else{","i",g,"-=",n,";","}");c.push.apply(c,a(d,"o",e,"i0","i1","w1")),c.push("for(i=0;i<w0;++i){for(j=0;j<w1;++j){var r=0.0;"),c.push.apply(c,a(p,"a",t,"(i0+i)","i2")),c.push.apply(c,a(_,"b",r,"i2","(i1+j)")),c.push("for(k=0;k<w2;++k){"),c.push("r+=",u(p,"a",t,"(i0+i)","(i2+k)"),"*",u(_,"b",r,"(i2+k)","(i1+j)"),";"),c.push.apply(c,o(p,"a",t,0,"(i2+k)")),c.push.apply(c,o(_,"b",r,0,"(i2+k)")),c.push("}");var v="r";return i&&(v="A*r"),c.push.apply(c,s(d,"o",e,"(i0+i)","(i1+j)",v+"+"+u(d,"o",e,"(i0+i)","(i1+j)"))),c.push.apply(c,o(d,"o",e,0,"(i1+j)")),c.push("}"),c.push.apply(c,o(d,"o",e,1,"(i0+i)")),c.push("}}}}"),c}function h(e,t,r,n,a){var o=["gemm",e[0],e[1],"a",t[0],t[1],"b",r[0],r[1],n?"alpha":"",a?"beta":""].join(""),s=["function ",o,"(o,a,b,A,B){","var ",i("o",e),i("a",t),i("b",r),"i,j,k;"];return"r"===t[0]&&"c"===r[0]?s.push.apply(s,l(e,t,r,n,a)):s.push.apply(s,c(e,t,r,n,a)),s.push("}return ",o),new Function(s.join(""))()}},{}],17:[function(e,t,r){"use strict";var n=e("cwise-compiler"),i={body:"",args:[],thisVars:[],localVars:[]};function a(e){if(!e)return i;for(var t=0;t<e.args.length;++t){var r=e.args[t];e.args[t]=0===t?{name:r,lvalue:!0,rvalue:!!e.rvalue,count:e.count||1}:{name:r,lvalue:!1,rvalue:!0,count:1}}return e.thisVars||(e.thisVars=[]),e.localVars||(e.localVars=[]),e}function o(e){return n({args:e.args,pre:a(e.pre),body:a(e.body),post:a(e.proc),funcName:e.funcName})}function s(e){for(var t=[],r=0;r<e.args.length;++r)t.push("a"+r);return new Function("P",["return function ",e.funcName,"_ndarrayops(",t.join(","),") {P(",t.join(","),");return a0}"].join(""))(o(e))}var u={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var e in u){var t=u[e];r[e]=s({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+t+"c"},funcName:e}),r[e+"eq"]=s({args:["array","array"],body:{args:["a","b"],body:"a"+t+"=b"},rvalue:!0,funcName:e+"eq"}),r[e+"s"]=s({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+t+"s"},funcName:e+"s"}),r[e+"seq"]=s({args:["array","scalar"],body:{args:["a","s"],body:"a"+t+"=s"},rvalue:!0,funcName:e+"seq"})}}();var l={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var e in l){var t=l[e];r[e]=s({args:["array","array"],body:{args:["a","b"],body:"a="+t+"b"},funcName:e}),r[e+"eq"]=s({args:["array"],body:{args:["a"],body:"a="+t+"a"},rvalue:!0,count:2,funcName:e+"eq"})}}();var f={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var e in f){var t=f[e];r[e]=s({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+t+"c"},funcName:e}),r[e+"s"]=s({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+t+"s"},funcName:e+"s"}),r[e+"eq"]=s({args:["array","array"],body:{args:["a","b"],body:"a=a"+t+"b"},rvalue:!0,count:2,funcName:e+"eq"}),r[e+"seq"]=s({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+t+"s"},rvalue:!0,count:2,funcName:e+"seq"})}}();var c=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var e=0;e<c.length;++e){var t=c[e];r[t]=s({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:t}),r[t+"eq"]=s({args:["array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"eq"})}}();var h=["max","min","atan2","pow"];!function(){for(var e=0;e<h.length;++e){var t=h[e];r[t]=s({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:t}),r[t+"s"]=s({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:t+"s"}),r[t+"eq"]=s({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"eq"}),r[t+"seq"]=s({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"seq"})}}();var d=["atan2","pow"];!function(){for(var e=0;e<d.length;++e){var t=d[e];r[t+"op"]=s({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:t+"op"}),r[t+"ops"]=s({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:t+"ops"}),r[t+"opeq"]=s({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"opeq"}),r[t+"opseq"]=s({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"opseq"})}}(),r.any=n({args:["array"],pre:i,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),r.all=n({args:["array"],pre:i,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),r.sum=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),r.prod=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),r.norm2squared=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),r.norm2=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),r.norminf=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),r.norm1=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),r.sup=n({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),r.inf=n({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),r.argmin=n({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),r.argmax=n({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),r.random=s({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),r.assign=s({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),r.assigns=s({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),r.equals=n({args:["array","array"],pre:i,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},{"cwise-compiler":4}],18:[function(e,t,r){var n=e("iota-array"),i=e("is-buffer"),a="undefined"!=typeof Float64Array;function o(e,t){return e[0]-t[0]}function s(){var e,t=this.stride,r=new Array(t.length);for(e=0;e<r.length;++e)r[e]=[Math.abs(t[e]),e];r.sort(o);var n=new Array(r.length);for(e=0;e<n.length;++e)n[e]=r[e][1];return n}function u(e,t){var r=["View",t,"d",e].join("");t<0&&(r="View_Nil"+e);var i="generic"===e;if(-1===t){var a="function "+r+"(a){this.data=a;};var proto="+r+".prototype;proto.dtype='"+e+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+r+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+r+"(a){return new "+r+"(a);}";return new Function(a)()}if(0===t)return a="function "+r+"(a,d) {this.data = a;this.offset = d};var proto="+r+".prototype;proto.dtype='"+e+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+r+"_copy() {return new "+r+"(this.data,this.offset)};proto.pick=function "+r+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+r+"_get(){return "+(i?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+r+"_set(v){return "+(i?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}",new Function("TrivialArray",a)(f[e][0]);a=["'use strict'"];var o=n(t),u=o.map((function(e){return"i"+e})),l="this.offset+"+o.map((function(e){return"this.stride["+e+"]*i"+e})).join("+"),c=o.map((function(e){return"b"+e})).join(","),h=o.map((function(e){return"c"+e})).join(",");a.push("function "+r+"(a,"+c+","+h+",d){this.data=a","this.shape=["+c+"]","this.stride=["+h+"]","this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),a.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){return "+o.map((function(e){return"this.shape["+e+"]"})).join("*"),"}})"),1===t?a.push("proto.order=[0]"):(a.push("Object.defineProperty(proto,'order',{get:"),t<4?(a.push("function "+r+"_order(){"),2===t?a.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===t&&a.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):a.push("ORDER})")),a.push("proto.set=function "+r+"_set("+u.join(",")+",v){"),i?a.push("return this.data.set("+l+",v)}"):a.push("return this.data["+l+"]=v}"),a.push("proto.get=function "+r+"_get("+u.join(",")+"){"),i?a.push("return this.data.get("+l+")}"):a.push("return this.data["+l+"]}"),a.push("proto.index=function "+r+"_index(",u.join(),"){return "+l+"}"),a.push("proto.hi=function "+r+"_hi("+u.join(",")+"){return new "+r+"(this.data,"+o.map((function(e){return["(typeof i",e,"!=='number'||i",e,"<0)?this.shape[",e,"]:i",e,"|0"].join("")})).join(",")+","+o.map((function(e){return"this.stride["+e+"]"})).join(",")+",this.offset)}");var d=o.map((function(e){return"a"+e+"=this.shape["+e+"]"})),p=o.map((function(e){return"c"+e+"=this.stride["+e+"]"}));a.push("proto.lo=function "+r+"_lo("+u.join(",")+"){var b=this.offset,d=0,"+d.join(",")+","+p.join(","));for(var _=0;_<t;++_)a.push("if(typeof i"+_+"==='number'&&i"+_+">=0){d=i"+_+"|0;b+=c"+_+"*d;a"+_+"-=d}");for(a.push("return new "+r+"(this.data,"+o.map((function(e){return"a"+e})).join(",")+","+o.map((function(e){return"c"+e})).join(",")+",b)}"),a.push("proto.step=function "+r+"_step("+u.join(",")+"){var "+o.map((function(e){return"a"+e+"=this.shape["+e+"]"})).join(",")+","+o.map((function(e){return"b"+e+"=this.stride["+e+"]"})).join(",")+",c=this.offset,d=0,ceil=Math.ceil"),_=0;_<t;++_)a.push("if(typeof i"+_+"==='number'){d=i"+_+"|0;if(d<0){c+=b"+_+"*(a"+_+"-1);a"+_+"=ceil(-a"+_+"/d)}else{a"+_+"=ceil(a"+_+"/d)}b"+_+"*=d}");a.push("return new "+r+"(this.data,"+o.map((function(e){return"a"+e})).join(",")+","+o.map((function(e){return"b"+e})).join(",")+",c)}");var g=new Array(t),v=new Array(t);for(_=0;_<t;++_)g[_]="a[i"+_+"]",v[_]="b[i"+_+"]";for(a.push("proto.transpose=function "+r+"_transpose("+u+"){"+u.map((function(e,t){return e+"=("+e+"===undefined?"+t+":"+e+"|0)"})).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+g.join(",")+","+v.join(",")+",this.offset)}"),a.push("proto.pick=function "+r+"_pick("+u+"){var a=[],b=[],c=this.offset"),_=0;_<t;++_)a.push("if(typeof i"+_+"==='number'&&i"+_+">=0){c=(c+this.stride["+_+"]*i"+_+")|0}else{a.push(this.shape["+_+"]);b.push(this.stride["+_+"])}");return a.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),a.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+o.map((function(e){return"shape["+e+"]"})).join(",")+","+o.map((function(e){return"stride["+e+"]"})).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",a.join("\n"))(f[e],s)}function l(e){if(i(e))return"buffer";if(a)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(e)?"array":"generic"}var f={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};function c(e,t,r,n){if(void 0===e)return(0,f.array[0])([]);"number"==typeof e&&(e=[e]),void 0===t&&(t=[e.length]);var i=t.length;if(void 0===r){r=new Array(i);for(var a=i-1,o=1;a>=0;--a)r[a]=o,o*=t[a]}if(void 0===n)for(n=0,a=0;a<i;++a)r[a]<0&&(n-=(t[a]-1)*r[a]);for(var s=l(e),c=f[s];c.length<=i+1;)c.push(u(s,c.length-1));return(0,c[i+1])(e,t,r,n)}t.exports=c},{"iota-array":10,"is-buffer":11}],19:[function(e,t,r){(function(e){function t(e,t){for(var r=0,n=e.length-1;n>=0;n--){var i=e[n];"."===i?e.splice(n,1):".."===i?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return n.exec(e).slice(1)};function a(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}r.resolve=function(){for(var r="",n=!1,i=arguments.length-1;i>=-1&&!n;i--){var o=i>=0?arguments[i]:e.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(r=o+"/"+r,n="/"===o.charAt(0))}return(n?"/":"")+(r=t(a(r.split("/"),(function(e){return!!e})),!n).join("/"))||"."},r.normalize=function(e){var n=r.isAbsolute(e),i="/"===o(e,-1);return(e=t(a(e.split("/"),(function(e){return!!e})),!n).join("/"))||n||(e="."),e&&i&&(e+="/"),(n?"/":"")+e},r.isAbsolute=function(e){return"/"===e.charAt(0)},r.join=function(){var e=Array.prototype.slice.call(arguments,0);return r.normalize(a(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},r.relative=function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=r.resolve(e).substr(1),t=r.resolve(t).substr(1);for(var i=n(e.split("/")),a=n(t.split("/")),o=Math.min(i.length,a.length),s=o,u=0;u<o;u++)if(i[u]!==a[u]){s=u;break}var l=[];for(u=s;u<i.length;u++)l.push("..");return(l=l.concat(a.slice(s))).join("/")},r.sep="/",r.delimiter=":",r.dirname=function(e){var t=i(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},r.basename=function(e,t){var r=i(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},r.extname=function(e){return i(e)[3]};var o=function(e,t,r){return e.substr(t,r)}}).call(this,e("_process"))},{_process:20}],20:[function(e,t,r){var n,i,a=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}function l(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var f,c=[],h=!1,d=-1;function p(){h&&f&&(h=!1,f.length?c=f.concat(c):d=-1,c.length&&_())}function _(){if(!h){var e=u(p);h=!0;for(var t=c.length;t;){for(f=c,c=[];++d<t;)f&&f[d].run();d=-1,t=c.length}f=null,h=!1,l(e)}}function g(e,t){this.fun=e,this.array=t}function v(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new g(e,t)),1!==c.length||h||u(_)},g.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=v,a.addListener=v,a.once=v,a.off=v,a.removeListener=v,a.removeAllListeners=v,a.emit=v,a.prependListener=v,a.prependOnceListener=v,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],21:[function(e,t,n){(function(t,r){"use strict";var i=e("bit-twiddle"),a=e("dup");t.__TYPEDARRAY_POOL||(t.__TYPEDARRAY_POOL={UINT8:a([32,0]),UINT16:a([32,0]),UINT32:a([32,0]),INT8:a([32,0]),INT16:a([32,0]),INT32:a([32,0]),FLOAT:a([32,0]),DOUBLE:a([32,0]),DATA:a([32,0]),UINT8C:a([32,0]),BUFFER:a([32,0])});var o="undefined"!=typeof Uint8ClampedArray,s=t.__TYPEDARRAY_POOL;s.UINT8C||(s.UINT8C=a([32,0])),s.BUFFER||(s.BUFFER=a([32,0]));var u=s.DATA,l=s.BUFFER;function f(e){if(e){var t=e.length||e.byteLength,r=i.log2(t);u[r].push(e)}}function c(e){f(e.buffer)}function h(e){e=i.nextPow2(e);var t=i.log2(e),r=u[t];return r.length>0?r.pop():new ArrayBuffer(e)}function d(e){return new Uint8Array(h(e),0,e)}function p(e){return new Uint16Array(h(2*e),0,e)}function _(e){return new Uint32Array(h(4*e),0,e)}function g(e){return new Int8Array(h(e),0,e)}function v(e){return new Int16Array(h(2*e),0,e)}function y(e){return new Int32Array(h(4*e),0,e)}function m(e){return new Float32Array(h(4*e),0,e)}function b(e){return new Float64Array(h(8*e),0,e)}function w(e){return o?new Uint8ClampedArray(h(e),0,e):d(e)}function x(e){return new DataView(h(e),0,e)}function E(e){e=i.nextPow2(e);var t=i.log2(e),n=l[t];return n.length>0?n.pop():new r(e)}n.free=function(e){if(r.isBuffer(e))l[i.log2(e.length)].push(e);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(e)&&(e=e.buffer),!e)return;var t=e.length||e.byteLength,n=0|i.log2(t);u[n].push(e)}},n.freeUint8=n.freeUint16=n.freeUint32=n.freeInt8=n.freeInt16=n.freeInt32=n.freeFloat32=n.freeFloat=n.freeFloat64=n.freeDouble=n.freeUint8Clamped=n.freeDataView=c,n.freeArrayBuffer=f,n.freeBuffer=function(e){l[i.log2(e.length)].push(e)},n.malloc=function(e,t){if(void 0===t||"arraybuffer"===t)return h(e);switch(t){case"uint8":return d(e);case"uint16":return p(e);case"uint32":return _(e);case"int8":return g(e);case"int16":return v(e);case"int32":return y(e);case"float":case"float32":return m(e);case"double":case"float64":return b(e);case"uint8_clamped":return w(e);case"buffer":return E(e);case"data":case"dataview":return x(e);default:return null}return null},n.mallocArrayBuffer=h,n.mallocUint8=d,n.mallocUint16=p,n.mallocUint32=_,n.mallocInt8=g,n.mallocInt16=v,n.mallocInt32=y,n.mallocFloat32=n.mallocFloat=m,n.mallocFloat64=n.mallocDouble=b,n.mallocUint8Clamped=w,n.mallocDataView=x,n.mallocBuffer=E,n.clearCache=function(){for(var e=0;e<32;++e)s.UINT8[e].length=0,s.UINT16[e].length=0,s.UINT32[e].length=0,s.INT8[e].length=0,s.INT16[e].length=0,s.INT32[e].length=0,s.FLOAT[e].length=0,s.DOUBLE[e].length=0,s.UINT8C[e].length=0,u[e].length=0,l[e].length=0}}).call(this,void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer)},{"bit-twiddle":2,buffer:3,dup:8}],22:[function(e,t,r){"use strict";function n(e,t){for(var r=1,n=e.length,i=e[0],a=e[0],o=1;o<n;++o)if(a=i,t(i=e[o],a)){if(o===r){r++;continue}e[r++]=i}return e.length=r,e}function i(e){for(var t=1,r=e.length,n=e[0],i=e[0],a=1;a<r;++a,i=n)if(i=n,(n=e[a])!==i){if(a===t){t++;continue}e[t++]=n}return e.length=t,e}function a(e,t,r){return 0===e.length?e:t?(r||e.sort(t),n(e,t)):(r||e.sort(),i(e))}t.exports=a},{}],23:[function(e,t,r){"use strict";t.exports={printThreshold:7,nFloatingValues:5}},{}],24:[function(e,t,r){"use strict";t.exports={int8:Int8Array,int16:Int16Array,int32:Int32Array,uint8:Uint8Array,uint16:Uint16Array,uint32:Uint32Array,float32:Float32Array,float64:Float64Array,array:Array}},{}],25:[function(e,t,r){"use strict";t.exports={ValueError:function(){var e=Error.apply(this,arguments);return e.name=this.constructor.name,e},ConfigError:function(){var e=Error.apply(this,arguments);return e.name=this.constructor.name,e},NotImplementedError:function(){var e=Error.apply(this,arguments);return e.name=this.constructor.name,e}}},{}],26:[function(e,t,r){"use strict";t.exports=function(e,t,r,n,i){var a=t-1,o=t+n-1,s=e-1,u=e+r-1;return 0!==t&&0!==e?i.selection.get(s,a)-i.selection.get(u,a)-i.selection.get(s,o)+i.selection.get(u,o):0===t&&0===e?i.selection.get(e+r-1,t+n-1):0===t?-i.selection.get(s,t+n-1)+i.selection.get(e+r-1,t+n-1):-i.selection.get(u,a)+i.selection.get(u,o)}},{}],27:[function(e,t,r){"use strict";var n=e("./area-sum");t.exports=function(e,t,r,i,a){return n(e,t,r,i,a)/(r*i)}},{"./area-sum":26}],28:[function(e,t,r){(function(r){"use strict";var n=e("path"),i=e("./read"),a=n.join(n.resolve(r),"../../data");function o(e){return i(n.join(a,e))}var s={};Object.defineProperty(s,"digit",{get:function(){return o("five.png")}}),Object.defineProperty(s,"five",{get:function(){return o("five.png")}}),Object.defineProperty(s,"node",{get:function(){return o("nodejs.png")}}),Object.defineProperty(s,"lena",{get:function(){return o("lenna.png")}}),Object.defineProperty(s,"lenna",{get:function(){return o("lenna.png")}}),Object.defineProperty(s,"moon",{get:function(){return o("moon.jpg")}}),t.exports=s}).call(this,"/src/images")},{"./read":32,path:19}],29:[function(e,t,r){"use strict";var n=e("../ndarray");t.exports=function(e){return new n(e.selection.step(null,-1))}},{"../ndarray":42}],30:[function(e,t,r){"use strict";t.exports={data:e("./data"),read:e("./read"),save:e("./save"),resize:e("./resize"),sat:e("./sat"),ssat:e("./ssat"),sobel:e("./sobel"),scharr:e("./scharr"),areaSum:e("./area-sum"),areaValue:e("./area-value"),rgb2gray:e("./rgb2gray"),flip:e("./flip")}},{"./area-sum":26,"./area-value":27,"./data":28,"./flip":29,"./read":32,"./resize":33,"./rgb2gray":34,"./sat":35,"./save":36,"./scharr":37,"./sobel":38,"./ssat":39}],31:[function(e,t,r){"use strict";var n=e("../ndarray"),i=e("cwise/lib/wrapper")({args:["array","array","array"],pre:{body:"{this_isgray=!0}",args:[],thisVars:["this_isgray"],localVars:[]},body:{body:"{_inline_82_arg0_===_inline_82_arg1_&&_inline_82_arg1_===_inline_82_arg2_||(this_isgray=!1)}",args:[{name:"_inline_82_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_82_arg1_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_82_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_isgray"],localVars:[]},post:{body:"{return this_isgray}",args:[],thisVars:["this_isgray"],localVars:[]},debug:!1,funcName:"doCheckIsGrayscaleCwise",blockSize:64});t.exports=function(e){e instanceof n&&(e=e.selection);var t=e.shape;return 1!==t.length&&(2===t.length||3===t.length&&1===t[2]||3===t.length&&(3===t[2]||4===t[2])&&i(e.pick(null,null,0),e.pick(null,null,1),e.pick(null,null,2)))}},{"../ndarray":42,"cwise/lib/wrapper":7}],32:[function(e,t,r){"use strict";var n=e("ndarray"),i=e("../ndarray"),a=e("../errors"),o=e("./is-grayscale");function s(e){var t=e.getContext("2d").getImageData(0,0,e.width,e.height),r=[e.width,e.height,4],a=[4,4*e.width,1],s=n(new Uint8Array(t.data),r,a,0).transpose(1,0);return o(s)&&(s=s.pick(null,null,0)),new i(s)}function u(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var r=t.getContext("2d");r.drawImage(e,0,0);var a=r.getImageData(0,0,e.width,e.height),s=[e.width,e.height,4],u=[4,4*e.width,1],l=n(new Uint8Array(a.data),s,u,0).transpose(1,0);return o(l)&&(l=l.pick(null,null,0)),new i(l)}t.exports=function(e){if(e instanceof HTMLCanvasElement)return s(e);if(e instanceof HTMLImageElement)return u(e);throw new a.ValueError("expect input to be either an HTML Canvas or a (loaded) Image")}},{"../errors":25,"../ndarray":42,"./is-grayscale":31,ndarray:18}],33:[function(e,t,r){"use strict";var n=e("./utils"),i=e("ndarray"),a=e("../ndarray");t.exports=function(e,t,r){var o=e.shape,s=o[0],u=o[1],l=o[2]||1,f=document.createElement("canvas");f.height=s,f.width=u;var c=f.getContext("2d"),h=c.createImageData(u,s),d=n.setRawData(e.selection,h.data);if(d)throw d;var p=s/t,_=u/r,g=Math.min(p,_),v=t*g,y=r*g,m=(s-g*t)/2,b=(u-g*r)/2;c.putImageData(h,0,0),c.drawImage(f,b,m,y,v,0,0,r,t);var w=c.getImageData(0,0,r,t),x=[0|r,0|t,4],E=[4,4*r|0,1],A=i(new Uint8Array(w.data),x,E,0).transpose(1,0);return(2===o.length||3===o.length&&1===l)&&(A=A.pick(null,null,0)),new a(A)}},{"../ndarray":42,"./utils":40,ndarray:18}],34:[function(e,t,r){"use strict";var n=e("../ndarray"),i=e("../utils"),a=e("cwise/lib/wrapper")({args:["array","array","array","array"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_79_arg0_=4899*_inline_79_arg1_+9617*_inline_79_arg2_+1868*_inline_79_arg3_+8192>>14}",args:[{name:"_inline_79_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_79_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_79_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_79_arg3_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"rgb2grayCwise",blockSize:64});t.exports=function(e){e instanceof n||(e=new n(e));var t=e.shape,r=t[0],o=t[1];if(1===(t[2]||1))return e;var s=[r,o],u=new n(new Uint8Array(i.shapeSize(s)),s),l=e.selection.pick(null,null,0),f=e.selection.pick(null,null,1),c=e.selection.pick(null,null,2);return a(u.selection,l,f,c),u}},{"../ndarray":42,"../utils":43,"cwise/lib/wrapper":7}],35:[function(e,t,r){"use strict";var n=e("../ndarray"),i=e("./rgb2gray"),a=e("cwise/lib/wrapper")({args:["array","array","index",{offset:[-1,-1],array:0},{offset:[-1,0],array:0},{offset:[0,-1],array:0}],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_67_arg0_=0!==_inline_67_arg2_[0]&&0!==_inline_67_arg2_[1]?_inline_67_arg1_+_inline_67_arg4_+_inline_67_arg5_-_inline_67_arg3_:0===_inline_67_arg2_[0]&&0===_inline_67_arg2_[1]?_inline_67_arg1_:0===_inline_67_arg2_[0]?_inline_67_arg1_+_inline_67_arg5_:_inline_67_arg1_+_inline_67_arg4_}",args:[{name:"_inline_67_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_67_arg1_",lvalue:!1,rvalue:!0,count:4},{name:"_inline_67_arg2_",lvalue:!1,rvalue:!0,count:5},{name:"_inline_67_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_67_arg4_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_67_arg5_",lvalue:!1,rvalue:!0,count:2}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"doIntegrateBody",blockSize:64});t.exports=function(e){var t=i(e),r=t.shape,o=r[0],s=r[1],u=new n(new Uint32Array(o*s),[o,s]);return a(u.selection,t.selection),u}},{"../ndarray":42,"./rgb2gray":34,"cwise/lib/wrapper":7}],36:[function(e,t,r){"use strict";var n=e("./utils"),i=e("../errors");t.exports=function(e,t){var r=e.shape,a=r[0],o=r[1];if(!(t instanceof HTMLCanvasElement))throw new i.ValueError("expect input to be either an HTML Canvas or a (loaded) Image");var s=document.createElement("canvas");s.height=a,s.width=o;var u=s.getContext("2d"),l=u.createImageData(o,a),f=n.setRawData(e.selection,l.data);if(f)throw f;u.putImageData(l,0,0),u.drawImage(s,o,a),t.getContext("2d").drawImage(s,0,0,o,a,0,0,t.width,t.height)}},{"../errors":25,"./utils":40}],37:[function(e,t,r){"use strict";var n=e("ndarray-ops"),i=e("../ndarray"),a=e("../utils"),o=e("./rgb2gray"),s=e("cwise/lib/wrapper")({args:["array","array",{offset:[-1,-1],array:1},{offset:[-1,0],array:1},{offset:[-1,1],array:1},{offset:[0,-1],array:1},{offset:[0,1],array:1},{offset:[1,-1],array:1},{offset:[1,0],array:1},{offset:[1,1],array:1}],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{var _inline_70_q=3*_inline_70_arg2_+10*_inline_70_arg3_+3*_inline_70_arg4_-3*_inline_70_arg7_-10*_inline_70_arg8_-3*_inline_70_arg9_,_inline_70_s=3*_inline_70_arg2_-3*_inline_70_arg4_+10*_inline_70_arg5_-10*_inline_70_arg6_+3*_inline_70_arg7_-3*_inline_70_arg9_;_inline_70_arg0_=Math.sqrt(_inline_70_s*_inline_70_s+_inline_70_q*_inline_70_q)}",args:[{name:"_inline_70_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_70_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_70_arg2_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_70_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_70_arg4_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_70_arg5_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_70_arg6_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_70_arg7_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_70_arg8_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_70_arg9_",lvalue:!1,rvalue:!0,count:2}],thisVars:[],localVars:["_inline_70_q","_inline_70_s"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"doSobelBody",blockSize:64});t.exports=function(e){var t=o(e),r=t.shape,u=r[0],l=r[1],f=new i(new Float32Array(a.shapeSize(r)),r);return s(f.selection,t.selection),n.assigns(f.selection.pick(0,null),0),n.assigns(f.selection.pick(null,0),0),n.assigns(f.selection.pick(u-1,null),0),n.assigns(f.selection.pick(null,l-1),0),f.divide(16*Math.sqrt(2),!1)}},{"../ndarray":42,"../utils":43,"./rgb2gray":34,"cwise/lib/wrapper":7,"ndarray-ops":17}],38:[function(e,t,r){"use strict";var n=e("ndarray-ops"),i=e("../ndarray"),a=e("../utils"),o=e("./rgb2gray"),s=e("cwise/lib/wrapper")({args:["array","array",{offset:[-1,-1],array:1},{offset:[-1,0],array:1},{offset:[-1,1],array:1},{offset:[0,-1],array:1},{offset:[0,1],array:1},{offset:[1,-1],array:1},{offset:[1,0],array:1},{offset:[1,1],array:1}],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{var _inline_76_q=_inline_76_arg2_+2*_inline_76_arg3_+_inline_76_arg4_-_inline_76_arg7_-2*_inline_76_arg8_-_inline_76_arg9_,_inline_76_s=_inline_76_arg2_-_inline_76_arg4_+2*_inline_76_arg5_-2*_inline_76_arg6_+_inline_76_arg7_-_inline_76_arg9_;_inline_76_arg0_=Math.sqrt(_inline_76_s*_inline_76_s+_inline_76_q*_inline_76_q)}",args:[{name:"_inline_76_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_76_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_76_arg2_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_76_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_76_arg4_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_76_arg5_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_76_arg6_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_76_arg7_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_76_arg8_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_76_arg9_",lvalue:!1,rvalue:!0,count:2}],thisVars:[],localVars:["_inline_76_q","_inline_76_s"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"doSobelBody",blockSize:64});t.exports=function(e){var t=o(e),r=t.shape,u=r[0],l=r[1],f=new i(new Float32Array(a.shapeSize(r)),r);return s(f.selection,t.selection),n.assigns(f.selection.pick(0,null),0),n.assigns(f.selection.pick(null,0),0),n.assigns(f.selection.pick(u-1,null),0),n.assigns(f.selection.pick(null,l-1),0),f.divide(4*Math.sqrt(2),!1)}},{"../ndarray":42,"../utils":43,"./rgb2gray":34,"cwise/lib/wrapper":7,"ndarray-ops":17}],39:[function(e,t,r){"use strict";var n=e("../ndarray"),i=e("./rgb2gray"),a=e("cwise/lib/wrapper")({args:["array","array","index",{offset:[-1,-1],array:0},{offset:[-1,0],array:0},{offset:[0,-1],array:0}],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_73_arg0_=0!==_inline_73_arg2_[0]&&0!==_inline_73_arg2_[1]?_inline_73_arg1_*_inline_73_arg1_+_inline_73_arg4_+_inline_73_arg5_-_inline_73_arg3_:0===_inline_73_arg2_[0]&&0===_inline_73_arg2_[1]?_inline_73_arg1_*_inline_73_arg1_:0===_inline_73_arg2_[0]?_inline_73_arg1_*_inline_73_arg1_+_inline_73_arg5_:_inline_73_arg1_*_inline_73_arg1_+_inline_73_arg4_}",args:[{name:"_inline_73_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_73_arg1_",lvalue:!1,rvalue:!0,count:8},{name:"_inline_73_arg2_",lvalue:!1,rvalue:!0,count:5},{name:"_inline_73_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_73_arg4_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_73_arg5_",lvalue:!1,rvalue:!0,count:2}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"doIntegrateBody",blockSize:64});t.exports=function(e){var t=i(e),r=t.shape,o=r[0],s=r[1],u=new n(new Uint32Array(o*s),[o,s]);return a(u.selection,t.selection),u}},{"../ndarray":42,"./rgb2gray":34,"cwise/lib/wrapper":7}],40:[function(e,t,r){"use strict";var n=e("../ndarray");t.exports.getRawData=function(e){var t,r;e instanceof n&&(e=e.selection);var i=0,a=e.shape,o=a[0],s=a[1],u=a[2]||1,l=new Uint8Array(o*s*u);if(3===e.shape.length)if(3===u)for(t=0;t<o;++t)for(r=0;r<s;++r)l[i++]=e.get(t,r,0),l[i++]=e.get(t,r,1),l[i++]=e.get(t,r,2);else if(4===u)for(t=0;t<o;++t)for(r=0;r<s;++r)l[i++]=e.get(t,r,0),l[i++]=e.get(t,r,1),l[i++]=e.get(t,r,2),l[i++]=e.get(t,r,3);else{if(1!==u)return new Error("Incompatible array shape");for(t=0;t<o;++t)for(r=0;r<s;++r)l[i++]=e.get(t,r,0)}else{if(2!==e.shape.length)return new Error("Invalid image");for(t=0;t<o;++t)for(r=0;r<s;++r)l[i++]=e.get(t,r)}return l},t.exports.setRawData=function(e,t){var r,n,i,a=0,o=e.shape[0],s=e.shape[1],u=e.shape[2]||1;if(3===e.shape.length)if(3===u)for(r=0;r<o;++r)for(n=0;n<s;++n)t[a++]=e.get(r,n,0),t[a++]=e.get(r,n,1),t[a++]=e.get(r,n,2),t[a++]=255;else if(4===u)for(r=0;r<o;++r)for(n=0;n<s;++n)t[a++]=e.get(r,n,0),t[a++]=e.get(r,n,1),t[a++]=e.get(r,n,2),t[a++]=e.get(r,n,3);else{if(1!==u)return new Error("Incompatible array shape");for(r=0;r<o;++r)for(n=0;n<s;++n)i=e.get(r,n,0),t[a++]=i,t[a++]=i,t[a++]=i,t[a++]=255}else{if(2!==e.shape.length)return new Error("Invalid image");for(r=0;r<o;++r)for(n=0;n<s;++n)i=e.get(r,n),t[a++]=i,t[a++]=i,t[a++]=i,t[a++]=255}}},{"../ndarray":42}],41:[function(e,t,r){"use strict";var n=e("ndarray"),i=e("ndarray-ops"),a=e("ndarray-fft"),o=e("./config"),s=e("./dtypes"),u=e("./ndarray"),l=e("./utils"),f=e("./errors");function c(e,t){if(0!==e.length&&0!==t.length){for(var r=e.slice().reverse(),n=t.slice().reverse(),i=Math.max(e.length,t.length),a=new Array(i),o=0;o<i;o++)if(r[o]&&1!==r[o])if(n[o]&&1!==n[o]){if(r[o]!==n[o])return;a[o]=r[o]}else a[o]=r[o];else a[o]=n[o];return a.reverse()}}function h(e,t){return u.new(e).add(t)}function d(e,t){return u.new(e).multiply(t)}function p(e,t){return u.new(e).divide(t)}function _(e,t){return u.new(e).subtract(t)}function g(e,t){return u.new(e).equal(t)}function v(e){return u.new(e).flatten()}function y(e,t){return u.new(e).reshape(t)}function m(e){return u.new(e).exp()}function b(e){return u.new(e).log()}function w(e){return u.new(e).sqrt()}function x(e,t){return u.new(e).pow(t)}function E(e){return u.new(e).sum()}function A(e){return u.new(e).mean()}function k(e,t){return u.new(e).std(t)}function S(e){return u.new(e).min()}function T(e){return u.new(e).max()}function I(e,t){return u.new(e).mod(t)}function P(e,t){return u.new(e).transpose(t)}function j(e){return u.new(e).negative()}function O(e,t,r,n){if(1===arguments.length)return O(0,e,1,void 0);if(2===arguments.length&&l.isNumber(t))return O(e,t,1,void 0);if(2===arguments.length)return O(0,e,1,t);if(3===arguments.length&&!l.isNumber(r))return O(e,t,1,r);for(var i=[],a=0;e<t;)i[a++]=e,e+=r;return u.new(i,n)}function D(e,t){l.isNumber(e)&&e>=0&&(e=[e]);var r=l.shapeSize(e),n=l.getType(t),a=new u(new n(r),e);return"array"===a.dtype&&i.assigns(a.selection,0),a}function L(e,t){l.isNumber(e)&&e>=0&&(e=[e]);var r=l.shapeSize(e),n=l.getType(t),a=new u(new n(r),e);return i.assigns(a.selection,1),a}function R(e,t){l.isNumber(e)&&e>=0&&(e=[e]);var r=l.shapeSize(e),n=l.getType(t);return new u(new n(r),e)}function B(e){if(0===arguments.length)return u.new(Math.random());e=1===arguments.length?l.isNumber(e)?[0|e]:e:[].slice.call(arguments);var t=l.shapeSize(e),r=new u(new Float64Array(t),e);return i.random(r.selection),r}function U(e){var t=u.new(e).exp(),r=t.sum();return i.divseq(t.selection,r),t}var M=e("cwise/lib/wrapper")({args:["array","scalar"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_43_arg0_=_inline_43_arg0_<-30?0:_inline_43_arg0_>30?1:1/(1+Math.exp(-1*_inline_43_arg1_*_inline_43_arg0_))}",args:[{name:"_inline_43_arg0_",lvalue:!0,rvalue:!0,count:4},{name:"_inline_43_arg1_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"sigmoidCwise",blockSize:64});function N(e,t){return e=u.new(e).clone(),t=t||1,M(e.selection,t),e}var F=e("cwise/lib/wrapper")({args:["array","scalar","scalar"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_46_arg0_=Math.min(Math.max(_inline_46_arg1_,_inline_46_arg0_),_inline_46_arg2_)}",args:[{name:"_inline_46_arg0_",lvalue:!0,rvalue:!0,count:2},{name:"_inline_46_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_46_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"clipCwise",blockSize:64});function C(e,t,r){1===arguments.length?(t=0,r=1):2===arguments.length&&(r=1);var n=e instanceof u?e.clone():u.new(e);return F(n.selection,t,r),n}var z=e("cwise/lib/wrapper")({args:["array","scalar"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_49_arg0_=Math.max(_inline_49_arg1_*_inline_49_arg0_,_inline_49_arg0_)}",args:[{name:"_inline_49_arg0_",lvalue:!0,rvalue:!0,count:3},{name:"_inline_49_arg1_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"leakyReluCwise",blockSize:64});function V(e,t){t=t||.001;var r=e instanceof u?e.clone():u.new(e);return z(r.selection,t),r}var q=e("cwise/lib/wrapper")({args:["array"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_52_arg0_=(Math.exp(2*_inline_52_arg0_)-1)/(Math.exp(2*_inline_52_arg0_)+1)}",args:[{name:"_inline_52_arg0_",lvalue:!0,rvalue:!0,count:3}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"tanhCwise",blockSize:64});function Z(e){var t=e instanceof u?e.clone():u.new(e);return q(t.selection),t}function W(e){var t=e instanceof u?e.clone():u.new(e);return i.abseq(t.selection),t}function Y(e){var t=e instanceof u?e.clone():u.new(e);return i.coseq(t.selection),t}function H(e){var t=e instanceof u?e.clone():u.new(e);return i.acoseq(t.selection),t}function $(e){var t=e instanceof u?e.clone():u.new(e);return i.sineq(t.selection),t}function G(e){var t=e instanceof u?e.clone():u.new(e);return i.asineq(t.selection),t}function J(e){var t=e instanceof u?e.clone():u.new(e);return i.taneq(t.selection),t}function K(e){var t=e instanceof u?e.clone():u.new(e);return i.ataneq(t.selection),t}function X(e,t){return u.new(e).dot(t)}function Q(e){var t,r;for(arguments.length>1&&(e=[].slice.call(arguments)),t=0;t<e.length;t++)r=e[t],e[t]=r instanceof u?r.tolist():l.isNumber(r)?[r]:r;var n=e[0];for(t=1;t<e.length;t++){r=e[t];var i=l.getShape(n),a=l.getShape(r);if(i.length!==a.length)throw new f.ValueError("all the input arrays must have same number of dimensions");if(1===i.length&&1===a.length)n=n.concat(r);else if(2===i.length&&2===a.length&&i[0]===a[0]||1===i.length&&2===a.length&&i[0]===a[0]||2===i.length&&1===a.length&&i[0]===a[0])for(var o=0;o<i[0];o++)n[o]=n[o].concat(r[o]);else{if(!(3===i.length&&3===a.length&&i[0]===a[0]&&i[1]===a[1]||2===i.length&&3===a.length&&i[0]===a[0]&&i[1]===a[1]||3===i.length&&2===a.length&&i[0]===a[0]&&i[1]===a[1]))throw new f.ValueError('cannot concatenate  "'+i+'" with "'+a+'"');for(var s=0;s<i[0];s++){for(var c=new Array(i[1]),h=0;h<i[1];h++)c[h]=n[s][h].concat(r[s][h]);n[s]=c}}}return u.new(n,e[0].dtype)}function ee(e){return u.new(e).round()}function te(e,t){return u.new(e).convolve(t)}function re(e,t){return u.new(e).fftconvolve(t)}function ne(e){var t=(e=e instanceof u?e.clone():u.new(e)).shape,r=t.length;if(2!==t[r-1])throw new f.ValueError("expect last dimension of the array to have 2 values (for both real and imaginary part)");var n=new Array(r),i=new Array(r);return n[r-1]=0,i[r-1]=1,a(1,e.selection.pick.apply(e.selection,n),e.selection.pick.apply(e.selection,i)),e}function ie(e){var t=(e=e instanceof u?e.clone():u.new(e)).shape,r=t.length;if(2!==t[r-1])throw new f.ValueError("expect last dimension of the array to have 2 values (for both real and imaginary part)");var n=new Array(r),i=new Array(r);return n[r-1]=0,i[r-1]=1,a(-1,e.selection.pick.apply(e.selection,n),e.selection.pick.apply(e.selection,i)),e}function ae(e){return u.new(e).diag()}function oe(e,t){for(var r=D([e,e],t),n=0;n<e;n++)r.set(n,n,1);return r}function se(e,t){if(t=t||0,!e||0===e.length)throw new f.ValueError("need at least one array to stack");for(var r,n=(e=e.map((function(e){return l.isNumber(e)?e:u.new(e)})))[0].shape||[],i=1;i<e.length;i++)for(var a=e[i].shape||[],o=Math.max(n.length,a.length),s=0;s<o;s++)if(n[s]!==a[s])throw new f.ValueError("all input arrays must have the same shape");if(0===n.length)r=Q(e);else for(r=D([e.length].concat(n)),i=0;i<e.length;i++)r.pick(i).assign(e[i],!1);if(t){t<0&&(t=r.ndim+t);var c=r.ndim,h=new Array(c);for(i=0;i<c;i++)h[i]=i<t?i+1:i===t?0:i;return r.transpose(h)}return r}function ue(e,t){for(var r=L((e=u.new(e)).ndim).tolist(),n=t;n<0;)n+=e.ndim;if(void 0===r[n])throw new f.ValueError("axis="+t+"invalid for the "+e.ndim+"-dimensional input array");return r[n]=-1,e.step.apply(e,r)}function le(e,t,r){for(t=t||1;t<0;)t+=4;if(t%=4,e=u.new(e),1!==(r=u.new(r||[0,1])).shape.length||2!==r.shape[0])throw new f.ValueError("len(axes) must be 2");if((r=r.tolist())[0]===r[1]||W(r[0]-r[1])===e.ndim)throw new f.ValueError("Axes must be different.");if(0===t)return e;if(2===t)return ue(ue(e,r[0]),r[1]);var n=O(e.ndim).tolist(),i=n[r[0]];return n[r[0]]=n[r[1]],n[r[1]]=i,1===t?P(ue(e,r[1]),n):ue(P(e,n),r[1])}t.exports={config:o,dtypes:s,NdArray:u,ndarray:n,array:u.new,arange:O,reshape:y,zeros:D,ones:L,empty:R,flatten:v,flip:ue,random:B,softmax:U,sigmoid:N,leakyRelu:V,abs:W,arccos:H,arcsin:G,arctan:K,cos:Y,sin:$,tan:J,tanh:Z,clip:C,exp:m,log:b,sqrt:w,power:x,sum:E,mean:A,std:k,dot:X,add:h,subtract:_,multiply:d,divide:p,negative:j,equal:g,max:T,min:S,mod:I,remainder:I,concatenate:Q,transpose:P,errors:f,broadcast:c,round:ee,convolve:te,fftconvolve:re,fft:ne,ifft:ie,diag:ae,identity:oe,stack:se,rot90:le,int8:function(e){return u.new(e,"int8")},uint8:function(e){return u.new(e,"uint8")},int16:function(e){return u.new(e,"int16")},uint16:function(e){return u.new(e,"uint16")},int32:function(e){return u.new(e,"int32")},uint32:function(e){return u.new(e,"uint32")},float32:function(e){return u.new(e,"float32")},float64:function(e){return u.new(e,"float64")},images:e("./images")}},{"./config":23,"./dtypes":24,"./errors":25,"./images":30,"./ndarray":42,"./utils":43,"cwise/lib/wrapper":7,ndarray:18,"ndarray-fft":13,"ndarray-ops":17}],42:[function(e,t,r){"use strict";var n=e("ndarray"),i=e("ndarray-ops"),a=e("ndarray-gemm"),o=e("ndarray-fft"),s=e("typedarray-pool"),u=e("./config"),l=e("./errors"),f=e("./utils"),c=function(){if(1===arguments.length)this.selection=arguments[0];else{if(0===arguments.length)throw new l.ValueError("Required argument 'data' not found");this.selection=n.apply(null,arguments)}Object.defineProperty(this,"size",{get:function(){return this.selection.size}.bind(this)}),Object.defineProperty(this,"shape",{get:function(){return this.selection.shape}.bind(this)}),Object.defineProperty(this,"ndim",{get:function(){return this.selection.shape.length}.bind(this)}),Object.defineProperty(this,"dtype",{get:function(){return this.selection.dtype}.bind(this),set:function(e){var t=f.getType(e);t!==f.getType(this.dtype)&&(this.selection=n(new t(this.selection.data),this.selection.shape,this.selection.stride,this.selection.offset))}.bind(this)}),Object.defineProperty(this,"T",{get:function(){return this.transpose()}.bind(this)})};c.prototype.get=function(){for(var e=arguments.length,t=0;t<e;t++)arguments[t]<0&&(arguments[t]+=this.shape[t]);return this.selection.get.apply(this.selection,arguments)},c.prototype.set=function(){return this.selection.set.apply(this.selection,arguments)},c.prototype.slice=function(){for(var e=this.ndim,t=new Array(e),r=new Array(e),n=new Array(e),i=this.shape,a=0;a<e;a++){var o=arguments[a];if(void 0===o)break;if(null!==o)if(f.isNumber(o))r[a]=o<0?o+i[a]:o,t[a]=null,n[a]=1;else if(4===o.length&&null===o[1]&&null===o[2]){var s=o[0]<0?o[0]+i[a]:o[0];r[a]=s,t[a]=null,n[a]=o[3]||1}else{var u=o[0]<0?o[0]+i[a]:o[0],l=o[1]<0?o[1]+i[a]:o[1];r[a]=l?u:0,t[a]=l?l-u:u,n[a]=o[2]||1}}var h=this.selection.lo.apply(this.selection,r),d=h.hi.apply(h,t),p=d.step.apply(d,n);return new c(p)},c.prototype.pick=function(e){return new c(this.selection.pick.apply(this.selection,arguments))},c.prototype.lo=function(){return new c(this.selection.lo.apply(this.selection,arguments))},c.prototype.hi=function(){return new c(this.selection.hi.apply(this.selection,arguments))},c.prototype.step=function(){return new c(this.selection.step.apply(this.selection,arguments))},c.prototype.flatten=function(){if(1===this.ndim)return new c(this.selection);var e=f.getType(this.dtype),t=f.flatten(this.tolist(),!0);return t instanceof e||(t=new e(t)),new c(t,[this.size])},c.prototype.reshape=function(e){if(0===arguments.length)throw new l.ValueError("function takes at least one argument (0 given)");if(1===arguments.length&&f.isNumber(e)&&-1===e&&(e=[f.shapeSize(this.shape)]),1===arguments.length&&f.isNumber(e)&&(e=[e]),arguments.length>1&&(e=[].slice.call(arguments)),e.filter((function(e){return-1===e})).length>1)throw new l.ValueError("can only specify one unknown dimension");var t=f.shapeSize(e);if(e=e.map(function(e){return-1===e?-1*this.size/t:e}.bind(this)),this.size!==f.shapeSize(e))throw new l.ValueError("total size of new array must be unchanged");var r,n,i,a,o=this.selection.shape,s=this.selection.offset,u=this.selection.stride,h=o.length,d=e.length;if(h===d){var p=!0;for(i=0;i<d;++i)if(o[i]!==e[i]){p=!1;break}if(p)return new c(this.selection.data,o,u,s)}else if(1===h){for(r=new Array(d),i=d-1,a=1;i>=0;--i)r[i]=a,a*=e[i];for(n=s,i=0;i<d;++i)r[i]<0&&(n-=(e[i]-1)*r[i]);return new c(this.selection.data,e,r,n)}var _=Math.min(h,d),g=!0;for(i=0;i<_;i++)if(o[i]!==e[i]){g=!1;break}if(g){for(r=new Array(d),i=0;i<d;i++)r[i]=u[i]||1;return n=s,new c(this.selection.data,e,r,n)}return this.flatten().reshape(e)},c.prototype.transpose=function(e){if(0===arguments.length){var t=this.ndim;e=new Array(t);for(var r=0;r<t;r++)e[r]=t-r-1}else arguments.length>1&&(e=arguments);return new c(this.selection.transpose.apply(this.selection,e))},c.prototype.dot=function(e){e=e instanceof c?e:_(e,this.dtype);var t=this.shape,r=e.shape;if(2===t.length&&2===r.length&&t[1]===r[0]){var n=f.getType(this.dtype),i=new c(new n(t[0]*r[1]),[t[0],r[1]]);return a(i.selection,this.selection,e.selection),i}if(1===t.length&&2===r.length&&t[0]===r[0])return this.reshape([t[0],1]).T.dot(e).reshape(r[1]);if(2===t.length&&1===r.length&&t[1]===r[0])return this.dot(e.reshape([r[0],1])).reshape(t[0]);if(1===t.length&&1===r.length&&t[0]===r[0])return this.reshape([t[0],1]).T.dot(e.reshape([r[0],1])).reshape([1]);throw new l.ValueError("cannot compute the matrix product of given arrays")},c.prototype.assign=function(e,t){1===arguments.length&&(t=!0);var r=t?this.clone():this;return f.isNumber(e)?(i.assigns(r.selection,e),r):(e=_(e,this.dtype),i.assign(r.selection,e.selection),r)},c.prototype.add=function(e,t){1===arguments.length&&(t=!0);var r=t?this.clone():this;return f.isNumber(e)?(i.addseq(r.selection,e),r):(e=_(e,this.dtype),i.addeq(r.selection,e.selection),r)},c.prototype.subtract=function(e,t){1===arguments.length&&(t=!0);var r=t?this.clone():this;return f.isNumber(e)?(i.subseq(r.selection,e),r):(e=_(e,this.dtype),i.subeq(r.selection,e.selection),r)},c.prototype.multiply=function(e,t){1===arguments.length&&(t=!0);var r=t?this.clone():this;return f.isNumber(e)?(i.mulseq(r.selection,e),r):(e=_(e,this.dtype),i.muleq(r.selection,e.selection),r)},c.prototype.divide=function(e,t){1===arguments.length&&(t=!0);var r=t?this.clone():this;return f.isNumber(e)?(i.divseq(r.selection,e),r):(e=_(e,this.dtype),i.diveq(r.selection,e.selection),r)},c.prototype.pow=function(e,t){1===arguments.length&&(t=!0);var r=t?this.clone():this;return f.isNumber(e)?(i.powseq(r.selection,e),r):(e=_(e,this.dtype),i.poweq(r.selection,e.selection),r)},c.prototype.exp=function(e){0===arguments.length&&(e=!0);var t=e?this.clone():this;return i.expeq(t.selection),t},c.prototype.log=function(e){0===arguments.length&&(e=!0);var t=e?this.clone():this;return i.logeq(t.selection),t},c.prototype.sqrt=function(e){0===arguments.length&&(e=!0);var t=e?this.clone():this;return i.sqrteq(t.selection),t},c.prototype.max=function(){return 0===this.selection.size?null:i.sup(this.selection)},c.prototype.min=function(){return 0===this.selection.size?null:i.inf(this.selection)},c.prototype.sum=function(){return i.sum(this.selection)},c.prototype.std=function(e){e=f.defaults(e,{ddof:0});var t=this.clone();i.powseq(t.selection,2);var r=this.mean(),n=f.shapeSize(this.shape),a=i.sum(t.selection)/(n-e.ddof)-r*r*n/(n-e.ddof);return a>0?Math.sqrt(Math.abs(a)):0},c.prototype.mean=function(){return i.sum(this.selection)/f.shapeSize(this.shape)},c.prototype.mod=function(e,t){1===arguments.length&&(t=!0);var r=t?this.clone():this;return f.isNumber(e)?(i.modseq(r.selection,e),r):(e=_(e,this.dtype),i.modeq(r.selection,e.selection),r)},c.prototype.tolist=function(){return y(this.selection)},c.prototype.valueOf=function(){return this.tolist()},c.prototype.toString=function(){var e=m(this.max()).length,t=/\]\,(\s*)\[/g,r="],\n$1      [",n=/\]\,(\s+)...\,(\s+)\[/g,i="],\n$2       ...\n$2      [",a=/\[\s+\[/g,o="[[";function s(t,r){if(f.isString(r))return r;if(f.isNumber(r)){var n=m(r);return new Array(Math.max(0,e-n.length+2)).join(" ")+n}var i;t=t||0;var a=u.printThreshold,o=a/2|0;return i=r.length>a?[].concat(r.slice(0,o),[" ..."],r.slice(r.length-o)):r,new Array(t+1).join(" ")+"["+i.map((function(e,r){return s(0===r&&0===t?1:t+1,e)})).join(",")+"]"}var l=JSON.stringify(this.tolist(),s).replace(t,r).replace(a,o).replace(a,o).replace(n,i).slice(2,-1);switch(this.dtype){case"array":return"array(["+l+")";default:return"array(["+l+", dtype="+this.dtype+")"}},c.prototype.inspect=c.prototype.toString,c.prototype.toJSON=function(){return JSON.stringify(this.tolist())},c.prototype.clone=function(){var e=this.selection;return void 0===e.data.slice?new c(n([].slice.apply(e.data),e.shape,e.stride,e.offset)):new c(n(e.data.slice(),e.shape,e.stride,e.offset))},c.prototype.equal=function(e){if(e=_(e),this.size!==e.size||this.ndim!==e.ndim)return!1;for(var t=this.ndim,r=0;r<t;r++)if(this.shape[r]!==e.shape[r])return!1;return i.all(i.eqeq(this.selection,e.selection))},c.prototype.round=function(e){0===arguments.length&&(e=!0);var t=e?this.clone():this;return i.roundeq(t.selection),t},c.prototype.negative=function(){var e=this.clone();return i.neg(e.selection,this.selection),e},c.prototype.diag=function(){var e=this.ndim;if(1===e){var t=f.getType(this.dtype),r=[this.shape[0],this.shape[0]],n=new c(new t(f.shapeSize(r)),r);"array"===n.dtype&&i.assigns(n.selection,0);for(var a=0;a<this.shape[0];a++)n.set(a,a,this.get(a));return n}var o=this.shape,s=this.selection.stride,u=1<<30,l=0;for(a=0;a<e;++a)u=0|Math.min(u,o[a]),l+=s[a];return new c(this.selection.data,[u],[l],this.selection.offset)},c.prototype.iteraxis=function(e,t){var r=this.shape;if(-1===e&&(e=r.length-1),e<0||e>r.length-1)throw new l.ValueError("invalid axis");for(var n=0;n<r[e];n++){for(var i=new Array(e+1),a=0;a<e+1;a++)i[a]=a===e?n:null;t(_(y(this.selection.pick.apply(this.selection,i)),this.dtype),n)}};var h=e("cwise/lib/wrapper")({args:["array","array","array","array"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{var _inline_55_c=_inline_55_arg2_,_inline_55_f=_inline_55_arg3_,_inline_55_i=_inline_55_arg0_,_inline_55_o=_inline_55_arg1_,_inline_55_t=_inline_55_i*(_inline_55_c+_inline_55_f);_inline_55_arg0_=_inline_55_t-_inline_55_f*(_inline_55_i+_inline_55_o),_inline_55_arg1_=_inline_55_t+_inline_55_c*(_inline_55_o-_inline_55_i)}",args:[{name:"_inline_55_arg0_",lvalue:!0,rvalue:!0,count:2},{name:"_inline_55_arg1_",lvalue:!0,rvalue:!0,count:2},{name:"_inline_55_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_55_arg3_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:["_inline_55_c","_inline_55_f","_inline_55_i","_inline_55_o","_inline_55_t"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"cwise",blockSize:64}),d=e("cwise/lib/wrapper")({args:["array","array","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar",{offset:[-1,-1],array:1},{offset:[-1,0],array:1},{offset:[-1,1],array:1},{offset:[0,-1],array:1},{offset:[0,1],array:1},{offset:[1,-1],array:1},{offset:[1,0],array:1},{offset:[1,1],array:1}],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_58_arg0_=_inline_58_arg11_*_inline_58_arg10_+_inline_58_arg12_*_inline_58_arg9_+_inline_58_arg13_*_inline_58_arg8_+_inline_58_arg14_*_inline_58_arg7_+_inline_58_arg1_*_inline_58_arg6_+_inline_58_arg15_*_inline_58_arg5_+_inline_58_arg16_*_inline_58_arg4_+_inline_58_arg17_*_inline_58_arg3_+_inline_58_arg18_*_inline_58_arg2_}",args:[{name:"_inline_58_arg0_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_58_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_58_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_58_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_58_arg4_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_58_arg5_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_58_arg6_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_58_arg7_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_58_arg8_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_58_arg9_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_58_arg10_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_58_arg11_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_58_arg12_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_58_arg13_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_58_arg14_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_58_arg15_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_58_arg16_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_58_arg17_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_58_arg18_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"cwise",blockSize:64}),p=e("cwise/lib/wrapper")({args:["index","array","array","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar","scalar",{offset:[-2,-2],array:1},{offset:[-2,-1],array:1},{offset:[-2,0],array:1},{offset:[-2,1],array:1},{offset:[-2,2],array:1},{offset:[-1,-2],array:1},{offset:[-1,-1],array:1},{offset:[-1,0],array:1},{offset:[-1,1],array:1},{offset:[-1,2],array:1},{offset:[0,-2],array:1},{offset:[0,-1],array:1},{offset:[0,1],array:1},{offset:[0,2],array:1},{offset:[1,-2],array:1},{offset:[1,-1],array:1},{offset:[1,0],array:1},{offset:[1,1],array:1},{offset:[1,2],array:1},{offset:[2,-2],array:1},{offset:[2,-1],array:1},{offset:[2,0],array:1},{offset:[2,1],array:1},{offset:[2,2],array:1}],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{_inline_61_arg1_=_inline_61_arg0_[0]<2||_inline_61_arg0_[1]<2?0:_inline_61_arg28_*_inline_61_arg27_+_inline_61_arg29_*_inline_61_arg26_+_inline_61_arg30_*_inline_61_arg25_+_inline_61_arg31_*_inline_61_arg24_+_inline_61_arg32_*_inline_61_arg23_+_inline_61_arg33_*_inline_61_arg22_+_inline_61_arg34_*_inline_61_arg21_+_inline_61_arg35_*_inline_61_arg20_+_inline_61_arg36_*_inline_61_arg19_+_inline_61_arg37_*_inline_61_arg18_+_inline_61_arg38_*_inline_61_arg17_+_inline_61_arg39_*_inline_61_arg16_+_inline_61_arg2_*_inline_61_arg15_+_inline_61_arg40_*_inline_61_arg14_+_inline_61_arg41_*_inline_61_arg13_+_inline_61_arg42_*_inline_61_arg12_+_inline_61_arg43_*_inline_61_arg11_+_inline_61_arg44_*_inline_61_arg10_+_inline_61_arg45_*_inline_61_arg9_+_inline_61_arg46_*_inline_61_arg8_+_inline_61_arg47_*_inline_61_arg7_+_inline_61_arg48_*_inline_61_arg6_+_inline_61_arg49_*_inline_61_arg5_+_inline_61_arg50_*_inline_61_arg4_+_inline_61_arg51_*_inline_61_arg3_}",args:[{name:"_inline_61_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_61_arg1_",lvalue:!0,rvalue:!1,count:1},{name:"_inline_61_arg2_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg3_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg4_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg5_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg6_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg7_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg8_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg9_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg10_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg11_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg12_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg13_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg14_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg15_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg16_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg17_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg18_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg19_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg20_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg21_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg22_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg23_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg24_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg25_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg26_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg27_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg28_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg29_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg30_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg31_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg32_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg33_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg34_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg35_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg36_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg37_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg38_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg39_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg40_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg41_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg42_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg43_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg44_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg45_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg46_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg47_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg48_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg49_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg50_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_61_arg51_",lvalue:!1,rvalue:!0,count:1}],thisVars:[],localVars:[]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"cwise",blockSize:64});function _(e,t){if(e instanceof c)return e;var r=f.getType(t);if(f.isNumber(e))return new c(r!==Array?new r([e]):[e],[1]);var n=f.getShape(e);return n.length>1&&(e=f.flatten(e,!0)),e instanceof r||(e=new r(e)),new c(e,n)}function g(e,t){var r=0|e[t=t||0];if(r<=0)return[];var n,i=new Array(r);if(t===e.length-1)for(n=0;n<r;++n)i[n]=0;else for(n=0;n<r;++n)i[n]=g(e,t+1);return i}c.prototype.convolve=function(e){e=c.new(e);var t=this.ndim;if(t!==e.ndim)throw new l.ValueError("arrays must have the same dimensions");for(var r=new Array(t),n=new Array(t),i=this.selection,a=this.shape,o=e.selection,s=e.shape,u=0;u<t;u++){var h=a[u]-s[u]+1;if(h<0)throw new l.ValueError("filter cannot be greater than the array");r[u]=h,n[u]=-1}if(2===t&&3===s[0]&&3===s[1]){var _=new c(new Float32Array(f.shapeSize(a)),a);return d(_.selection,i,o.get(0,0),o.get(0,1),o.get(0,2),o.get(1,0),o.get(1,1),o.get(1,2),o.get(2,0),o.get(2,1),o.get(2,2)),_.lo(1,1).hi(r[0],r[1])}if(3===t&&1===s[2]&&1===a[2]&&3===s[0]&&3===s[1]){var g=new c(new Float32Array(f.shapeSize(a)),a);return d(g.selection.pick(null,null,0),i.pick(null,null,0),o.get(0,0,0),o.get(0,1,0),o.get(0,2,0),o.get(1,0,0),o.get(1,1,0),o.get(1,2,0),o.get(2,0,0),o.get(2,1,0),o.get(2,2,0)),g.lo(1,1).hi(r[0],r[1])}if(2===t&&5===s[0]&&5===s[1]){var v=new c(new Float32Array(f.shapeSize(a)),a);return p(v.selection,i,o.get(0,0),o.get(0,1),o.get(0,2),o.get(0,3),o.get(0,4),o.get(1,0),o.get(1,1),o.get(1,2),o.get(1,3),o.get(1,4),o.get(2,0),o.get(2,1),o.get(2,2),o.get(2,3),o.get(2,4),o.get(3,0),o.get(3,1),o.get(3,2),o.get(3,3),o.get(3,4),o.get(4,0),o.get(4,1),o.get(4,2),o.get(4,3),o.get(4,4)),v.lo(2,2).hi(r[0],r[1])}if(3===t&&1===s[2]&&1===a[2]&&5===s[0]&&5===s[1]){var y=new c(new Float32Array(f.shapeSize(a)),a);return p(y.selection,i,o.get(0,0,0),o.get(0,1,0),o.get(0,2,0),o.get(0,3,0),o.get(0,4,0),o.get(1,0,0),o.get(1,1,0),o.get(1,2,0),o.get(1,3,0),o.get(1,4,0),o.get(2,0,0),o.get(2,1,0),o.get(2,2,0),o.get(2,3,0),o.get(2,4,0),o.get(3,0,0),o.get(3,1,0),o.get(3,2,0),o.get(3,3,0),o.get(3,4,0),o.get(4,0,0),o.get(4,1,0),o.get(4,2,0),o.get(4,3,0),o.get(4,4,0)),y.lo(2,2).hi(r[0],r[1])}return this.fftconvolve(e)},c.prototype.fftconvolve=function(e){if(e=c.new(e),this.ndim!==e.ndim)throw new l.ValueError("arrays must have the same dimensions");var t,r=this.selection,a=e.selection,u=this.ndim,d=1,p=new Array(u),_=new Array(u),g=new Array(u);for(t=u-1;t>=0;--t)_[t]=r.shape[t],p[t]=d,d*=_[t],g[t]=r.shape[t]-a.shape[t]+1;var v=f.getType(r.dtype),y=new c(new v(f.shapeSize(g)),g),m=y.selection,b=s.mallocDouble(d),w=n(b,_,p,0);i.assigns(w,0),i.assign(w.hi.apply(w,r.shape),r);var x=s.mallocDouble(d),E=n(x,_,p,0);i.assigns(E,0),o(1,w,E);var A=s.mallocDouble(d),k=n(A,_,p,0);i.assigns(k,0),i.assign(k.hi.apply(k,a.shape),a);var S=s.mallocDouble(d),T=n(S,_,p,0);i.assigns(T,0),o(1,k,T),h(w,E,k,T),o(-1,w,E);var I,P=new Array(u),j=new Array(u),O=!1;for(t=0;t<u;++t)m.shape[t]>_[t]&&(O=!0),j[t]=a.shape[t]-1,P[t]=Math.min(m.shape[t],_[t]-j[t]);return O&&i.assign(m,0),I=(I=w.lo.apply(w,j)).hi.apply(I,P),i.assign(m.hi.apply(m,P),I),s.freeDouble(b),s.freeDouble(x),s.freeDouble(A),s.freeDouble(S),y},c.new=_,t.exports=c;var v=e("cwise/lib/wrapper")({args:["array","scalar","index"],pre:{body:"{}",args:[],thisVars:[],localVars:[]},body:{body:"{var _inline_64_a,_inline_64_e=_inline_64_arg1_;for(_inline_64_a=0;_inline_64_a<_inline_64_arg2_.length-1;++_inline_64_a)_inline_64_e=_inline_64_e[_inline_64_arg2_[_inline_64_a]];_inline_64_e[_inline_64_arg2_[_inline_64_arg2_.length-1]]=_inline_64_arg0_}",args:[{name:"_inline_64_arg0_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_64_arg1_",lvalue:!1,rvalue:!0,count:1},{name:"_inline_64_arg2_",lvalue:!1,rvalue:!0,count:4}],thisVars:[],localVars:["_inline_64_a","_inline_64_e"]},post:{body:"{}",args:[],thisVars:[],localVars:[]},debug:!1,funcName:"unpackCwise",blockSize:64});function y(e){var t=g(e.shape,0);return v(e,t),t}function m(e){return String(Number((e||0).toFixed(u.nFloatingValues)))}},{"./config":23,"./errors":25,"./utils":43,"cwise/lib/wrapper":7,ndarray:18,"ndarray-fft":13,"ndarray-gemm":15,"ndarray-ops":17,"typedarray-pool":21}],43:[function(e,t,r){"use strict";var n=e("./dtypes"),i=e("lodash");function a(e){return"number"==typeof e}function o(e){return"string"==typeof e}function s(e){return"function"==typeof e}function u(e,t,r){r=r||[];for(var n=-1,i=e.length;++n<i;){var o=e[n];a(o)?r[r.length]=o:t?u(o,t,r):r.push(o)}return r}function l(e){for(var t=1,r=0;r<e.length;r++)t*=e[r];return t}function f(e){return s(e)?e:n[e]||Array}function c(e){for(var t=[];"object"==typeof e;)t.push(e.length),e=e[0];return t}function h(e){var t;return"object"==typeof e?"object"==typeof(t=e[0])?"object"==typeof t[0]?c(e):[e.length,t.length]:[e.length]:[]}t.exports={isNumber:a,isString:o,isFunction:s,flatten:u,shapeSize:l,getType:f,getShape:h,defaults:i.defaults}},{"./dtypes":24,lodash:12}]},{},[41])(41)}()},641:t=>{"use strict";t.exports=e}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var a=r[e]={exports:{}};return t[e].call(a.exports,a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{"use strict";n.r(i),n.d(i,{addImageLoaderCache:()=>r,createImage:()=>l,default:()=>z,external:()=>k,generateSideImages:()=>C,getImageInImageLoaderCache:()=>t,imagePosition:()=>I,loadImage:()=>f,parseImageId:()=>P,register:()=>w,registerLoaders:()=>x,removeImageLoaderCache:()=>a,resetImageLoaderCache:()=>o});let e={};const t=t=>e[t],r=(t,r)=>{e[t]=r},a=t=>{const r=e[t];return r?(delete e[t],r):r},o=()=>{e={}};var s=n(641),u=n.n(s);const l=e=>{const r=t(e);return new Promise(((t,n)=>{const i=u().metaData.get("voiLutModule",e)||{},a=u().metaData.get("modalityLutModule",e)||{},o=u().metaData.get("sopCommonModule",e)||{};var s;a.modalityLUTSequence&&a.modalityLUTSequence.length>0&&("1.2.840.10008.5.1.4.1.1.12.1"!==(s=o.sopClassUID)&&"1.2.840.10008.5.1.4.1.1.12.2.1"!==s)&&(r.modalityLUT=a.modalityLUTSequence[0]),i.voiLUTSequence&&i.voiLUTSequence.length>0&&(r.voiLUT=i.voiLUTSequence[0]),t(r)}))},f=(e,t={})=>({promise:l(e)});var c=n(705),h=n.n(c);const d=function(e,t,r){const n=[],i=e.string(t);if(!i)return;const a=i.split("\\");if(!(r&&a.length<r)){for(let e=0;e<a.length;e++)n.push(parseFloat(a[e]));return n}};function p(e,t){if(e.elements[t]&&6===e.elements[t].length)return[e.uint16(t,0),e.uint16(t,1),e.uint16(t,2)]}function _(e,t,r){const n=[],i=e.elements[t];for(let a=0;a<r[0];a++)16===r[2]?n[a]=e.uint16(t,a):n[a]=e.byteArray[a+i.dataOffset];return n}const g=function(e){const t={samplesPerPixel:e.uint16("x00280002"),photometricInterpretation:e.string("x00280004"),rows:e.uint16("x00280010"),columns:e.uint16("x00280011"),bitsAllocated:e.uint16("x00280100"),bitsStored:e.uint16("x00280101"),highBit:e.uint16("x00280102"),pixelRepresentation:e.uint16("x00280103"),planarConfiguration:e.uint16("x00280006"),pixelAspectRatio:e.string("x00280034")};return function(e,t){0===e.uint16("x00280103")?(t.smallestPixelValue=e.uint16("x00280106"),t.largestPixelValue=e.uint16("x00280107")):(t.smallestPixelValue=e.int16("x00280106"),t.largestPixelValue=e.int16("x00280107"))}(e,t),"PALETTE COLOR"===t.photometricInterpretation&&e.elements.x00281101&&function(e,t){t.redPaletteColorLookupTableDescriptor=p(e,"x00281101"),t.greenPaletteColorLookupTableDescriptor=p(e,"x00281102"),t.bluePaletteColorLookupTableDescriptor=p(e,"x00281103"),0===t.redPaletteColorLookupTableDescriptor[0]&&(t.redPaletteColorLookupTableDescriptor[0]=65536,t.greenPaletteColorLookupTableDescriptor[0]=65536,t.bluePaletteColorLookupTableDescriptor[0]=65536);const r=t.redPaletteColorLookupTableDescriptor[0],n=e.elements.x00281201.length===r?8:16;t.redPaletteColorLookupTableDescriptor[2]!==n&&(t.redPaletteColorLookupTableDescriptor[2]=n,t.greenPaletteColorLookupTableDescriptor[2]=n,t.bluePaletteColorLookupTableDescriptor[2]=n),t.redPaletteColorLookupTableData=_(e,"x00281201",t.redPaletteColorLookupTableDescriptor),t.greenPaletteColorLookupTableData=_(e,"x00281202",t.greenPaletteColorLookupTableDescriptor),t.bluePaletteColorLookupTableData=_(e,"x00281203",t.bluePaletteColorLookupTableDescriptor)}(e,t),t};function v(e,t){let r=t.uint16("x00283002",0);0===r&&(r=65535);let n=0;n=0===e?t.uint16("x00283002",1):t.int16("x00283002",1);const i={id:"1",firstValueMapped:n,numBitsPerEntry:t.uint16("x00283002",2),lut:[]};for(let n=0;n<r;n++)i.lut[n]=0===e?t.uint16("x00283006",n):t.int16("x00283006",n);return i}const y=function(e,t){if(!t||!t.items||!t.items.length)return;const r=[];for(let n=0;n<t.items.length;n++){const i=v(e,t.items[n].dataSet);i&&r.push(i)}return r};const m=function(e){const t=e.string("x00080016");if("1.2.840.10008.5.1.4.1.1.2"===t||"1.2.840.10008.5.1.4.1.1.2.1"===t)return 1;const r=e.floatString("x00281052"),n=e.floatString("x00281053");if(void 0!==r&&void 0!==n){return function(e){const t=e.uint16("x00280103"),r=e.uint16("x00280101");return 0===t?0:-1<<r-1}(e)*n+r<0?1:0}return e.elements.x00283000&&e.elements.x00283000.length>0?0:e.uint16("x00280103")};const b=function(e,r){const n=t(r);if(!n)return;const i=n.data;if(i){if("generalSeriesModule"===e)return{modality:i.string("x00080060"),seriesInstanceUID:i.string("x0020000e"),seriesNumber:i.intString("x00200011"),studyInstanceUID:i.string("x0020000d"),seriesDate:h().parseDA(i.string("x00080021")),seriesTime:h().parseTM(i.string("x00080031")||"")};if("patientStudyModule"===e)return{patientAge:i.intString("x00101010"),patientSize:i.floatString("x00101020"),patientWeight:i.floatString("x00101030")};if("imagePlaneModule"===e)return{frameOfReferenceUID:n.frameOfReferenceUID,rows:n.rows,columns:n.columns,imageOrientationPatient:n.imageOrientationPatient,rowCosines:n.rowCosines,columnCosines:n.columnCosines,imagePositionPatient:n.imagePositionPatient,sliceThickness:n.sliceThickness,sliceLocation:n.sliceLocation,pixelSpacing:n.pixelSpacing,rowPixelSpacing:n.rowPixelSpacing,columnPixelSpacing:n.columnPixelSpacing,view:n.view,cosineRatio:n.cosineRatio};if("imagePixelModule"===e)return g(i);if("modalityLutModule"===e)return{rescaleIntercept:i.floatString("x00281052"),rescaleSlope:i.floatString("x00281053"),rescaleType:i.string("x00281054"),modalityLUTSequence:y(i.uint16("x00280103"),i.elements.x00283000)};if("voiLutModule"===e){const e=m(i);return{windowCenter:d(i,"x00281050",1),windowWidth:d(i,"x00281051",1),voiLUTSequence:y(e,i.elements.x00283010)}}if("sopCommonModule"===e)return{sopClassUID:i.string("x00080016"),sopInstanceUID:i.string("x00080018")};if("petIsotopeModule"===e){const e=i.elements.x00540016;if(void 0===e)return;const t=e.items[0].dataSet;return{radiopharmaceuticalInfo:{radiopharmaceuticalStartTime:h().parseTM(t.string("x00181072")||""),radionuclideTotalDose:t.floatString("x00181074"),radionuclideHalfLife:t.floatString("x00181075")}}}return"overlayPlaneModule"===e?function(e){const t=[];for(let r=0;r<=30;r+=2){let n=`x60${r.toString(16)}`;4===n.length&&(n=`x600${r.toString(16)}`);const i=e.elements[`${n}3000`];if(!i)continue;const a=[];for(let t=0;t<i.length;t++)for(let r=0;r<8;r++){const n=e.byteArray[i.dataOffset+t];a[8*t+r]=n>>r&1}t.push({rows:e.uint16(`${n}0010`),columns:e.uint16(`${n}0011`),type:e.string(`${n}0040`),x:e.int16(`${n}0050`,1)-1,y:e.int16(`${n}0050`,0)-1,pixelData:a,description:e.string(`${n}0022`),label:e.string(`${n}1500`),roiArea:e.string(`${n}1301`),roiMean:e.string(`${n}1302`),roiStandardDeviation:e.string(`${n}1303`)})}return{overlays:t}}(i):void 0}};function w(e){e.registerImageLoader("coronal",f),e.registerImageLoader("sagittal",f),e.metaData.addProvider(b)}const x=function(e){w(e)};let E,A;const k={set cornerstone(e){E=e,x(E)},get cornerstone(){if(!E){if(!window||!window.cornerstone)throw new Error("cornerstoneWADOImageLoader requires a copy of Cornerstone to work properly. Please add cornerstoneWADOImageLoader.external.cornerstone = cornerstone; to your application.");E=window.cornerstone,x(E)}return E},set dicomParser(e){A=e},get dicomParser(){if(!A){if(!window||!window.dicomParser)throw new Error("cornerstoneWADOImageLoader requires a copy of dicomParser to work properly. Please add cornerstoneWADOImageLoader.external.dicomParser = dicomParser; to your application.");A=window.dicomParser}return A}};var S=n(711);const T=(e,t,r)=>(r?e.dot(S.array([0,t,0,1])):e.dot(S.array([t,0,0,1]))).tolist(),I=(e,t,r,n)=>{const i=[],a=[],o=((e,t,r)=>{const n=t[0],i=t[1],a=e.slice(0,3),o=e.slice(3),s=S.array([...a.map((e=>e*i)),0]),u=S.array([...o.map((e=>e*n)),0]),l=S.zeros([4]),f=S.array([...r,1]);return S.array([s.tolist(),u.tolist(),l.tolist(),f.tolist()]).transpose()})(e,t,r);for(let e=0;e<n;e+=1)i.push(T(o,e,!0));for(let e=0;e<n;e+=1)a.push(T(o,e,!1));return{coronal:i,sagittal:a}};const P=function(e){const t=e.indexOf(":");let r=e.substring(t+1);const n=r.indexOf("frame=");let i;if(-1!==n){const e=r.substr(n+6);i=parseInt(e,10),r=r.substr(0,n-1)}return{scheme:e.substr(0,t),url:r,frame:i}};var j,O=new Uint8Array(16);function D(){if(!j&&!(j="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return j(O)}const L=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const R=function(e){return"string"==typeof e&&L.test(e)};for(var B=[],U=0;U<256;++U)B.push((U+256).toString(16).substr(1));const M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(B[e[t+0]]+B[e[t+1]]+B[e[t+2]]+B[e[t+3]]+"-"+B[e[t+4]]+B[e[t+5]]+"-"+B[e[t+6]]+B[e[t+7]]+"-"+B[e[t+8]]+B[e[t+9]]+"-"+B[e[t+10]]+B[e[t+11]]+B[e[t+12]]+B[e[t+13]]+B[e[t+14]]+B[e[t+15]]).toLowerCase();if(!R(r))throw TypeError("Stringified UUID is invalid");return r};const N=function(e,t,r){var n=(e=e||{}).random||(e.rng||D)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return M(n)},F=e=>{const{rows:t,columns:r,bitsAllocated:n,pixelRepresentation:i}=e;return 32===n?new Float32Array(t*r):16===n?0===i?new Uint16Array(t*r):new Int16Array(t*r):new Uint8Array(t*r)},C=e=>{if(e.length<=0)return null;const t=e[Math.floor(e.length/2)],n=e[0],i=e[e.length-1],a=e.map((e=>e.getPixelData())),o=e.length,s=n.columns,u={color:n.color,columnPixelSpacing:n.columnPixelSpacing,columns:n.columns,height:o,intercept:n.intercept,invert:n.invert,minPixelValue:t.minPixelValue,maxPixelValue:t.maxPixelValue,rowPixelSpacing:n.rowPixelSpacing*(s/o),rows:o,sizeInBytes:a[0].length,slope:n.slope,width:n.columns,windowCenter:n.windowCenter,windowWidth:n.windowWidth,decodeTimeInMS:n.decodeTimeInMS,floatPixelData:void 0,frameOfReferenceUID:n.data.string("x00200052"),sliceThickness:n.data.floatString("x00180050"),sliceLocation:n.data.floatString("x00201041"),bitsAllocated:n.data.uint16("x00280100"),pixelRepresentation:n.data.uint16("x00280103"),data:n.data},l=d(n.data,"x00200037",6),f=d(n.data,"x00280030",2),c=d(n.data,"x00200032",3),h=d(i.data,"x00200032",3)[2]-c[2],p=Math.abs(h/(o*u.rowPixelSpacing)),_=I(l,f,c,s);u.pixelSpacing=f,u.imageOrientationPatient=l,u.rowCosines=l.slice(0,3),u.columnCosines=l.slice(3);return{coronalImageIds:((e,t,n,i,a)=>{const o=[],{rows:s,columns:u}=t;for(let s=0;s<u;s+=1){const l=`coronal://${N()}`;o.push(l);let f=0;const c=F(t);for(let t=0;t<i;t+=1)for(let r=0;r<u;r+=1){const n=u*s+r;c[f++]=e[t][n]}const h=[1,0,0,0,0,-1],d=h.slice(0,3),p=h.slice(3).map((e=>e*a)),_={...t,imageId:l,rowCosines:d,columnCosines:p,imageOrientationPatient:h,imagePositionPatient:n[s],getPixelData:()=>c,originalHeight:i,view:"coronal",cosineRatio:a};r(l,_)}return o})(a,u,_.coronal,o,p),sagittalImageIds:((e,t,n,i,a)=>{const o=[],{rows:s,columns:u}=t;for(let s=u-1;s>=0;s-=1){const l=`sagittal://${N()}`;o.push(l);let f=0;const c=F(t);for(let t=0;t<i;t+=1)for(let r=0;r<u;r+=1){const n=r*u+s;c[f++]=e[t][n]}const h=[0,1,0,0,0,-1],d=h.slice(0,3),p=h.slice(3).map((e=>e*a)),_={...t,imageId:l,rowCosines:d,columnCosines:p,imageOrientationPatient:h,imagePositionPatient:n[s],getPixelData:()=>c,originalHeight:i,view:"sagittal",cosineRatio:a};r(l,_)}return o})(a,u,_.sagittal,o,p)}},z={createImage:l,external:k,imagePosition:I,loadImage:f,parseImageId:P,register:w,registerLoaders:x,generateSideImages:C,getImageInImageLoaderCache:t,addImageLoaderCache:r,removeImageLoaderCache:a,resetImageLoaderCache:o}})(),i})()}));